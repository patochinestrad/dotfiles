(self.webpackChunk=self.webpackChunk||[]).push([[8813],{48643:(e,t,n)=>{n.d(t,{EJ:()=>F,T9:()=>S,l5:()=>D});var r,o=n(59312),i=n(27378),a=n(71249),s=n(40327),u=n(32952),l=n(44586),p=n(38983),c=n(5739),d=n(93508),h=n(77176),f=n(16118),v=n(98403),_=n(76974),m=n(24209),y=n(38062),b=n(50628),w=n(80900),x=n(17343),g=n(60797),E=n(69935),C=n(19751),k=n(5114),P=n(8125),D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._state=t.props.state.pipe(d.O(void 0),h.U((function(e,t){return{state:e,key:t}})),f.G(),h.U((function(e){var n=e[0],r=e[1],o=t.props.stateToClassMapper(n.state,r.state);return{prev:{key:n.key,state:n.state,view:A(o.prev)},next:{key:r.key,state:r.state,view:A(o.next)}}}))),t._elements=p.h.create(r.empty),t._done=new u.xQ,t._subs=[],t}return(0,o.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props.children;this._subs.push(this._state.pipe(h.U((function(n){var o=n.prev,i=n.next,a=t;return void 0===t?r.empty:[(0,s.pipe)(o.state,k.fromNullable,k.map((function(t){return a({state:t,view:o.view,type:"prev",done:function(){return e._done.next("prev")}})})),k.chain(k.fromNullable),k.map((function(e){return{key:o.key,entry:e}}))),(0,s.pipe)(a({state:i.state,view:i.view,type:"next"}),k.fromNullable,k.map((function(e){return{key:i.key,entry:e}})))]}))).subscribe(v.wW(this._elements)),this._done.subscribe((function(t){"prev"===t&&e._elements.modify((function(e){e[0];var t=e[1];return[k.none,t]})),"next"===t&&e._elements.set(r.empty)})))},t.prototype.componentWillUnmount=function(){this._subs.forEach((function(e){return e.unsubscribe()})),this._subs=[]},t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=e.onMount,o=e.onMouseDown;return t?i.createElement(c.F.div,{className:n,mount:r,onMouseDown:o},this._elements.view(a.IX.compact).view((function(e){return e.map((function(e){return i.createElement(i.Fragment,{key:e.key},e.entry)}))}))):null},t}(i.Component),F=function(e){return{start:e,end:e}};function A(e){var t=e.start,n=e.end;return l.y.create((function(e){e.next(t);var r=requestAnimationFrame((function(){return requestAnimationFrame((function(){return e.next(n)}))}));return function(){return cancelAnimationFrame(r)}}))}!function(e){e.empty=[k.none,k.none]}(r||(r={}));var S=function(e){var t=e.content.pipe(h.U((function(t){return{className:e.classes.rendered,el:t,onTransitionEnd:P.Q1}})),h.U(k.some),d.O(k.none),f.G(),h.U((function(t){var n=t[0],r=t[1];return(0,s.pipe)(n,k.fold((function(){return k.map(_.of)(r)}),(function(t){return(0,s.pipe)(r,k.map((function(n){var r=new u.xQ;return m.T(_.of({className:e.classes.removing,el:t.el,onTransitionEnd:function(){return r.next()}}),y.S3(r.pipe(b.P()),w.H(e.timeout)).pipe(x.h(n)))})))})))})),g.oA,E.B(),C.shareReplay({refCount:!0,bufferSize:1}));return i.createElement(c.F.div,{className:t.pipe(h.U((function(e){return e.className}))),onTransitionEnd:t.pipe(h.U((function(e){return e.onTransitionEnd})))},t.pipe(h.U((function(e){return e.el}))))}},18813:(e,t,n)=>{n.d(t,{L:()=>W});var r=n(59312),o=n(27378),i=n(40327),a=n(32952),s=n(38983),u=n(5739),l=n(12187),p=n(16118),c=n(66310),d=n(80900),h=n(17343),f=n(76974),v=n(95093),_=n(77176),m=n(28043),y=n(2834),b=n(38194),w=n(93508),x=n(598),g=n(2844),E=n(98403),C=n(24713),k=n(50628),P=n(18208),D=n(19962),F=n(5114),A=n(22232),S=n(8125),T=n(48643),M=n(99094),N=n(33678),H=n(101),U=n(90845),B=n(67992),R=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.__extends)(t,e),t}(T.l5),W=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n._uuid=P.alphanumeric(12),n._initialState=!1,n._hovered=s.h.create(n._initialState),n._hidden=s.h.create(!n._initialState),n._listPosState=s.h.create({}),n._dropdownEl=null,n._subs=[],n._viewport=s.h.create(D.Rect.empty),n._labelRef=o.createRef(),n.hovered=n._hovered.pipe(p.G(),c.w((function(e){var r=e[0];return e[1]?d.H(n.props.showDelay).pipe(h.h(!0)):r?d.H(void 0===n.props.closeDelay?t.defaultProps.closeDelay:n.props.closeDelay).pipe(h.h(!1)):f.of(!1)})),v.T(t._hoveredForce.pipe(_.U(F.exists((function(e){return e===n._uuid}))))),m.x(),y.b((function(e){return e&&t._hoveredForce.next(F.some(n._uuid))})),y.b((function(e){return e&&n._hidden.set(!1)})),b.B(),w.O(n._initialState)),n._handleClickForAppearanceHover=function(e){var r=e.target;if(!D.isDisabled(r)&&!0!==n.props.dontCloseOnClickInside){var o=!D.hasParentWithClassName(r,B.P.list);t._hoveredForce.next(o?F.some(n._uuid):F.none),n._hovered.set(o)}},n._handleMouseEnterForAppearanceHover=function(){n._hovered.set(!0)},n._handleClickForAppearanceClick=function(e,t){t&&!e.isTrusted||(n._hovered.get()?n._handleClickForAppearanceHover(e):n._hovered.set(!0))},n._handleMouseEnterForAppearanceClick=function(e){var r=e.target;D.hasParentWithClassName(r,B.P.list)&&(t._hoveredForce.next(F.some(n._uuid)),n._hovered.set(!0))},n._handleLabelKeyDownForAppearance=function(e){"Enter"!==e.key&&" "!==e.key||(n._hovered.set(!0),e.preventDefault())},n}return(0,r.__extends)(t,e),t.prototype._getHAlign=function(e){switch(e){case"left":case"auto":return{left:"0"};case"right":return{right:"0"};case"center":var t=this._dropdownEl?this._dropdownEl.offsetWidth:0;return{right:"50%",marginRight:"-".concat(t/2,"px")};default:return(0,A.vE)(e)}},t.prototype._getVAlign=function(e){switch(e){case"top":return{bottom:"100%"};case"bottom":case"auto":return{top:"100%"};default:return(0,A.vE)(e)}},t.prototype.calcDropdownPosition=function(){var e=this,t=this.props.align,n=this.props.vAlign;this._listPosState.set((0,r.__assign)((0,r.__assign)({},this._getHAlign(t)),this._getVAlign(n)));var o="auto"===t,i="auto"===n;(o||i)&&requestAnimationFrame((function(){if(e._dropdownEl){var a=e._viewport.get(),s=e._dropdownEl.getBoundingClientRect();e._listPosState.set((0,r.__assign)((0,r.__assign)({},e._getHAlign(o?a.right<s.right?"right":"left":t)),e._getVAlign(i?a.bottom<s.bottom?"top":"bottom":n)))}}))},t.prototype.componentDidMount=function(){var e=this;this._subs.push(this.hovered.pipe(y.b((function(t){e.props.onVisibilityChange&&e.props.onVisibilityChange(t)})),x.c((0,i.pipe)(F.fromNullable(this.props.customPosition),F.fold((function(){return f.of(F.none)}),(function(e){var t=e.top,n=e.left;return g.aj(E.Dx(t),E.Dx(n)).pipe(_.U(F.some))}))))).subscribe(F.fold((function(){return e.calcDropdownPosition()}),(function(t){var n=t[0],r=t[1];return e._listPosState.set({top:n,left:r})}))),this.context.pipe(C.j("rect")).subscribe(E.wW(this._viewport))),this.props.forceHide&&this._subs.push(this._hidden.pipe(c.w(E.wX(this.props.forceHide.pipe(k.P())))).subscribe((function(){return e._hidden.set(!0)})))},t.prototype.componentWillUnmount=function(){this._subs.forEach((function(e){return e.unsubscribe()})),this._subs=[]},t.prototype.componentWillReciveProps=function(){this.calcDropdownPosition()},t.prototype.mapStateToClass=function(e,t){var n={start:"",end:""};return t?{prev:n,next:{start:B.P.transparent,end:""}}:{prev:{start:"",end:B.P.transparent},next:n}},t.prototype._behavior=function(e){var t=this;return"mouseClick"===this.props.appearanceBehavior?{onClickCapture:function(n){return t._handleClickForAppearanceClick(n,e)},onMouseEnter:this._handleMouseEnterForAppearanceClick,onMouseLeave:function(){return t._hovered.set(t._initialState)}}:{onClickCapture:this._handleClickForAppearanceHover,onMouseEnter:this._handleMouseEnterForAppearanceHover,onMouseLeave:function(){return t._hovered.set(t._initialState)}}},t.prototype._labelBehavior=function(){return{onKeyDown:this._handleLabelKeyDownForAppearance}},t.prototype._attachDropdownElementBehavior=function(){var e,t=this;null===(e=this._dropdownEl)||void 0===e||e.addEventListener("keydown",(function(e){var n;"Escape"===e.key&&(t._hovered.set(t._initialState),e.preventDefault(),e.stopPropagation(),(null===(n=t._labelRef.current)||void 0===n?void 0:n.firstChild)&&setTimeout((function(){var e,n;return null===(n=null===(e=t._labelRef.current)||void 0===e?void 0:e.firstChild)||void 0===n?void 0:n.focus()}),0))}))},t.prototype._handleDropdownElementMount=function(e){this._dropdownEl=e,this._attachDropdownElementBehavior()},t.prototype.render=function(){var e=this,t=this.props,n=t.label,i=t.id,a=t.name,s=t.ariaLabelledBy,p=t.theme,c=void 0===p?{}:p,d=Boolean(i)?"label-".concat(a,"-").concat(i):"label-".concat(a),h=Boolean(i)?"list-".concat(a,"-").concat(i):"list-".concat(a);return o.createElement(N.a.Context.Consumer,null,(function(t){return o.createElement(M.f.Context.Consumer,null,(function(i){return o.createElement(M.f.Context.Provider,{value:M.f.withValue(i,{hovered:e._hovered})},o.createElement(u.F.div,(0,r.__assign)({role:"combobox"},(0,l.Sh)(B.P.wrapper,c.dropdownContainer),e._behavior(t.has(N.a.Flag.onlyTrustedEvents)),{"aria-haspopup":"listbox","aria-labelledby":null!=s?s:d,"aria-expanded":E.U_(e._hidden),"aria-controls":h}),o.createElement("label",(0,r.__assign)({id:d},e._labelBehavior(),{ref:e._labelRef}),n),o.createElement(R,{state:e.hovered,stateToClassMapper:e.mapStateToClass},(function(t){return t.state?o.createElement(u.F.div,null,e._hidden.view((function(n){return o.createElement(L,(0,r.__assign)({id:h,key:"list",name:e.props.name,onTransitionEnd:"prev"===t.type?function(){return e._hidden.set(!0)}:S.Q1},(0,l.Sh)(c.dropdownList,t.view),{mount:e._handleDropdownElementMount.bind(e),style:e._listPosState,hidden:n,activeDescendantId:e.props.activeDescendantId}),e.props.children)}))):null}))))}))}))},t.defaultProps={align:"auto",vAlign:"auto",showDelay:500,closeDelay:500,appearanceBehavior:"mouseHover"},t.Delimiter=function(){return o.createElement("div",{className:B.P.delimiter})},t._hoveredForce=new a.xQ,t.contextType=H.l.Context,t}(o.PureComponent),L=function(e){var t=U.P.useElWatcher(),n=t.ref,i=t.onMount;return U.P.FocusTrap.useFocusTrap(n),o.createElement(M.f.Context.Consumer,null,(function(t){var n=M.f.emptyWithName("".concat(void 0!==t.name?"".concat(t.name,"/"):"","dropdown-").concat(e.name));return o.createElement(M.f.Context.Provider,{value:n},o.createElement(u.F.div,(0,r.__assign)({id:e.id},(0,l.Sh)(e.className,!0===e.hidden?B.P.hidden:B.P.list),{style:e.style,mount:function(t){i(t),void 0!==e.mount&&e.mount(t)},role:"listbox","aria-labelledby":e.ariaLabelledBy,"data-role":"dropdown-list","data-name":"dropdown-"+e.name,"aria-activedescendant":e.activeDescendantId,onTransitionEnd:e.onTransitionEnd}),e.children))}))}},67992:(e,t,n)=>{n.d(t,{P:()=>u});var r=n(44060),o=n(89894),i=n(32096),a={position:"absolute",zIndex:i.VN,display:"flex",flexDirection:"column",margin:"".concat(o.ux.rem(.5)," 0"),padding:"".concat(o.ux.rem(.5)," 0"),minWidth:o.ux.percent(100),borderRadius:o.ux.rem(i.Jr),background:r.Il.CoreNeutral0,boxShadow:r.uc.Z200,opacity:1,transition:"opacity .2s"},s={margin:o.ux.rem(.5),height:o.ux.px(1),backgroundColor:r.Il.CoreNeutral20},u={wrapper:o.ux.style({position:"relative"}),list:o.ux.style(a),transparent:o.ux.style({opacity:0}),hidden:o.ux.style({display:"none"}),delimiter:o.ux.style(s)}}}]);