(self.webpackChunk=self.webpackChunk||[]).push([[7927],{46560:(e,t,n)=>{n.d(t,{B:()=>a});var i=n(27378);const a=({title:e,titleId:t,desc:n,descId:a,...r})=>i.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":a,...r},n?i.createElement("desc",{id:a},n):null,e?i.createElement("title",{id:t},e):null,i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.646 7.646a.5.5 0 0 1 .708 0L12 11.293l3.646-3.647a.5.5 0 0 1 .708.708L12.707 12l3.647 3.646a.5.5 0 0 1-.708.708L12 12.707l-3.646 3.647a.5.5 0 0 1-.708-.708L11.293 12 7.646 8.354a.5.5 0 0 1 0-.708Z",fill:"#646B81"}))},17579:(e,t,n)=>{n.d(t,{N:()=>a});var i=n(27378);const a=({title:e,titleId:t,desc:n,descId:a,...r})=>i.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":a,...r},n?i.createElement("desc",{id:a},n):null,e?i.createElement("title",{id:t},e):null,i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 6a2 2 0 0 0-2 2v2h4V8a2 2 0 0 0-2-2Zm3 4V8a3 3 0 1 0-6 0v2H6.5a.5.5 0 0 0-.5.5v8a.5.5 0 0 0 .5.5h11a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.5H15Zm-8 1v7h10v-7H7Z",fill:"#646B81"}))},68854:(e,t,n)=>{n.d(t,{s_:()=>et,Dj:()=>U,tk:()=>je,Gi:()=>h,qA:()=>Ad,XR:()=>Id});var i=n(5114),a=n(57050),r=n(14601),o=n(2768),s=n(85985),l=n(2834),c=n(49708),d=n(38983),u=n(13004);function m(e){return(0,a.zG)(e,i.fromPredicate((e=>"initial"===e.kind||"dragged"===e.kind)))}class p{constructor(e,t){this._positionInfo=e,this._handlers=t,this._internalState=d.h.create({managedPositionInfo:i.none,assistant:i.none,dragState:i.none,assistantMaxHeight:i.none}),this.state=this._internalState.view((e=>(0,a.zG)(e.dragState,i.map((t=>{return n=t,i=e.assistantMaxHeight,{kind:"dragged",dragging:n.dragging,referencePosition:n.translationOrigin,assistantMaxHeight:i,translation:(0,u.NN)(Object.assign(Object.assign({},n.assistantSize),{top:n.viewportSize.height-n.translationOrigin.bottom-n.assistantSize.height,left:n.viewportSize.width-n.translationOrigin.right-n.assistantSize.width}),Object.assign({left:0,top:0},n.viewportSize))(n.translation)};var n,i})),i.alt((()=>(0,a.zG)(e.managedPositionInfo,i.map((t=>({kind:"initial",referenceElement:t.referenceElement,placement:t.placement,offset:t.offset,assistantMaxHeight:e.assistantMaxHeight})))))),i.getOrElse((()=>({kind:"none"})))))),this._subs=new r.w,this._subs.add(this._positionInfo.pipe(o.R(this._internalState.view("dragState").pipe(s.h(i.isSome))),l.b((e=>this._internalState.lens("managedPositionInfo").set(i.some(e))))).subscribe()),this._subs.add(c.R(self,"resize").pipe(l.b((()=>this._internalState.lens("dragState").modify(i.map(u.eG.set("viewportSize",(0,a.zG)((0,u.C7)(),(({width:e,height:t})=>({width:e,height:t}))))))))).subscribe())}onFocusChange(e){this._handlers.onFocusChange(e)}onMount(e){this._internalState.lens("assistant").set(i.some(e))}onResize(e){this._internalState.lens("dragState").modify(i.map(u.eG.set("assistantSize",(0,a.zG)(e,(({width:e,height:t})=>({width:e,height:t}))))))}onMaxHeightChange(e){this._internalState.lens("assistantMaxHeight").set(i.some(e))}onDrag(e){this._internalState.modify((t=>Object.assign(Object.assign({},t),{dragState:(0,a.zG)(t.dragState,i.map((0,a.ls)(u.eG.set("translation",e),u.eG.set("dragging",!0))),i.alt((()=>(0,a.zG)(t.assistant,i.map((e=>({assistantRect:e.getBoundingClientRect(),viewportSize:(0,a.zG)((0,u.C7)(),(({width:e,height:t})=>({width:e,height:t})))}))),i.map((({assistantRect:t,viewportSize:n})=>({dragging:!0,viewportSize:n,assistantSize:{width:t.width,height:t.height},translation:e,translationOrigin:{bottom:n.height-(t.top+t.height),right:n.width-(t.left+t.width)}})))))))})))}onDragEnd(){this._internalState.lens("dragState").modify(i.map(u.eG.set("dragging",!1)))}dispose(){this._subs.unsubscribe()}}var h,f=n(17771),g=n(95195),x=n(45701),b=n(64015),y=n(17889),v=n(24209),C=n(60797),k=n(77176),S=n(19751),w=n(78674),E=n(98403),O=n(83078),_=n(4283),B=n(50685),N=n(40327),G=n(73975);function I(e){return(0,a.zG)(_.z_.toStarted(e),i.filter((e=>(0,a.zG)(e.context.specialView,O.forAll((({kind:e})=>"aiUsageAlert"!==e))))),i.map((e=>e.context.availableActions)),i.chain(y.c2))}function P(e,t){return(0,a.zG)(_.z_.toStarted(e),i.map((e=>A(t).map((t=>{var n;return(0,a.zG)(null!==(n=e.detectedReferences.get(t))&&void 0!==n?n:i.none,i.toUndefined)})).filter((e=>!!e)))),i.getOrElse((0,a.a9)([])))}function A(e){return e.split(/\s/).filter((e=>e.length>3&&e.includes(".")))}!function(e){e.eq=g.getEq(G.yv,_.x4.Id.eq),e.card=function(e){return g.right(e)},e.uiItem=function(e){return g.left(e)},e.toCard=function(e){return i.fromEither(e)},e.toUIItem=function(e){return(0,N.pipe)(e,g.fold(i.some,(()=>i.none)))}}(h||(h={}));var U,z,T=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]])}return n};!function(e){let t;!function(e){e.make=function(e){return{kind:"backendAction",action:e}},e.ordByActionStore=x.contramap((e=>e.action.store.rank))(x.ordNumber)}(t=e.BackendAction||(e.BackendAction={}))}(U||(U={})),function(e){e.create=function(){return{textBox:"",selectedAction:i.none,contentOverflowUnderToolbar:!1,promptAutofocusToken:0,cardsState:{hoveredCard:i.none,focusedCard:i.none},reportMenuVisible:i.none,referencesVisibility:new Map,detectedReferences:[],overrideCardVoice:new Map}}}(z||(z={}));class R{constructor(e){var t,n;this._params=e,this._logger=null!==(t=this._params.logger)&&void 0!==t?t:new B.WQ(R.name),this._monitoringService=null!==(n=this._params.monitoringService)&&void 0!==n?n:B.gz.getInstance(),this._state=d.h.create(z.create()),this._subs=new r.w,this._reportMenuVisibleDebounced=d.h.create(i.none),this._router=this._params.router,this.state=d.h.combine(this._state,this._params.userService.user,this._params.availabilityService.availability,this._params.sessionService.session,this._reportMenuVisibleDebounced,((e,t,n,r,o)=>{var{cardsState:s,reportMenuVisible:l,textBox:c}=e,d=T(e,["cardsState","reportMenuVisible","textBox"]);return Object.assign(Object.assign({},d),{textBox:c,user:t,availability:n,session:r,userPromptAction:(0,a.zG)(_.z_.toStarted(r),i.chain((e=>e.context.userPromptAction))),activeCards:new Set((0,a.zG)([s.hoveredCard,(0,a.zG)(s.focusedCard,O.orElse((0,a.zG)(o,i.chain(h.toCard))))],b.oA)),canScroll:i.isNone(l),contextualActions:I(r),detectedReferences:P(r,c)})})),this._subs.add(this.state.subscribe((e=>this._logger.debug("State update",e)))),this._subs.add(this._updateActiveView().subscribe()),this._subs.add(v.T(this._state.view("reportMenuVisible").pipe(C.oA,k.U(i.some)),this._state.view("reportMenuVisible").pipe(S.skipBy(i.getEq(h.eq)),w.b(250),s.h(i.isNone))).subscribe(E.wW(this._reportMenuVisibleDebounced))),this._subs.add(this._params.router.activeView.subscribe((()=>this._state.modify((0,a.ls)(u.eG.set("reportMenuVisible",i.none),u.eG.set("cardsState",{hoveredCard:i.none,focusedCard:i.none})))))),this._subs.add(this._params.assistantUIActions.subscribe((e=>this._handleUIAction(e))))}contentOverflowUnderToolbar(e){this._state.lens("contentOverflowUnderToolbar").set(e)}focusPromptField(){this._state.lens("promptAutofocusToken").modify((e=>e+1))}dispose(){this._subs.unsubscribe()}_updateActiveView(){return v.T(this._params.sessionService.session.view((0,a.ls)(_.z_.toStarting,i.chain((e=>e.error)),O.tap((()=>this._router.replace("loadingError"))))),this._state.view("selectedAction").pipe(C.oA,l.b((()=>this._router.push("actionSelected")))),this._params.sessionService.session.view((0,a.ls)(_.z_.toStarted,i.filter((()=>i.isNone(this._state.get().selectedAction))),i.map((e=>e.results.length>0||i.isSome(e.inProgressResult)||_.wR.isKnowledgeHub(e.mode))),O.tap((e=>this._router.replace(e?"afterResults":"beforeResults"))))))}_handleUIAction(e){switch(e.kind){case _.ix.Kind.toolbarCloseButtonClick:return void this._close(e);case _.ix.Kind.toolbarGoBackButtonClick:return this._goBack();case _.ix.Kind.promptFieldTextChange:return this._updateTextBox(e.text);case _.ix.Kind.actionBrickClick:return this._executeAction(e.action);case _.ix.Kind.promptSubmitButtonClick:return this._go(i.none);case _.ix.Kind.userPromptSubmit:return this._go(i.some(e.prompt));case _.ix.Kind.generateStopButtonClick:return this._stop();case _.ix.Kind.resultCardInsertButtonClick:return this._insert(e.result,e.selectedVoice);case _.ix.Kind.resultCardRephraseButtonClick:return this._rephrase(e.result,e.selectedVoice);case _.ix.Kind.resultCardDismissButtonClick:return this._dismissResult(e.result);case _.ix.Kind.errorCardOkButtonClick:return this._dismissError();case _.ix.Kind.reportOffensiveResultButtonClick:return this._reportOffensiveResult(e.result);case _.ix.Kind.reportOffensiveActionsButtonClick:return this._reportOffensiveActions();case _.ix.Kind.resultCardHeaderClick:return this._clickResultHeader(e.prompt);case _.ix.Kind.creditsInfoHover:return this._params.trackingService.trackUsageInfoHover();case _.ix.Kind.creditsInfoClick:return this._onCreditsInfoClick();case _.ix.Kind.resultCardHoverChange:return this._onCardHover(e.resultId,e.hovered);case _.ix.Kind.resultCardFocusChange:return this._onCardFocus(e.resultId,e.focused);case _.ix.Kind.resultCardCopy:return this._onCardCopy(e.resultId);case _.ix.Kind.resultCardToggleGenericVoiceButtonClick:return this._onToggleGenericVoice(e.resultId,e.voice);case _.ix.Kind.reportMenuVisibilityChange:return this._onCardReportMenuVisibilityChange(e.trigger,e.visible);case _.ix.Kind.referencesVisibilityChange:return this._onCardReferencesVisibilityChange(e.resultId,e.visible);case _.ix.Kind.regenerateWithoutReferenceButtonClick:return this._regenerateWithoutReference(e.result,e.referenceId,e.selectedVoice);case _.ix.Kind.mount:return this._handleMount(e);case _.ix.Kind.promptFieldKeyPressEscape:return this._onPromptFieldKeyPressEscape(e);case _.ix.Kind.promptFieldKeyPressEnter:return e.text.trim().length>0?this._go(i.none):this._tryInsertLatestResult();case _.ix.Kind.restoreHistoryButtonClick:return this._params.sessionService.restoreHistory();default:return}}_handleMount(e){e.name===_.ec.creditsInfoButton?(0,u.tt)("reportUphookShow",this._params.uphookService.reportUphookShow(this._params.userService.user.get()),this._logger,void 0,(e=>this._monitoringService.notify(_.SA.Error.ReportUphookShowFailed.create(this._params.sessionService.session.get().mode,e)))):e.name===_.ec.historyButton&&this._params.trackingService.trackHistoryButtonView()}_onCardHover(e,t){this._state.lens("cardsState").lens("hoveredCard").modify(t?()=>i.some(e):i.filter((t=>t!==e)))}_onCardFocus(e,t){this._state.lens("cardsState").lens("focusedCard").modify(t?()=>i.some(e):i.filter((t=>t!==e)))}_onCardCopy(e){this._params.sessionService.trackResultCopy(e)}_onCardReportMenuVisibilityChange(e,t){this._state.modify((n=>Object.assign(Object.assign({},n),{reportMenuVisible:t?i.some(e):(0,a.zG)(n.reportMenuVisible,i.filter((t=>!h.eq.equals(t,e)))),cardsState:Object.assign(Object.assign({},n.cardsState),{hoveredCard:(0,a.zG)(h.toCard(e),i.fold((()=>n.cardsState.hoveredCard),(e=>t?n.cardsState.hoveredCard:(0,a.zG)(n.cardsState.hoveredCard,i.filter((t=>t!==e))))))})})))}_onCardReferencesVisibilityChange(e,t){this._state.lens("referencesVisibility").modify((n=>new Map(n).set(e,t)))}_onToggleGenericVoice(e,t){this._state.lens("overrideCardVoice").modify((n=>{var i;const a=new Map(n),r=null!==(i=n.get(e))&&void 0!==i?i:t;return a.set(e,r===_.x4.GeneratedTextVoice.generic?_.x4.GeneratedTextVoice.user:_.x4.GeneratedTextVoice.generic),a}))}_close(e){_.ix.is(_.ix.Kind.toolbarCloseButtonClick)(e)&&this._params.trackingService.trackAssistantClose(),(0,u.tt)("close",this._params.handlers.close(),this._logger,void 0,(e=>this._monitoringService.notify(_.SA.Error.AssistantCloseFailed.create(this._params.sessionService.session.get().mode,e))))}_goBack(){"actionSelected"===this._router.activeView.get()&&this._state.modify((e=>Object.assign(Object.assign({},e),{selectedAction:i.none,textBox:""}))),this._router.pop()}_updateTextBox(e){this._state.lens("textBox").set(e),this._searchReferences(e)}_executeAction(e){if("backendAction"===e.kind)if(_.aU.isFollowUpQuestionActionInput(e.action)){const t=e.action;this._state.modify((e=>Object.assign(Object.assign({},e),{textBox:"",selectedAction:i.some(t)})))}else _.aU.isQuickActionInput(e.action)?(this._state.modify((e=>Object.assign(Object.assign({},e),{textBox:"",selectedAction:i.none}))),this._params.sessionService.submitAction(e.action,i.toUndefined(this._lastResultSelectedVoice()))):_.aU.isSkillActionInput(e.action)||(0,a.Rz)(e.action);else"allResults"===e.kind||("go"===e.kind?this._go(i.none):(0,a.Rz)(e))}_handleAIUsageNotification(){(0,a.zG)(_.z_.toStarted(this._params.sessionService.session.get()),i.chain((e=>e.context.specialView)),i.filter((e=>"aiUsageAlert"===e.kind)),O.tap((()=>this._params.trackingService.trackAINotificationDismiss("document"))))}_go(e){this._handleAIUsageNotification(),i.isSome(e)?this._params.sessionService.submitAction(O.unsafeGet(e),i.toUndefined(this._lastResultSelectedVoice())):i.isSome(this._state.get().selectedAction)?this._submitSelectedAction():this._submitUserPromptAction()}_stop(){this._params.sessionService.stopInProgressResult()()}_insert(e,t){(0,u.tt)("insertText",this._params.textEditorService.insertText((0,u.l)((0,a.zG)(e.replacementDelta,g.fold(a.yR,(e=>t===_.x4.GeneratedTextVoice.user?e.user:e.generic))),"")),this._logger,(()=>{this._params.sessionService.trackResultInsert(e.id)}))}_tryInsertLatestResult(){(0,a.zG)(_.z_.toStarted(this._params.sessionService.session.get()),i.map((e=>e.results)),i.chain(b.YM),i.filter(_.x4.isStandardCompletedResult),O.tap((e=>this._insert(e,(0,a.zG)(this._lastResultSelectedVoice(),i.getOrElse((()=>_.x4.GeneratedTextVoice.generic)))))))}_onPromptFieldKeyPressEscape(e){(0,a.zG)(_.z_.toStarted(this._params.sessionService.session.get()),i.chain((e=>e.inProgressResult)),i.fold((()=>this._close(e)),(()=>this._stop())))}_rephrase(e,t){this._params.sessionService.regenerateResult(e.id,{omitReferenceIds:i.none},t)}_dismissResult(e){this._params.sessionService.dismissResult(e.id),this._state.modify((t=>Object.assign(Object.assign({},t),{reportMenuVisible:(0,a.zG)(t.reportMenuVisible,i.filter((t=>!h.eq.equals(t,h.card(e.id))))),cardsState:{hoveredCard:(0,a.zG)(t.cardsState.hoveredCard,i.filter((t=>t!==e.id))),focusedCard:(0,a.zG)(t.cardsState.hoveredCard,i.filter((t=>t!==e.id)))}})))}_dismissError(){this._params.sessionService.dismissError()}_reportOffensiveResult(e){this._params.sessionService.trackResultOffensive(e.id)}_reportOffensiveActions(){this._params.sessionService.trackActionsOffensive()}_clickResultHeader(e){this._state.modify((t=>Object.assign(Object.assign({},t),{textBox:e,promptAutofocusToken:t.promptAutofocusToken+1})))}_onCreditsInfoClick(){this._params.trackingService.trackUsageInfoClick(),(0,u.tt)("reportUphookClick",this._params.uphookService.reportUphookClick(this._params.userService.user.get()),this._logger,void 0,(e=>this._monitoringService.notify(_.SA.Error.ReportUphookClickFailed.create(this._params.sessionService.session.get().mode,e))))}_submitSelectedAction(){const e=(0,a.zG)(this._state.get().textBox.trim(),i.fromPredicate((e=>""!==e)));(0,a.zG)(f.Y(i.Applicative)({text:e,selectedAction:this._state.get().selectedAction}),i.map((({text:e,selectedAction:t})=>_.aU.FollowUpQuestionActionValue.fromInput(t,e))),O.tap((e=>{this._state.modify((e=>Object.assign(Object.assign({},e),{selectedAction:i.none,textBox:""}))),this._params.sessionService.submitAction(e,i.toUndefined(this._lastResultSelectedVoice()))})))}_lastResultSelectedVoice(){return(0,a.zG)(_.z_.toStarted(this._params.sessionService.session.get()),i.map((e=>e.results)),i.chain(b.YM),i.chain((e=>i.fromNullable(this._state.lens("overrideCardVoice").view((t=>t.get(e.id))).get()))))}_submitUserPromptAction(){(0,a.zG)(this._state.get().textBox.trim(),i.fromPredicate((e=>""!==e)),i.chain((e=>(0,a.zG)(_.z_.toStarted(this._params.sessionService.session.get()),i.chain((t=>(0,a.zG)(t.context.userPromptAction,i.map((n=>({text:e,session:t,userPromptAction:n}))))))))),O.tap((({text:e,session:t,userPromptAction:n})=>{this._state.lens("textBox").set(""),this._params.sessionService.submitAction(_.aU.UserPromptActionValue.fromInput(n,e,(0,a.zG)(P(t,e),b.DZ((e=>(0,a.zG)(e.url,i.map((t=>({url:t,referenceId:e.id})))))),y.nI),i.none),i.toUndefined(this._lastResultSelectedVoice()))})))}_regenerateWithoutReference(e,t,n){this._params.sessionService.regenerateResult(e.id,{omitReferenceIds:i.some([t])},n)}_searchReferences(e){A(e).forEach((e=>this._params.sessionService.searchReferences(e)))}}var F=n(80900),V=n(28043),j=n(8125);class D{constructor(e,t,n=3e3,i=1){this._assistantUIActions=e,this._activeView=t,this._notificationsDurationMs=n,this._maxNotificationsCountAtOnce=i,this._state=d.h.create([]),this._notificationsSubs=new Map,this._subs=new r.w,this._nextToastId=0,this.state=this._state.view(),this._subs.add(this._showFeedbackSubmittedToast().subscribe()),this._subs.add(this._clearNotificationsOnViewChange().subscribe()),this._subs.add(this._removeVoiceTagNotification().subscribe())}dismiss(e){var t;null===(t=this._notificationsSubs.get(e))||void 0===t||t.unsubscribe(),this._notificationsSubs.delete(e),this._state.modify(b.hX((t=>t.id!==e)))}clearAll(){this._notificationsSubs.forEach((e=>e.unsubscribe())),this._notificationsSubs.clear(),this._state.set([])}dispose(){this._subs.unsubscribe(),this.clearAll()}_showNotification(e){const t=this._nextToastId++;this._notificationsSubs.set(t,F.H(this._notificationsDurationMs).subscribe((()=>this.dismiss(t)))),this._state.modify((0,a.ls)(b.QI({kind:e,id:t}),b.ke(this._maxNotificationsCountAtOnce)))}_showFeedbackSubmittedToast(){return this._assistantUIActions.pipe(s.h((0,j.Kg)(_.ix.is(_.ix.Kind.feedbackFormSubmitButtonClick),_.ix.is(_.ix.Kind.reportOffensiveResultButtonClick),_.ix.is(_.ix.Kind.reportOffensiveActionsButtonClick))),l.b((()=>this._showNotification(_.Cl.Kind.feedbackSubmitted))))}_removeVoiceTagNotification(){return this._assistantUIActions.pipe(s.h(_.ix.is(_.ix.Kind.voiceTagPopoverRemoveButtonClick)),l.b((()=>this._showNotification(_.Cl.Kind.voiceTagRemoved))))}_clearNotificationsOnViewChange(){return this._activeView.pipe(V.x(),l.b((e=>{"feedbackForm"!==e&&"voiceProfile"!==e||this.clearAll()})))}}var $=n(32952),K=n(41398),M=n(16118),L=n(2844),H=n(66310),Z=n(76974),W=n(93508),Y=n(22232),q=n(27378),X=n(12187),Q=n(5739),J=n(34217),ee=n(85784),te=n(9546),ne=n(62172),ie=n(13578),ae=n(89894);const re="brick",oe=u.Es.buttonOverrideSpecificity({padding:`0 ${ae.ux.rem(te.x)} 0 ${ae.ux.rem(te.F2)}`},re),se={display:"flex",alignItems:"center",gap:ae.ux.rem(te.x)},le=u.Es.buttonOverrideSpecificity({minHeight:ae.ux.rem(1.75),fontSize:ae.ux.rem(.75),lineHeight:ae.ux.rem(1.125),color:ne.BlueGray80},re),ce=u.Es.buttonOverrideSpecificity({minHeight:ae.ux.rem(2),fontSize:ae.ux.rem(.875),lineHeight:ae.ux.rem(1.375),color:ie.XY.Content.Primary.Default},re),de=u.Es.buttonOverrideSpecificity({boxShadow:`inset 0 0 0 ${ae.ux.rem(.125)} ${u.BO.BrandGreen60}`},re),ue=u.Es.buttonOverrideSpecificity({boxShadow:"none",color:ne.NeutralGray70,$nest:{"&:not([data-disabled='true'])[data-hovered='true'], &:not([data-disabled='true'])[data-active='true']":{color:u.BO.BlueGray80,boxShadow:`inset 0 0 0 1px ${u.BO.BlueGray40}`,backgroundColor:u.BO.BlueGray5}}},re),me={textAlign:"left",whiteSpace:"initial",lineHeight:ae.ux.rem(1.125),margin:`${ae.ux.rem(.25)} 0 ${ae.ux.rem(.25)} 0`},pe=Object.assign({},u.Es.iconSizeRems(1.5)),he=ae.ux.joinClasses([re,ae.ux.style(oe)]),fe=ae.ux.style(se),ge=ae.ux.style(le),xe=ae.ux.style(ce),be=ae.ux.style(de),ye=ae.ux.style(ue),ve=ae.ux.style(me),Ce=ae.ux.style(pe),ke=ae.ux.style(pe),Se=(0,X.xb)(ee.zx.Secondary),we="actionBrick",Ee=J.UI.Node.make((({view:e,notify:t})=>q.createElement(Se,Object.assign({onClick:e("action").pipe(k.U((e=>t({kind:_.ix.Kind.actionBrickClick,action:e})))),name:"actionBrick"},(0,X.Sh)(we,he,e("action").pipe(k.U((({kind:e})=>"go"===e?be:null))),e("mode").pipe(k.U((e=>"compact"===e?ge:"standard"===e?xe:(0,Y.L0)(e)))),e("customViewOpts").pipe(k.U((e=>(null==e?void 0:e.isPinned)?ye:null))))),q.createElement(Q.F.div,{className:fe},e("icon").pipe(k.U(g.fold((({kind:e})=>{switch(e){case"allResults":return q.createElement(ee.k8,{className:Ce});case"go":return q.createElement(ee.CT,{className:ke});default:return(0,Y.L0)(e)}}),(({url:e})=>q.createElement("img",{src:e,style:{width:20,height:20}}))))),q.createElement(Q.F.span,Object.assign({className:ve},(0,u.E)(e("label"))))))));function Oe(e,t,n,i){return J.Z.fromSideEffect((t=>e.notify(t)),L.aj([t,e.assistant.state.view("textBox")]).pipe(k.U((([e,t])=>({icon:"backendAction"===e.kind?g.right({url:e.action.iconUrl}):g.left({kind:e.kind}),label:"backendAction"===e.kind?e.action.label:"allResults"===e.kind?"More":"go"===e.kind?`”${t.trim()}”`:(0,Y.L0)(e),action:e,mode:n,customViewOpts:i})))))}const _e=J.UI.List.make(b.bw,Ee);function Be(e,t,n,a){return J.Z.composeList(b.Ot,(()=>t.pipe(k.U(i.getOrElse((()=>[]))))),(t=>Oe(e,Z.of(t),n,a)))}function Ne(e,t=a.W8,n=i.some(3)){const r=(0,a.zG)(y.hX((e=>t(e.action)))(e),i.getOrElseW((()=>b.cS)));return(0,a.zG)(n,i.filter((e=>r.length>e)),i.map((e=>y.Ss(b.ke(e)(r),{kind:"allResults",filterPredicate:t}))),i.getOrElseW((()=>r)))}const Ge=({style:e,contentStyle:t,children:n,header:i})=>q.createElement("div",{className:ae.ux.style(Ie,e)},i?q.createElement(ee.Ol,null,i):null,q.createElement("div",{className:ae.ux.style(Pe,t)},n)),Ie={background:"white",display:"flex",flexDirection:"column",gap:ae.ux.rem(te.x)},Pe={display:"flex",flexDirection:"row",flexWrap:"wrap",gap:ae.ux.rem(te.x)},Ae=J.UI.Grid.make((({slots:e,state:t})=>q.createElement(Q.F.Fragment,null,t.pipe(k.U((({label:t,view:n})=>n===_.aU.Store.View.normal?q.createElement(Ge,{header:t,style:Te,key:t},e.actions):n===_.aU.Store.View.pinned?q.createElement(Ge,{style:Re,key:t},e.actions):(0,Y.L0)(n))))))),Ue=J.UI.Knot.make(Ae,{actions:_e}),ze=J.UI.List.make(b.bw,Ue),Te={background:"transparent",padding:`${ae.ux.rem(te.x)} 0`},Re=Object.assign(Object.assign({},Te),{padding:`${ae.ux.rem(te.x)} 0`,marginTop:ae.ux.rem(-1*te.x),borderTop:`1px solid ${ne.NeutralGray0}`});function Fe(e,t){return J.Z.composeList(b.Ot,(()=>t),(t=>function(e,t){return J.Z.composeKnot({root:()=>Z.of({label:t.label,view:t.view}),actions:Be(e,Z.of(i.some(t.actions)),"standard",{isPinned:t.view===_.aU.Store.View.pinned})})}(e,t)))}function Ve(e){return(0,a.zG)(e,b.pO((e=>{const{init:t,rest:n}=b.zT((t=>_.aU.Group.Id.eq.equals(t.group.id,e[0].group.id)))(e);return[t,n]})),b.UI((e=>f.Y(i.Applicative)({label:(0,a.zG)(e,b.YM,i.map((e=>e.group.label))),view:i.some(_.aU.Store.View.normal),actions:(0,a.zG)(e,b.UI(U.BackendAction.make),y.c2)}))),b.oA,y.c2,i.getOrElse((()=>[{label:e[0].group.label,view:_.aU.Store.View.normal,actions:[U.BackendAction.make(e[0])]}])))}var je;!function(e){e.isActionsStore=function(e){return"actionsStore"===e.kind},e.isSearchResults=function(e){return"searchResults"===e.kind}}(je||(je={}));class De{constructor(e,t,n,o,c,m){var p,h,f;this._availabilityService=t,this._sessionService=n,this._trackingService=o,this._focusPromptField=m,this._subs=new r.w,this._state=d.h.create(i.none),this._userTyped=new $.xQ,this._promptOrMenuFocused=new $.xQ,this._promptMenuActions=new $.xQ,this._promptMenuContainer=i.none,this._cachedActionBricks=i.none,this.state=this._state.view(),this._subs.add(this._userTyped.pipe(w.b(150),s.h((()=>!c())),K.M(this._state.view((0,a.ls)(i.map((e=>e.filterPredicate)),i.getOrElse((()=>a.W8))))),l.b((([e,t])=>this._promptMenuActions.next({kind:"showSearchResults",search:e,filterPredicate:t})))).subscribe()),this._subs.add((p=this._promptMenuActions,h=this._sessionService.session,f=this._availabilityService.availability,L.aj([p.pipe(H.w((e=>"showSearchResults"===e.kind?h.view(_.z_.toStarted).pipe(k.U((t=>(0,a.zG)(t,i.filter((()=>""!==e.search.trim())),i.chain((t=>{return n=t.context.availableActions,r=e.search,(0,a.zG)(n,b.DZ((e=>(0,a.zG)((0,u.lA)(r,e.searchLabel,e.searchTags),i.map((t=>({data:e,matchScore:t})))))),b.DY((0,u.JY)()),b.UI((({data:e})=>e)),y.c2);var n,r})),i.map((t=>({kind:"searchResults",actions:t,filterPredicate:e.filterPredicate}))))))):"showActionsStore"===e.kind?h.view((0,a.ls)(I,i.map((t=>({kind:"actionsStore",actions:t,filterPredicate:e.filterPredicate}))))):"close"===e.kind?Z.of(i.none):(0,Y.L0)(e))),W.O(i.none)),f]).pipe(k.U((([e,t])=>(0,a.zG)(e,i.filter((()=>!_.a8.isUnavailable(t)))))))).subscribe(E.wW(this._state))),this._subs.add(this._promptOrMenuFocused.pipe(w.b(100),s.h((e=>!e))).subscribe((()=>this._promptMenuActions.next({kind:"close"})))),this._subs.add(this.state.pipe(M.G(),s.h((([e,t])=>i.isNone(e)&&i.isSome(t))),k.U((([e,t])=>t)),C.oA).subscribe((e=>{"actionsStore"===e.kind?this._trackingService.trackActionsOpenStore():"searchResults"===e.kind&&this._trackingService.trackPromptSearch()}))),this._subs.add(this._promptMenuActions.pipe(s.h((e=>"close"===e.kind))).subscribe((()=>this._invalidateActionBricks()))),this._subs.add(e.subscribe((e=>this._handleUIAction(e))))}dispose(){this._subs.unsubscribe()}_handleUIAction(e){switch(e.kind){case _.ix.Kind.mount:return void(this._promptMenuContainer=i.some(e.element));case _.ix.Kind.promptMenuKeyPressArrowDown:return this._onPromptMenuKeyPressArrowDown();case _.ix.Kind.promptMenuKeyPressArrowUp:return this._onPromptMenuKeyPressArrowUp();case _.ix.Kind.promptFieldKeyPressArrowUp:return this._focusLastBrick();case _.ix.Kind.promptFieldKeyPressArrowDown:return this._focusFirstBrick();case _.ix.Kind.promptFieldTextChange:return this._invalidateActionBricks(),this._userTyped.next(e.text);case _.ix.Kind.collapsePromptMenuButtonClick:case _.ix.Kind.promptSubmitButtonClick:return this._promptMenuActions.next({kind:"close"});case _.ix.Kind.promptFieldKeyPressEnter:return void(e.text.trim().length>0&&this._promptMenuActions.next({kind:"close"}));case _.ix.Kind.actionBrickClick:return"allResults"===e.action.kind?this._promptMenuActions.next({kind:"showActionsStore",filterPredicate:e.action.filterPredicate}):this._promptMenuActions.next({kind:"close"});case _.ix.Kind.promptFieldAndMenuFocusChange:return this._promptOrMenuFocused.next(e.focused);default:return}}_invalidateActionBricks(){this._cachedActionBricks=i.none}_getActionBricks(){return(0,a.zG)(this._cachedActionBricks,i.getOrElse((()=>{const e=(0,a.zG)(this._promptMenuContainer,i.fold((()=>[]),(e=>b.nI(Array.from(e.querySelectorAll(".actionBrick")).filter(u.Re)))));return this._cachedActionBricks=i.some(e),e})))}_onPromptMenuKeyPressArrowDown(){var e;const t=this._getActionBricks(),n=(0,u.vY)((null===(e=i.toNullable(this._promptMenuContainer))||void 0===e?void 0:e.ownerDocument)||document);return(0,a.zG)(i.fromNullable(t.findIndex((e=>e===n))),O.tap((e=>{var n;e+1>=t.length?this._focusPromptField():null===(n=t[e+1])||void 0===n||n.focus()})))}_onPromptMenuKeyPressArrowUp(){var e;const t=this._getActionBricks(),n=(0,u.vY)((null===(e=i.toNullable(this._promptMenuContainer))||void 0===e?void 0:e.ownerDocument)||document);return(0,a.zG)(i.fromNullable(t.findIndex((e=>e===n))),O.tap((e=>{var n;e-1<0?this._focusPromptField():null===(n=t[e-1])||void 0===n||n.focus()})))}_focusFirstBrick(){var e;null===(e=this._getActionBricks()[0])||void 0===e||e.focus()}_focusLastBrick(){var e;const t=this._getActionBricks();null===(e=t[t.length-1])||void 0===e||e.focus()}}var $e,Ke=n(62965);class Me{constructor(e,t,n,a=B.gz.getInstance()){this._assistantUIActions=e,this._router=t,this._skillService=n,this._monitoringService=a,this._subs=new r.w,this._state=d.h.create(i.none),this.state=this._state.view(),this._skillService&&this._subs.add(this._skillService.skillRequests.subscribe((e=>{e.close?(this._onSkillClosed(),this._state.set(i.none)):e.size&&this._state.modify(i.map((t=>Object.assign(Object.assign({},t),{size:e.size}))))}))),this._subs.add(this._assistantUIActions.subscribe((e=>this._handleUIAction(e))))}dispose(){this._subs.unsubscribe()}_handleUIAction(e){switch(e.kind){case _.ix.Kind.actionBrickClick:if("backendAction"===e.action.kind&&_.aU.isSkillActionInput(e.action.action)){const t=e.action.action.skill;this._onSkillOpened(),this._state.set(i.some({skill:t,status:"loading",size:{width:416,height:245}}))}break;case _.ix.Kind.mount:e.name===_.ec.skill&&(0,u.tt)("initSkill",(0,a.zG)((0,a.zG)(this._state.get(),Ke.Yo((()=>new Error("Cannot init Skill. No Skill state available.")))),Ke.tS((t=>this._skillService?(0,a.zG)(this._skillService.initSkill(t.skill,e.element),Ke.UI((e=>Object.assign(Object.assign({},t),{size:e})))):Ke.t$(new Error("Cannot init Skill. No `SkillService` available."))))),void 0,(e=>{this._state.set(i.some(Object.assign(Object.assign({},e),{status:"ready"}))),this._monitoringService.notify(_.BC.Info.InitSkillSuccessful.create(e.skill))}),(e=>{this._state.modify(i.map((e=>Object.assign(Object.assign({},e),{status:"error"})))),this._monitoringService.notify(_.BC.Error.InitSkillFailed.create((0,a.zG)(this._state.get(),i.map((e=>e.skill))),e))}));break;case _.ix.Kind.unmount:e.name===_.ec.skill&&(0,u.tt)("terminateSkill",(0,a.zG)((0,a.zG)(this._state.get(),Ke.Yo((()=>new Error("Cannot terminate Skill. No Skill state available.")))),Ke.tS((e=>this._skillService?(0,a.zG)(this._skillService.terminateSkill(e.skill),Ke.UI((()=>e))):Ke.t$(new Error("Cannot terminate Skill. No `SkillService` available."))))),void 0,(e=>{this._state.set(i.none),this._monitoringService.notify(_.BC.Info.TerminateSkillSuccessful.create(e.skill))}),(e=>{this._state.set(i.none),this._monitoringService.notify(_.BC.Error.TerminateSkillFailed.create((0,a.zG)(this._state.get(),i.map((e=>e.skill))),e))}))}}_onSkillOpened(){this._router.push("skill")}_onSkillClosed(){"skill"===this._router.activeView.get()&&this._router.pop()}}!function(e){e.empty={activeSurvey:i.none,stage:_.Bs.Stage.Type.Rating,transitionStage:_.Bs.Stage.Type.Rating,rating:i.none,errors:i.none,openAnswer:i.none}}($e||($e={}));class Le{constructor(e){this._params=e,this._state=d.h.create($e.empty),this._subs=new r.w,this._stageTimeoutClear=void 0,this.state=this._state.view(),this._updateStageAfterTransition(),this._subscribeToActiveSurvey(),this._subs.add(this._params.assistantUIActions.subscribe((e=>{(0,j.Kg)(_.ix.isSurveyAction,_.ix.isSurveyImplicitDismissAction)(e)&&this._handleUIAction(e)})))}get _activeSurvey(){return this.state.get().activeSurvey}_subscribeToActiveSurvey(){this._subs.add(this._params.userSurveyService.activeSurvey.subscribe((e=>{(0,a.zG)(e,i.map((e=>{(0,a.zG)(this._activeSurvey,i.fold((()=>this._updateActiveSurvey(e)),(t=>{t.detailedPlacement!==e.detailedPlacement&&this._updateActiveSurvey(e)})))})))})))}_updateActiveSurvey(e){this._state.set(Object.assign(Object.assign({},$e.empty),{activeSurvey:i.some(e)}))}_handleUIAction(e){switch(e.kind){case _.ix.Kind.surveySubmitButtonClick:case _.ix.Kind.surveyKeyPressShiftEnter:this._onSurveyCompleted();break;case _.ix.Kind.surveyCancelButtonClick:case _.ix.Kind.surveyCloseButtonClick:this._onDismissExplicitly();break;case _.ix.Kind.surveyOpenAnswerChange:this._onOpenAnswerChange(e.openAnswer);break;case _.ix.Kind.surveyRatingSelectionChange:this._onRatingSelectionChange(e.rating);break;case _.ix.Kind.promptSubmitButtonClick:case _.ix.Kind.actionBrickClick:case _.ix.Kind.resultCardInsertButtonClick:case _.ix.Kind.resultCardRephraseButtonClick:case _.ix.Kind.resultCardHeaderClick:case _.ix.Kind.resultCardDismissButtonClick:this._onDismissImplicitly();break;default:(0,Y.L0)(e)}}_onRatingSelectionChange(e){(0,a.zG)(this._activeSurvey,i.map((e=>e.skipOpenAnswerFrom)),i.map((t=>{e<t?this._state.modify((t=>Object.assign(Object.assign({},t),{rating:i.some(e),transitionStage:_.Bs.Stage.Type.Feedback}))):this._state.modify((t=>Object.assign(Object.assign({},t),{rating:i.some(e),transitionStage:_.Bs.Stage.Type.Completed}))),this._reportCompleting()})))}_onOpenAnswerChange(e){(0,a.zG)(this._activeSurvey,i.chain((({openAnswer:e})=>e)),i.map((({maxLen:t})=>{e.length<=t&&this._state.modify((t=>Object.assign(Object.assign({},t),{openAnswer:i.some(e),errors:i.none})))})))}_onSurveyCompleted(){(0,a.zG)(this._activeSurvey,i.chain((({openAnswer:e})=>e)),i.chain((({minLen:e})=>e)),i.fold((()=>this._complete()),(e=>{(0,a.zG)(this._state.get().openAnswer,i.fold((()=>this._setOpenAnswerError("This field is required.")),(t=>{t.length<e?this._setOpenAnswerError(e>0?`Please enter at least ${e} characters.`:"This field is required."):this._complete()})))})))}_complete(){this._reportCompleting(),this._state.lens("transitionStage").set(_.Bs.Stage.Type.Completed)}_reportCompleting(){(0,a.zG)(this._activeSurvey,i.chain((e=>(0,a.zG)(this._state.get().rating,i.map((t=>({survey:e,rating:t})))))),i.map((({survey:e,rating:t})=>this._params.userSurveyService.submitSurveyResult({rating:t,openAnswer:this._state.get().openAnswer,placement:e.placement,detailedPlacement:e.detailedPlacement,stage:this.state.get().stage,type:e.type}))))}_setOpenAnswerError(e){this._state.lens("errors").set(i.some({openAnswerError:i.some(e)}))}_onDismissExplicitly(){(0,a.zG)(this._activeSurvey,i.map((e=>{const t=this.state.get().stage;t===_.Bs.Stage.Type.Rating&&this._params.userSurveyService.dismissSurvey({placement:e.placement,detailedPlacement:e.detailedPlacement,type:e.type,stage:t})}))),this._state.lens("transitionStage").set(_.Bs.Stage.Type.Closed)}_onDismissImplicitly(){this._state.lens("transitionStage").set(_.Bs.Stage.Type.Closed)}_updateStageAfterTransition(){this._subs.add(this._state.subscribe((e=>{this._clearStageTimeout(),this._stageTimeoutClear=setTimeout((()=>{this._state.lens("stage").set(e.transitionStage)}),He[e.transitionStage])})))}_clearStageTimeout(){void 0!==this._stageTimeoutClear&&(clearTimeout(this._stageTimeoutClear),this._stageTimeoutClear=void 0)}dispose(){this._subs.unsubscribe(),this._clearStageTimeout()}}const He={[_.Bs.Stage.Type.Rating]:0,[_.Bs.Stage.Type.Feedback]:300,[_.Bs.Stage.Type.Completed]:0,[_.Bs.Stage.Type.Closed]:0};var Ze,We=n(48044),Ye=n(13853);class qe{constructor(e){var t,n;this._params=e,this._subs=new r.w,this._state=d.h.create({stagingNewVoiceProfile:i.none,stagingVoiceProfile:i.none}),this._logger=null!==(t=this._params.logger)&&void 0!==t?t:new B.WQ(qe.name),this._monitoringService=null!==(n=this._params.monitoringService)&&void 0!==n?n:B.gz.getInstance(),this.state=this._state.view(),this._subs.add(this._params.assistantUIActions.subscribe((e=>this._handleUIAction(e))))}dispose(){this._subs.unsubscribe()}_handleUIAction(e){switch(e.kind){case _.ix.Kind.toolbarGoBackButtonClick:return this._handleGoBack();case _.ix.Kind.toolbarVoiceButtonClick:return this._openVoiceProfile("toolbar");case _.ix.Kind.setVoiceButtonClick:return this._openVoiceProfile("banner");case _.ix.Kind.voiceProfileCloseButtonClick:return this._closeVoiceProfile();case _.ix.Kind.voiceProfileUseVoiceButtonClick:return this._applyVoiceProfile();case _.ix.Kind.toneToggleClick:return this._toggleTone(e.id,e.selected);case _.ix.Kind.styleToggleClick:return this._selectStyle(e.id);case _.ix.Kind.roleTypeaheadSelectionChange:return this._selectRole((0,a.zG)(e.role,i.map((e=>e.id))));case _.ix.Kind.dialectDropdownSelectionChange:return this._selectDialect(e.dialect.id);case _.ix.Kind.voiceProfileTabChange:return this._switchNewVoiceProfileTab(e.profileName);case _.ix.Kind.voiceTagPopoverRemoveButtonClick:return this._removeVoiceTag(e);case _.ix.Kind.voiceTagPopoverCloseButtonClick:return this._closeVoiceTagPopover();case _.ix.Kind.voiceTagPopoverKeepButtonClick:return this._keepVoiceTagPopover();case _.ix.Kind.applyVoiceToWritingCheckboxChange:return this._updateMyVoiceIsEnabled(e.checked);case _.ix.Kind.voiceTagClick:return this._toggleVoiceTag(e);case _.ix.Kind.voiceDialectDropdownSelectionChange:return this._selectNewVoiceDialect(e.dialect.id);case _.ix.Kind.voiceRoleDropdownSelectionChange:return this._selectNewVoiceRole(e.role.id);case _.ix.Kind.voiceSelectionsSaveButtonClick:return this._saveNewVoiceSelections();case _.ix.Kind.voiceSelectionsCancelButtonClick:return this._cancelNewVoiceSelectionChanges();case _.ix.Kind.voiceSelectionsEditButtonClick:return this._editNewVoiceSelections();case _.ix.Kind.promptFieldKeyPressEscape:case _.ix.Kind.toolbarCloseButtonClick:return this._trySaveNewProfileIfChanged();default:return}}_handleGoBack(){(0,a.zG)(_.z_.toStarted(this._params.sessionService.session.get()),O.tap((e=>{"newVoiceProfile"===e.voiceProfile.kind?(this._trySaveNewProfileIfChanged(),this._state.lens("stagingNewVoiceProfile").set(i.none)):"legacyVoiceProfile"===e.voiceProfile.kind&&this._state.lens("stagingVoiceProfile").set(i.none)})))}_createVoiceProfile(e){var t;return"newVoiceProfile"===e.kind?u.eG.set("stagingNewVoiceProfile",i.some({selectedRole:e.selectedRole,selectedDialect:e.selectedDialect,isEnabledByDefault:e.isEnabledByDefault,profiles:e.profiles,activeTagId:i.none,activeProfileName:i.fromNullable(null===(t=e.profiles.find((e=>e.selected)))||void 0===t?void 0:t.name),stagingSelections:i.none})):u.eG.set("stagingVoiceProfile",i.some({selectedStyle:e.selectedStyle,selectedTonesPerStyle:e.selectedTonesPerStyle,selectedRole:e.selectedRole,selectedDialect:e.selectedDialect,needsSetup:e.needsSetup}))}_openVoiceProfile(e){(0,a.zG)(_.z_.toStarted(this._params.sessionService.session.get()),O.tap((t=>{this._params.trackingService.trackVoiceProfileOpen(e),this._params.router.push("newVoiceProfile"===t.voiceProfile.kind?"voiceProfile":"legacyVoiceProfile"),this._state.modify(this._createVoiceProfile(t.voiceProfile))})))}_closeVoiceProfile(){this._params.trackingService.trackVoiceProfileSkip(),this._params.router.pop(),this._state.lens("stagingVoiceProfile").set(i.none)}_applyVoiceProfile(){const e=this._state.get().stagingVoiceProfile;this._params.router.pop(),this._state.lens("stagingVoiceProfile").set(i.none),(0,a.zG)(e,O.tap((e=>{(0,u.tt)("setVoiceProfile",this._params.sessionService.setVoiceProfile(e),this._logger)})))}_toggleTone(e,t){this._state.lens("stagingVoiceProfile").modify(i.map((n=>Object.assign(Object.assign({},n),{selectedTonesPerStyle:(0,a.zG)(n.selectedTonesPerStyle,t?(0,u.ni)(_.LA.Style.Id.eq)(n.selectedStyle,i.fold((()=>new Set([e])),Ye.$T(_.LA.Tone.Id.eq)(e))):(0,a.ls)(We.cq(_.LA.Style.Id.eq)(n.selectedStyle,Ye.Od(_.LA.Tone.Id.eq)(e)),i.getOrElse((()=>n.selectedTonesPerStyle))))}))))}_selectStyle(e){this._state.lens("stagingVoiceProfile").modify(i.map((t=>Object.assign(Object.assign({},t),{selectedStyle:e}))))}_selectRole(e){this._state.lens("stagingVoiceProfile").modify(i.map((t=>Object.assign(Object.assign({},t),{selectedRole:e}))))}_selectDialect(e){this._state.lens("stagingVoiceProfile").modify(i.map((t=>Object.assign(Object.assign({},t),{selectedDialect:e}))))}_editNewVoiceSelections(){this._updateNewProfileStateIfAny((e=>Object.assign(Object.assign({},e),{stagingSelections:i.some({selectedDialect:e.selectedDialect,selectedRole:e.selectedRole})})))}_cancelNewVoiceSelectionChanges(){this._updateNewProfileStateIfAny((e=>Object.assign(Object.assign({},e),{stagingSelections:i.none})))}_saveNewVoiceSelections(){this._updateNewProfileStateIfAny((e=>Object.assign(Object.assign({},e),{selectedDialect:(0,a.zG)(e.stagingSelections,i.fold((()=>e.selectedDialect),(e=>e.selectedDialect))),selectedRole:(0,a.zG)(e.stagingSelections,i.fold((()=>e.selectedRole),(e=>e.selectedRole))),stagingSelections:i.none})))}_selectNewVoiceRole(e){this._updateNewProfileStateIfAny((t=>Object.assign(Object.assign({},t),{stagingSelections:(0,a.zG)(t.stagingSelections,i.map((t=>Object.assign(Object.assign({},t),{selectedRole:i.some(e)}))))})))}_selectNewVoiceDialect(e){this._updateNewProfileStateIfAny((t=>Object.assign(Object.assign({},t),{stagingSelections:(0,a.zG)(t.stagingSelections,i.map((t=>Object.assign(Object.assign({},t),{selectedDialect:e}))))})))}_updateNewProfileStateIfAny(e){this._state.lens("stagingNewVoiceProfile").modify(i.map(e))}_keepVoiceTagPopover(){this._params.trackingService.trackVoiceProfileKeepTag(),this._closeVoiceTagPopover()}_closeVoiceTagPopover(){this._updateNewProfileStateIfAny((e=>Object.assign(Object.assign({},e),{activeTagId:i.none})))}_toggleVoiceTag({tagName:e,sectionName:t,profileName:n}){this._updateNewProfileStateIfAny((a=>Object.assign(Object.assign({},a),{activeTagId:i.toNullable(a.activeTagId)===_.bm.createId({tagName:e,sectionName:t,profileName:n})?i.none:i.some(_.bm.createId({tagName:e,sectionName:t,profileName:n}))})))}_updateMyVoiceIsEnabled(e){this._updateNewProfileStateIfAny((t=>Object.assign(Object.assign({},t),{isEnabledByDefault:e})))}_removeVoiceTag({tagName:e,profileName:t,sectionName:n}){this._params.trackingService.trackVoiceProfileRemoveTag(),this._updateNewProfileStateIfAny((i=>Object.assign(Object.assign({},i),{profiles:(0,a.zG)(i.profiles,b.UI((i=>i.name===t?Object.assign(Object.assign({},i),{sections:i.sections.map((t=>t.name===n?Object.assign(Object.assign({},t),{tags:t.tags.filter((t=>t.name!==e))}):t))}):i)))})))}_switchNewVoiceProfileTab(e){this._updateNewProfileStateIfAny((t=>Object.assign(Object.assign({},t),{activeProfileName:i.some(e)})))}_trySaveNewProfileIfChanged(){(0,a.zG)(f.Y(i.option)({editedVoiceProfile:this._state.view("stagingNewVoiceProfile").get(),sessionVoiceProfile:(0,a.zG)(_.z_.toStarted(this._params.sessionService.session.get()),i.map((e=>e.voiceProfile)),i.chain(_.LA.toNewVoiceProfile))}),i.filter((({editedVoiceProfile:e,sessionVoiceProfile:t})=>!_.LA.NewSelections.eqByRoleDialectProfileAndIsEnabledByDefault.equals(e,t))),O.tap((({editedVoiceProfile:e})=>{(0,u.tt)("saveNewVoiceChanges",this._params.sessionService.setNewVoiceProfile({selectedDialect:e.selectedDialect,selectedRole:e.selectedRole,isEnabledByDefault:e.isEnabledByDefault,profiles:e.profiles}),this._logger,void 0,(e=>this._monitoringService.notify(_.SA.Error.SetVoiceProfileFailed.create(this._params.sessionService.session.get().mode,e))))})))}}class Xe{constructor(e){var t,n;this._params=e,this._state=d.h.create({}),this._subs=new r.w,this._logger=null!==(t=this._params.logger)&&void 0!==t?t:new B.WQ(Xe.name),this._monitoringService=null!==(n=this._params.monitoringService)&&void 0!==n?n:B.gz.getInstance(),this.stagingFeedbackFormData=this._state.view(),this._subs.add(this._params.assistantUIActions.subscribe((e=>this._handleUIAction(e))))}dispose(){this._subs.unsubscribe()}_handleUIAction(e){switch(e.kind){case _.ix.Kind.openFeedbackFormButtonClick:return this._openFeedbackForm(e.source);case _.ix.Kind.feedbackFormChange:return this._updateFeedbackForm(e.feedbackData);case _.ix.Kind.feedbackFormSubmitButtonClick:return this._submitFeedbackForm(e.feedbackData);default:return}}_openFeedbackForm(e){this._params.router.push("feedbackForm"),this._state.set({source:e})}_updateFeedbackForm(e){this._state.modify((t=>Object.assign(Object.assign({},t),e)))}_submitFeedbackForm(e){this._params.router.pop(),this._state.set({}),(0,u.tt)("submitFeedback",this._params.feedbackService.submitFeedback(e),this._logger,void 0,(e=>this._monitoringService.notify(_.SA.Error.SubmitFeedbackFailed.create(this._params.sessionService.session.get().mode,e))))}}!function(e){e.eq=G.yv}(Ze||(Ze={}));class Qe{constructor(e,t){this._initialView=e,this._viewEq=t,this._viewStack=d.h.create([this._initialView]),this.activeView=this._viewStack.view(y.YM)}push(e){this._viewStack.modify((t=>this._viewEq.equals(e,t[0])?t:y.QI(e,t)))}pop(){this._viewStack.modify((0,a.ls)(y.pW,(([e,t])=>(0,a.zG)(y.c2(t),i.getOrElse((()=>[e]))))))}replace(e){this._viewStack.modify((t=>(0,a.zG)(y.QI(e,y.Gb(t)))))}}var Je,et,tt=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]])}return n};!function(e){e.create=function(e){const t=new $.xQ,n=new Qe("loading",Ze.eq),a=new R(Object.assign({assistantUIActions:t,router:n},e)),r=new qe({assistantUIActions:t,trackingService:e.trackingService,sessionService:e.sessionService,monitoringService:e.monitoringService,logger:e.logger,router:n}),o=new Xe({assistantUIActions:t,sessionService:e.sessionService,feedbackService:e.feedbackService,monitoringService:e.monitoringService,logger:e.logger,router:n}),s=new De(t,e.availabilityService,e.sessionService,e.trackingService,(()=>i.isSome(a.state.get().selectedAction)),(()=>a.focusPromptField())),l=new D(t,n.activeView),c=new Le({userSurveyService:e.userSurveyService,assistantUIActions:t}),d=new Me(t,n,e.skillService);return{router:n,assistant:a,promptMenu:s,voiceProfile:r,feedbackForm:o,notifications:l,survey:c,skill:d,actions:t.asObservable(),notify:e=>t.next(e),dispose:()=>{l.dispose(),a.dispose(),c.dispose(),o.dispose(),d.dispose(),r.dispose(),s.dispose()}}}}(Je||(Je={})),function(e){e.create=function(e){const{positionInfo:t,handlers:n}=e,i=tt(e,["positionInfo","handlers"]),a=Je.create(Object.assign(Object.assign({},i),{handlers:{close:()=>n.close()}})),r=new p(t,{onFocusChange:e=>n.onFocusChange(e)});return Object.assign(Object.assign({},a),{position:r,dispose:()=>{r.dispose(),a.dispose()}})}}(et||(et={}));var nt=n(90845),it=n(99094),at=n(31278),rt=n(56133),ot=n(88392);const st="content",lt="toolbar",ct=e=>ae.ux.color(ne.BlueGray40).toRGBA().fade(e).toString(),dt="#FCFCFC",ut={fontFamily:"Inter, sans-serif",width:ae.ux.rem(26.875),borderRadius:ae.ux.rem(ot.ze),background:"linear-gradient(180deg, #FCFCFC 0%, #FCFCFC 100%)",$nest:{"&[data-dragging='true']":{cursor:"grabbing",$nest:{[`.${st}`]:{pointerEvents:"none"},[`.${lt}`]:{pointerEvents:"none"}}}}},mt=Object.assign(Object.assign({},ut),{boxShadow:`0px 0px 0px 0.5px ${ne.BlueGray40}, 0px 0px 2px 0.5px ${ct(.5)}, 0px 1px 8px 0.5px ${ct(.1)}, 0px 2px 12px 0.5px ${ct(.1)}, 0px 4px 20px 0.5px ${ct(.25)}`,backdropFilter:`blur(${ae.ux.rem(.34375)})`}),pt={maxWidth:ae.ux.rem(40),minWidth:ae.ux.rem(18),width:ae.ux.percent(100)},ht={display:"flex",alignItems:"center",justifyContent:"space-between",gap:ae.ux.rem(te.x),padding:`0 ${ae.ux.rem(te.x)}`,height:ae.ux.rem(2.5),boxSizing:"border-box","--grammarly-app-region":"drag",$nest:{button:{"--grammarly-app-region":"no-drag"}}},ft={borderBottom:`0.5px solid ${ne.BlueGray10}`},gt=ae.ux.style(mt),xt=(ae.ux.style(ut),ae.ux.style(mt,pt)),bt=ae.ux.style(ut,pt),yt=ae.ux.joinClasses([lt,ae.ux.style(ht)]),vt=ae.ux.joinClasses([lt,ae.ux.style(ht,{cursor:"grab",$nest:{"&:active":{cursor:"grabbing"}}})]),Ct=ae.ux.style(ft),kt=st,St=J.UI.Grid.make((({slots:e,state:t,notify:n})=>{const{ref:i,onMount:a}=nt.P.useElWatcher();return q.createElement(rt.l.Provider,{value:{portalContainer:i}},q.createElement(it.f.Context.Provider,{value:it.f.emptyWithName("cheetahAssistant")},q.createElement(Q.F.Fragment,null,t.pipe(k.U((t=>"initial"===t.kind||"dragged"===t.kind?q.createElement(rt.Q,{placement:t,onFocus:n({kind:"focus",focused:!0}),onBlur:n({kind:"focus",focused:!1}),onMount:e=>{n({kind:"mount",element:e})(),a(e)},onMaxSizeChange:e=>n({kind:"maxSize",maxSize:e})(),"data-grammarly-part":"ideation-assistant","data-dragging":"dragged"===t.kind&&t.dragging,className:gt},q.createElement("header",Object.assign({},(0,X.Sh)(vt,t.contentOverflowUnderToolbar?Ct:null),{ref:e=>e&&n({kind:"dragHandleMount",element:e})()}),e.toolbar,q.createElement(ee.zx.Tertiary,{onClick:n({kind:_.ix.Kind.toolbarCloseButtonClick}),compact:!0,size:"large",name:"toolbarClose","aria-label":"Close Assistant"},q.createElement(at.JO.Close,null))),q.createElement("main",{className:kt},e.content)):"none"===t.kind?null:(0,Y.L0)(t)))))))}));var wt=n(38194),Et=n(49143),Ot=n(85089),_t=n(83401);function Bt(e){return(0,a.ls)(wt.B(),(t=>{return v.T(t.pipe(l.b((t=>function(e,t){switch(e.kind){case"focus":return t.position.onFocusChange(e.focused);case"mount":return t.position.onMount(e.element);case"maxSize":return t.position.onMaxHeightChange(e.maxSize.height);case"dragHandleMount":break;case _.ix.Kind.toolbarCloseButtonClick:return t.notify(e);default:return(0,Y.L0)(e)}}(t,e))),Et.l()),t.pipe((n=e.position,(0,a.ls)(k.U((e=>"dragHandleMount"===e.kind?i.some(e.element):i.none)),C.oA,(0,u.uj)(),(r=n,(0,a.ls)(wt.B(),(e=>(0,a.zG)(v.T(e.pipe(s.h((e=>u.E9.l1Distance(u.E9.fromCartesian(e.translate),u.E9.fromCartesian(e.lastTranslate))>=3)),l.b((e=>r.onDrag(e.translate)))),e.pipe(s.h((e=>e.dragEnd)),l.b((()=>r.onDragEnd())))),Et.l())))),Et.l()))),t.pipe(function(e){return(0,a.ls)(k.U((e=>"mount"===e.kind?i.some(e.element):i.none)),C.oA,H.w((e=>Ot.YC(e).pipe(W.O(null),k.U((()=>e.getBoundingClientRect()))))),l.b((t=>e.onResize(t))),Et.l())}(e.position)),t.pipe((0,a.ls)(k.U((e=>"mount"===e.kind?i.some(e.element):i.none)),C.oA,k.U(i.some),nt.P.FocusTrap.dynamicFocusTrap(nt.P.FocusTrap.InitialFocus.none,Nt,Gt),Et.l())),L.aj([e.position.state,e.assistant.state,e.router.activeView]).pipe(k.U((([e,{contentOverflowUnderToolbar:t},n])=>Object.assign(Object.assign({},e),{contentOverflowUnderToolbar:t&&"voiceProfile"!==n&&"feedbackForm"!==n})))));var n,r}))}function Nt(e){var t;if(e instanceof HTMLIFrameElement){const n=null===(t=e.contentWindow)||void 0===t?void 0:t.document;if(n){const e=n.body.querySelector("textarea:not([disabled]), input:not([disabled])");e&&"focus"in e&&"function"==typeof e.focus&&e.focus()}}else e.focus()}function Gt(e,t){return e instanceof HTMLIFrameElement?e.contentDocument?c.R(e.contentDocument.body,t):_t.C:c.R(e,t)}const It=J.UI.Grid.make((({slots:e,state:t,notify:n})=>{const{ref:r,onMount:o}=nt.P.useElWatcher();return q.createElement(rt.l.Provider,{value:{portalContainer:r}},q.createElement(it.f.Context.Provider,{value:it.f.emptyWithName("cheetahAssistant")},q.createElement(Q.F.Fragment,null,t.pipe(k.U((t=>q.createElement(Q.F.div,Object.assign({dir:"ltr"},(0,X.Sh)(t.includeBoxShadow?xt:bt),{key:"ideation-assistant-container",mount:e=>{(0,a.zG)(i.fromNullable(e),O.tap((e=>{n({kind:"mount",element:e})}))),o(e)}}),q.createElement(Q.F.header,Object.assign({},(0,X.Sh)(yt,t.contentOverflowUnderToolbar?Ct:null)),e.toolbar,q.createElement(ee.zx.Tertiary,{onClick:n({kind:_.ix.Kind.toolbarCloseButtonClick}),compact:!0,size:"large",name:"toolbarClose","aria-label":"Close Assistant"},q.createElement(at.JO.Close,null))),q.createElement(Q.F.main,{className:kt},e.content))))))))}));var Pt;!function(e){e.empty={includeBoxShadow:!0}}(Pt||(Pt={}));const At=J.UI.Node.make((({view:e})=>q.createElement(ee.Zb,{style:zt},q.createElement("div",{className:Tt},q.createElement(Q.F.img,{src:e("iconUrl"),style:{width:16,height:16}}),q.createElement(Q.F.span,Object.assign({},(0,u.E)(e("header"))))),q.createElement(Q.F.div,null,e("hintsHeader")),q.createElement(Q.F.ul,{className:Rt},e("hintsItems").pipe(k.U(b.UI((e=>q.createElement("li",{key:e},e))))))))),Ut=J.UI.Union.asOption(At),zt={fontWeight:400,fontSize:ae.ux.rem(.875),lineHeight:ae.ux.rem(1.3125)},Tt=ae.ux.style({display:"flex",alignItems:"center",gap:ae.ux.rem(te.x),color:ie.XY.Content.Secondary.Default,fontSize:ae.ux.rem(.75),lineHeight:ae.ux.rem(1.125)}),Rt=ae.ux.style({padding:`0 0 0 ${ae.ux.rem(te.sD+te.yC)}`,margin:0}),Ft=J.UI.Node.make((({view:e,notify:t})=>q.createElement(ee.Zb,null,q.createElement(Q.F.div,{className:jt},e("error").pipe(k.U((e=>q.createElement(q.Fragment,null,q.createElement(ee.T6,{className:Kt}),q.createElement("span",{className:Dt},e.header)))))),q.createElement(Q.F.div,{className:$t},e("error").pipe(k.U((e=>e.text)))),q.createElement(Q.F.Fragment,null,e("showGotItButton").pipe(k.U((e=>e?q.createElement(ee.zx.Primary,{className:Mt,name:"gotItButton",onClick:t({kind:_.ix.Kind.errorCardOkButtonClick}),size:"small"},"OK"):null))))))),Vt=J.UI.Union.asOption(Ft),jt=ae.ux.style({display:"flex",alignItems:"center",gap:ae.ux.rem(te.F2)}),Dt=ae.ux.style({fontSize:ae.ux.rem(.875),lineHeight:ae.ux.rem(1.375),fontWeight:700,color:ie.XY.Content.Primary.Default}),$t=ae.ux.style({fontSize:ae.ux.rem(.75),lineHeight:ae.ux.rem(1.125),color:ie.XY.Content.Secondary.Default,whiteSpace:"break-spaces",overflowWrap:"anywhere"}),Kt=ae.ux.style(Object.assign({padding:ae.ux.rem(te.yC)},u.Es.iconSizeRems(1.125))),Mt=ae.ux.style({alignSelf:"flex-start"});function Lt(e){const t=e.assistant.state.view("session").pipe(k.U((e=>e.error)));return J.Z.composeOption(function(e,t){const n=e.router.activeView.view((e=>"loadingError"!==e));return J.Z.fromSideEffect((t=>e.notify(t)),t.pipe(K.M(n),k.U((([e,t])=>({error:e,showGotItButton:t})))))}(e,t.pipe(C.oA)),(()=>t))}const Ht=ae.ux.keyframes({"0%":{backgroundPositionX:"-300px"},"85%":{backgroundPositionX:"600px"},"100%":{backgroundPositionX:"600px"}}),Zt=e=>{var t,n,i;const a=ae.ux.color(null!==(t=e.overlayGradientCenterColor)&&void 0!==t?t:"rgba(0, 0, 0, 1)"),r=ae.ux.color(null!==(n=e.overlayGradientEndColor)&&void 0!==n?n:"rgba(255, 255, 255, 0)"),o=`rgba(${a.red()}, ${a.green()}, ${a.blue()}, ${a.alpha()})`,s=`rgba(${r.red()}, ${r.green()}, ${r.blue()}, ${r.alpha()})`;return ae.ux.style({position:"absolute",top:0,left:0,bottom:0,right:0,pointerEvents:"none",mixBlendMode:null!==(i=e.overlayBlendMode)&&void 0!==i?i:"overlay",background:`linear-gradient(90deg, ${s} 0px, ${o} 120px, ${o} 150px, ${o} 170px, ${s} 300px)`,backgroundRepeat:"no-repeat",backgroundPositionX:"-300px",backgroundSize:1e3,animationDelay:"300ms",animationDuration:"1.5s",animationName:Ht,animationTimingFunction:"linear",animationIterationCount:"infinite"})},Wt=e=>q.createElement("div",{className:Zt(e)}),Yt=J.UI.Node.make((({view:e})=>q.createElement(ee.Zb,{"aria-busy":"true"},q.createElement(ee.Ol,null,e("header")),q.createElement("div",{className:qt},q.createElement(Wt,null))))),qt=ae.ux.style({height:ae.ux.rem(.5),borderRadius:ae.ux.rem(te.W9),background:ne.BlueGray5,flexGrow:1,maxWidth:ae.ux.rem(22.5),position:"relative",marginBottom:ae.ux.rem(te.F2)}),Xt=J.UI.Node.make((({view:e})=>q.createElement(ee.Zb,{style:en},q.createElement(ee.Ol,null,e("header")),q.createElement(Q.F.div,Object.assign({className:tn},(0,u.E)(e("text"),[...u.ap,"person"])))))),Qt=J.UI.Union.make("kind",{loading:Yt,loaded:Xt}),Jt=J.UI.Union.asOption(Qt),en={gap:ae.ux.rem(te.yC)},tn=ae.ux.style({color:ie.XY.Content.Primary.Default,fontStyle:"normal",fontWeight:400,fontSize:ae.ux.rem(.75),lineHeight:ae.ux.rem(1.125),fontFeatureSettings:"'ss01' on",$nest:{"& person":{color:ne.Blue60,fontWeight:700,$nest:{"&::before":{content:"''",display:"inline-block",width:ae.ux.rem(1),height:ae.ux.rem(1),backgroundSize:"cover",verticalAlign:"text-bottom",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundImage:`url('data:image/svg+xml;utf8,${encodeURIComponent(`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.95768 3.00512C8.95983 3.00512 9.7855 3.83575 9.7855 4.8769V6.01259C9.7855 7.05374 8.95983 7.88437 7.95768 7.88437C6.95553 7.88437 6.12986 7.05374 6.12986 6.01259V4.8769C6.12986 3.83575 6.95553 3.00512 7.95768 3.00512ZM10.5847 4.8769C10.5847 3.40916 9.41586 2.20593 7.95768 2.20593C6.4995 2.20593 5.33067 3.40916 5.33067 4.8769V6.01259C5.33067 7.48032 6.4995 8.68355 7.95768 8.68355C8.20909 8.68355 8.45189 8.64779 8.68159 8.58107C8.68635 8.65317 8.69342 8.72016 8.70392 8.78578C8.81061 9.45248 9.17662 10.0499 9.72211 10.4478C9.88673 10.5679 10.0776 10.6652 10.3757 10.8171L11.2702 11.2732C11.6108 11.4469 11.7408 11.5145 11.8477 11.5924C12.2227 11.866 12.4743 12.2767 12.5477 12.7351C12.5589 12.8055 12.5645 12.8807 12.5672 12.995H9.90666C9.68597 12.995 9.50707 13.1739 9.50707 13.3946C9.50707 13.6152 9.68597 13.7941 9.90666 13.7941H12.9694C13.19 13.7941 13.3689 13.6152 13.3689 13.3946L13.369 13.3588C13.369 13.0242 13.369 12.81 13.3368 12.6088C13.2301 11.9421 12.8641 11.3446 12.3186 10.9468C12.154 10.8267 11.9632 10.7294 11.665 10.5775C11.6546 10.5721 11.644 10.5667 11.6332 10.5612L10.7705 10.1214C10.43 9.94773 10.2999 9.88006 10.1931 9.80215C9.81805 9.52861 9.56642 9.11785 9.49307 8.65949C9.4762 8.55408 9.47217 8.43819 9.47124 8.19619C10.1462 7.71137 10.5847 6.9116 10.5847 6.01259V4.8769Z" fill="${ne.Blue60}"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7.91127 3.00512C6.90913 3.00512 6.08346 3.83575 6.08346 4.8769V6.01259C6.08346 7.05374 6.90913 7.88437 7.91127 7.88437C8.91342 7.88437 9.73909 7.05374 9.73909 6.01259V4.8769C9.73909 3.83575 8.91342 3.00512 7.91127 3.00512ZM5.28427 4.8769C5.28427 3.40916 6.45309 2.20593 7.91127 2.20593C9.36946 2.20593 10.5383 3.40916 10.5383 4.8769V6.01259C10.5383 7.48032 9.36946 8.68355 7.91127 8.68355C7.65987 8.68355 7.41706 8.64779 7.18737 8.58107C7.1826 8.65317 7.17553 8.72016 7.16503 8.78578C7.05834 9.45248 6.69233 10.0499 6.14684 10.4478C5.98222 10.5679 5.7914 10.6652 5.49326 10.8171L4.59875 11.2732C4.25818 11.4469 4.12811 11.5145 4.02129 11.5924C3.64626 11.866 3.39463 12.2767 3.32128 12.7351C3.31001 12.8055 3.30447 12.8807 3.30176 12.995H10.2779C10.4986 12.995 10.6775 13.1739 10.6775 13.3946C10.6775 13.6152 10.4986 13.7941 10.2779 13.7941H2.8996C2.67891 13.7941 2.50001 13.6152 2.50001 13.3946L2.5 13.3588C2.49996 13.0242 2.49994 12.81 2.53214 12.6088C2.63883 11.9421 3.00484 11.3446 3.55033 10.9468C3.71494 10.8267 3.90577 10.7294 4.2039 10.5775C4.21438 10.5721 4.22499 10.5667 4.23574 10.5612L5.09841 10.1214C5.43899 9.94773 5.56906 9.88006 5.67588 9.80215C6.0509 9.52861 6.30254 9.11785 6.37589 8.65949C6.39276 8.55408 6.39678 8.43819 6.39771 8.19619C5.72278 7.71137 5.28427 6.9116 5.28427 6.01259V4.8769Z" fill="${ne.Blue60}"/></svg>`)}')`}}}}});function nn(e){const t=e.state.view("session").view((0,a.ls)(i.fromPredicate((e=>_.wR.isQuickReply(e.mode))),i.chain((e=>(0,a.zG)("started"===e.kind?(0,a.zG)(e.context.intent,i.map((e=>({kind:"loaded",text:e})))):i.some({kind:"loading"}),i.map((e=>Object.assign(Object.assign({},e),{header:"Sender’s intent"}))))))));return J.Z.composeOption(J.Z.composeUnion({loading:()=>t.pipe(C.oA),loaded:()=>t.pipe(k.U(i.chain((e=>"loaded"===e.kind?i.some({text:e.text,header:e.header}):i.none))),C.oA)},(()=>t.pipe(C.oA))),(()=>t))}var an=n(80544),rn=n(79692),on=n(9223);const sn=q.createContext({notifyUnmount:a.Q1}),ln=({style:e,mode:t="standard"})=>{const n="standard"==t?1:.875;return q.createElement("div",{className:ae.ux.style({height:ae.ux.rem(2*n),display:"flex",alignItems:"center",gap:ae.ux.rem(te.x),padding:`0 ${ae.ux.rem(te.x)} 0 ${ae.ux.rem(te.F2)}`,borderRadius:ae.ux.rem(te.F2),border:`1px solid ${ne.BlueGray5}`,boxSizing:"border-box"},e)},q.createElement("div",{className:ae.ux.style({width:ae.ux.rem(1.5*n),height:ae.ux.rem(1.5*n),borderRadius:ae.ux.rem(1.5*n),background:ne.BlueGray5})}),q.createElement("div",{className:ae.ux.style({height:ae.ux.rem(.5*n),borderRadius:ae.ux.rem(te.W9),background:ne.BlueGray5,flexGrow:1})}))},cn=J.UI.Node.make((({view:e})=>q.createElement(ee.Zb,{"aria-busy":"true"},q.createElement(ee.Ol,null,e("header")),q.createElement(Q.F.div,{className:dn},q.createElement(Wt,null),e("isQuickReply").pipe(k.U((0,j.RN)(q.createElement(q.Fragment,null,q.createElement(ln,{style:{width:ae.ux.rem(23)}}),q.createElement(ln,{style:{width:ae.ux.rem(21.5)}}),q.createElement(ln,{style:{width:ae.ux.rem(20.5)}})),q.createElement(q.Fragment,null,q.createElement(ln,{style:{width:ae.ux.rem(8.375)}}),q.createElement(ln,{style:{width:ae.ux.rem(9.3125)}}),q.createElement(ln,{style:{width:ae.ux.rem(10.5)}}),q.createElement(ln,{style:{width:ae.ux.rem(10.75)}}),q.createElement(ln,{style:{width:ae.ux.rem(4.9375)}}))))))))),dn=ae.ux.style({display:"flex",flexWrap:"wrap",gap:ae.ux.rem(te.x),position:"relative"}),un=J.UI.Knot.make(J.UI.Grid.make((({slots:e,notify:t,state:n})=>{const{ref:i,onMount:a}=nt.P.useElWatcher(),{notifyUnmount:r}=q.useContext(sn),o=q.useMemo((()=>i.pipe(an.QV(rn.E),C.oA,l.b((e=>t({kind:_.ix.Kind.mount,name:_.ec.initialActionsList,element:e})())),on.x((()=>r({kind:_.ix.Kind.unmount,name:_.ec.initialActionsList}))))),[i]);return nt.P.useSubscriptionTo(o),q.createElement(ee.Zb,{style:pn,ref:a},q.createElement(Q.F.Fragment,null,n.pipe(k.U((({isQuickReply:e})=>e?q.createElement(ee.PG,{reportMenuButtonClassName:hn,onClickProvideFeedback:t({kind:_.ix.Kind.openFeedbackFormButtonClick,source:_.x2.Source.quickReplyInitialActions}),onClickReportOffensive:t({kind:_.ix.Kind.reportOffensiveActionsButtonClick}),onOpenChange:e=>t({kind:_.ix.Kind.reportMenuVisibilityChange,trigger:h.uiItem(_.ec.initialActionsList),visible:e})()}):null))),e.actions))})),{actions:ze}),mn=J.UI.Union.make("kind",{none:J.UI.Node.empty,loading:cn,loaded:un}),pn={position:"relative",padding:`${ae.ux.rem(te.F2)} ${ae.ux.rem(te.qp)}`},hn=ae.ux.style({position:"absolute",top:ae.ux.rem(te.qp),right:ae.ux.rem(te.qp)});function fn(e){const t=e.assistant.state.view("session").view((e=>_.wR.isQuickReply(e.mode))),n=d.h.combine(e.assistant.state.view("contextualActions"),t,((e,t)=>(0,a.zG)(e,i.map(y.UI(U.BackendAction.make)),i.map(y.IR(U.BackendAction.ordByActionStore)),i.map(y.UI((e=>({label:e[0].action.store.label,actions:Ne(e,(t=>_.aU.Store.Id.eq.equals(t.store.id,e[0].action.store.id)),t?i.none:void 0),view:e[0].action.store.view})))))));return J.Z.composeUnion({none:()=>Z.of(null),loading:()=>d.h.combine(n,t,((e,t)=>({header:(0,a.zG)(e,i.map(y.YM),i.map((e=>e.label)),i.getOrElse((()=>"Ideas for you"))),isQuickReply:t}))),loaded:gn(e,n,t)},(()=>d.h.combine(n,e.assistant.state.view("session"),((e,t)=>i.isSome(e)?"started"===t.kind&&"pending"===t.context.kind?{kind:"loading"}:{kind:"loaded"}:"started"===t.kind?{kind:"none"}:{kind:"loading"}))))}function gn(e,t,n){return J.Z.composeKnot({root:J.Z.fromSideEffect((t=>e.notify(t)),n.view((e=>({isQuickReply:e})))),actions:Fe(e,t.pipe(C.oA))})}const xn=J.UI.Node.make((({view:e})=>q.createElement(ee.Zb,{style:yn},q.createElement("div",{className:vn},"This document"),q.createElement(Q.F.div,{className:Cn},e("title")),q.createElement(Q.F.div,{className:kn},e("summary"))))),bn=J.UI.Union.asOption(xn),yn={position:"relative",padding:`${ae.ux.rem(te.x)} ${ae.ux.rem(te.qp)}`,gap:ae.ux.rem(te.x),fontSize:ae.ux.rem(te.qp),lineHeight:ae.ux.rem(te.mh+te.yC)},vn=ae.ux.style({borderBottom:`${ae.ux.rem(te.W9)} solid ${ie.XY.Boundaries.Secondary.Default}`,paddingBottom:ae.ux.rem(te.F2),marginBottom:ae.ux.rem(te.F2),color:ie.XY.Content.Secondary.Default,userSelect:"none"}),Cn=ae.ux.style({fontSize:ae.ux.rem(te.qp+te.yC),color:ie.XY.Content.Secondary.Default,fontWeight:600}),kn=ae.ux.style({color:ie.XY.Content.Primary.Default});function Sn(e){const t=e.assistant.state.view("session").view((0,a.ls)(_.z_.toStarted,i.chain((e=>e.context.documentOverview))));return J.Z.composeOption((()=>(0,a.zG)(t,C.oA)),(()=>t))}const wn=J.UI.Node.make((({notify:e})=>q.createElement(ee.Zb,{style:_n},q.createElement("div",{className:Bn},"Set your voice"),q.createElement("div",{className:Nn},"Choose how you want your generated text to sound."),q.createElement(ee.zx.Primary,{className:In,onClick:e({kind:_.ix.Kind.setVoiceButtonClick}),name:"bannerVoiceProfile",size:"small"},q.createElement(ee.uA,{className:Gn}),"Set voice")))),En=J.UI.Union.asOption(wn),On="setVoiceBtn",_n={gap:0,backgroundColor:"#D8F2EC",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"right",backgroundImage:"url('https://d201kpdrh73vuz.cloudfront.net/text-generation/voice-banner.png')"},Bn=ae.ux.style({fontWeight:700,fontSize:ae.ux.rem(.875),lineHeight:ae.ux.rem(1.375),color:ie.XY.Content.Primary.Default}),Nn=ae.ux.style({fontWeight:400,fontSize:ae.ux.rem(.75),lineHeight:ae.ux.rem(1.125),color:ie.XY.Content.Secondary.Default}),Gn=ae.ux.style({stroke:"white"}),In=ae.ux.joinClasses([On,ae.ux.style(u.Es.buttonOverrideSpecificity({alignSelf:"flex-start",marginTop:ae.ux.rem(te.x),padding:`0 ${ae.ux.rem(te.x)} 0 ${ae.ux.rem(te.F2)}`,lineHeight:ae.ux.rem(1.125),gap:ae.ux.rem(te.F2),$nest:{"& > i":Object.assign({marginLeft:0},u.Es.iconSizeRems(1.5))}},On))]);function Pn(e){const t=e.assistant.state.view("session").view((0,a.ls)(_.z_.toStarted,i.fold(a.jv,(e=>e.voiceProfile.needsSetup))));return J.Z.composeOption(J.Z.fromSideEffect((t=>e.notify(t)),null),(()=>t.view((e=>e?i.some(null):i.none))))}const An=J.UI.Grid.make((({slots:e})=>q.createElement("div",{className:zn},e.voiceBanner,e.documentOverview,e.intent,e.actions))),Un=J.UI.Knot.make(An,{voiceBanner:En,intent:Jt,actions:mn,documentOverview:bn}),zn=ae.ux.style({display:"flex",flexDirection:"column",gap:ae.ux.rem(te.x)});function Tn(e){return J.Z.composeKnot({voiceBanner:Pn(e),intent:nn(e.assistant),actions:fn(e),documentOverview:Sn(e)})}const Rn=J.UI.Node.make((({state:e})=>q.createElement(Q.F.Fragment,null,e.pipe(k.U((({articleTitle:e,articleContent:t,aliases:n,termId:i})=>q.createElement(ee.Zb,{style:Vn,key:i},q.createElement("div",{className:jn},e),n.length>0&&q.createElement("span",{className:Dn,"data-grammarly-part":"knowledge-hub-card-alias"},"also known as"," ",n.map(((e,t)=>q.createElement("span",{key:t,"data-grammarly-part":"knowledge-hub-card-alias"},e.name,t===n.length-1?"":", ")))),q.createElement("div",{className:$n},t)))))))),Fn=J.UI.Union.asOption(Rn),Vn={marginBottom:ae.ux.rem(te.F2)},jn=ae.ux.style({fontWeight:700}),Dn=ae.ux.style({color:ie.XY.Content.Primary.Default,fontStyle:"italic",fontWeight:400,fontSize:ae.ux.rem(.875),lineHeight:ae.ux.rem(1.375)}),$n=ae.ux.style({fontSize:ae.ux.rem(.875),lineHeight:ae.ux.rem(1.375)});function Kn(e){const t=e.state.view("session").view((e=>(0,a.zG)(e,i.fromPredicate((e=>_.wR.isKnowledgeHub(e.mode))),i.chain((e=>e.knowledgeHubContext)))));return J.Z.composeOption((()=>t.pipe(C.oA)),(()=>t))}var Mn=n(60135);const Ln="primaryBtn",Hn="rephraseBtn",Zn="dismissBtn",Wn="reportBtn",Yn=({isActive:e,id:t,children:n,onHovered:i,onFocused:a,onCopy:r,customStyles:o})=>{const s=q.useRef(null);return q.createElement(ee.Zb,{ref:s,style:Object.assign(Object.assign({},Xn),o),"data-active":e,"data-id":t,onMouseEnter:()=>null==i?void 0:i(!0),onMouseLeave:()=>null==i?void 0:i(!1),onFocus:()=>{var e;return null==a?void 0:a((null===(e=s.current)||void 0===e?void 0:e.contains((0,u.vY)(document)))||!1)},onBlur:()=>{var e;return null==a?void 0:a((null===(e=s.current)||void 0===e?void 0:e.contains((0,u.vY)(document)))||!1)},onCopy:r},n)},qn={backgroundColor:ie.XY.Surface.Primary.Default,$nest:{[`& .${Zn}, & .${Wn}`]:{opacity:1,pointerEvents:"auto"},[`& ${u.Es.repeatClassSelector(Ln,u.Es.cheetahButtonContentOverrideSpecificity)}`]:{color:ie.XY.Surface.Primary.Default,backgroundColor:u.BO.BrandGreen60,border:"1px solid transparent"}}},Xn={backgroundColor:"transparent",$nest:{"&:not(:last-of-type)":{borderBottom:`0.5px solid ${ne.BlueGray10}`},[`& ${u.Es.repeatClassSelector(Ln,u.Es.cheetahButtonContentOverrideSpecificity)}`]:{lineHeight:ae.ux.rem(1.125),backgroundColor:ie.XY.Surface.Primary.Default,color:ie.XY.Content.Secondary.Default,border:`1px solid ${ne.BlueGray5}`,boxSizing:"border-box"},[`& ${u.Es.repeatClassSelector(Hn,u.Es.cheetahButtonContentOverrideSpecificity)}`]:{lineHeight:ae.ux.rem(1.5)},[`& .${Zn}, & .${Wn}`]:{opacity:0,pointerEvents:"none",justifyContent:"center"},"&:focus, &:hover":Object.assign({},qn),"&[data-active='true']":Object.assign({},qn)}},Qn=({header:e,footer:t,isActive:n,resultId:i,onHovered:a,onFocused:r,onCopy:o,body:s,customStyles:l})=>q.createElement(Yn,{id:i,isActive:n,onHovered:a,onFocused:r,customStyles:l,onCopy:o},e,s,t),Jn=({onInsert:e,onRephrase:t,onDismiss:n,onProvideFeedback:r,onReportOffensive:o,onReportMenuVisibilityChange:s,disabled:l})=>q.createElement("div",{className:ti},q.createElement("div",{className:ii},(0,a.zG)(e,i.map((e=>q.createElement(ee.zx.Primary,{className:si,name:"insertResult",onClick:e,size:"small",key:"insert"},"Insert"))),i.toNullable),(0,a.zG)(t,i.map((e=>q.createElement(ee.zx.Tertiary,{className:li,name:"rephraseResult",onClick:e,disabled:l,size:"small",key:"rephase"},"Rephrase"))),i.toNullable)),q.createElement("div",{className:ai},q.createElement(ee.zx.Tertiary,{onClick:n,className:ri,compact:!0,size:"small",name:"dismissResult",title:"Delete"},q.createElement(ee.L3,{className:ci})),q.createElement(ee.PG,{reportMenuButtonClassName:oi,onClickProvideFeedback:r,onClickReportOffensive:o,onOpenChange:s}))),ei="ignoreIcon",ti=ae.ux.style({gap:ae.ux.rem(te.x),display:"flex",alignItems:"center",justifyContent:"space-between"}),ni={display:"flex",alignItems:"center",gap:ae.ux.rem(te.x)},ii=ae.ux.style(ni),ai=ae.ux.style(ni),ri=Zn,oi=Wn,si=Ln,li=Hn,ci=ae.ux.joinClasses([ei,ae.ux.style(u.Es.buttonOverrideSpecificity(u.Es.iconSizeRems(1.5),ei))]),di=({header:e,onClick:t,disabled:n})=>q.createElement(ee.zx.Tertiary,{compact:!0,disabled:n,onClick:t,className:xi,name:"editResultPrompt",size:"small"},q.createElement("div",{className:bi},q.createElement("div",Object.assign({className:vi},(0,u.E)(e))),q.createElement("div",{className:fi},"Edit"))),ui=({iconUrl:e,loading:t,header:n})=>q.createElement("div",{className:gi},t?q.createElement(ee.Ho,{className:yi}):(0,a.zG)(e,i.fold(a.gn,(e=>q.createElement("img",{src:e,style:{width:ae.ux.rem(1.25),height:ae.ux.rem(1.25)}})))),q.createElement("span",Object.assign({className:vi},(0,u.E)(n)))),mi="editHeaderBtn",pi="headerBtn",hi=u.Es.buttonOverrideSpecificity({height:ae.ux.rem(1.5),lineHeight:ae.ux.rem(1.125),padding:`0 ${ae.ux.rem(te.F2)}`,margin:`0 ${ae.ux.rem(-te.F2)}`,overflow:"hidden",$nest:{[`& .${mi}`]:{opacity:0,pointerEvents:"none"},"&:focus, &:hover":{background:ne.BlueGray0,[`& .${mi}`]:{opacity:1,pointerEvents:"auto",color:ie.XY.Content.Primary.Default}}}},pi),fi=mi,gi=ae.ux.style({display:"flex",alignItems:"center",gap:ae.ux.rem(te.x+te.yC),height:ae.ux.rem(1.5),fontWeight:400,fontSize:ae.ux.rem(.75),lineHeight:ae.ux.rem(1.125),color:ne.BlueGray60,overflow:"hidden"}),xi=ae.ux.joinClasses([pi,ae.ux.style(hi)]),bi=ae.ux.style({display:"flex",justifyContent:"space-between",width:"100%",gap:ae.ux.rem(te.F2)}),yi=ae.ux.style({marginBottom:`-${ae.ux.rem(te.yC)}`,display:"inline-flex",alignItems:"center",justifyContent:"center"}),vi=ae.ux.style({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",textAlign:"left"});var Ci=n(18208),ki=n(65223),Si=n(37360);const wi=({title:e,url:t,contextText:n})=>{const r=q.useRef(null),o=(0,Si.KL)(r,e),s=(0,a.zG)(n,i.getOrElse((()=>o)));return(0,a.zG)(t,i.fold((()=>q.createElement(_i,{tooltip:s},q.createElement("span",{className:Ei,ref:r},e))),(t=>q.createElement(_i,{tooltip:s},q.createElement("div",{className:Oi},q.createElement(ee.dL,{href:t,className:Ei,ref:r},e))))))},Ei=ae.ux.style({display:"inline-block",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",textAlign:"left",maxWidth:"100%",$nest:{"&:visited":{color:"inherit"}}}),Oi=ae.ux.style({display:"flex",alignItems:"center",width:"100%",overflow:"hidden"}),_i=({children:e,tooltip:t})=>t?q.createElement(ki.u,{align:"topCenter",title:q.createElement(Bi,{text:t})},e):q.createElement(q.Fragment,null,e),Bi=({text:e})=>e?q.createElement("div",{className:Ni},e.length>1e3?e.slice(0,1e3).trim()+"...":e):null,Ni=ae.ux.style({maxWidth:ae.ux.rem(80*te.F2),overflowWrap:"normal",whiteSpace:"normal",textAlign:"left"}),Gi=({title:e,titleId:t,desc:n,descId:i,...a})=>q.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":i,...a},n?q.createElement("desc",{id:i},n):null,e?q.createElement("title",{id:t},e):null,q.createElement("path",{d:"M12 10.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Zm5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Zm-10 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Z",fill:"#646B81"})),Ii=({title:e,titleId:t,desc:n,descId:i,...a})=>q.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":i,...a},n?q.createElement("desc",{id:i},n):null,e?q.createElement("title",{id:t},e):null,q.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.194 7.5H7.5v-1H11V10h-1V8.18a4.926 4.926 0 0 0-2.5 4.32 5.002 5.002 0 0 0 3.214 4.672l-.357.934A6.002 6.002 0 0 1 6.5 12.5a5.925 5.925 0 0 1 2.694-5Zm8.306 5c0-2.128-1.33-3.92-3.214-4.64l.357-.934c2.251.86 3.857 3.011 3.857 5.574a5.988 5.988 0 0 1-2.655 5H17.5v1H14V15h1v1.848a4.985 4.985 0 0 0 2.5-4.348Z",fill:"#646B81"}));var Pi=n(37735);const Ai=({onRegenerateWithoutReference:e})=>q.createElement(ee.h_,{name:"referenceMenu",title:"Reference menu","aria-label":"Reference menu",label:q.createElement(Gi,null),theme:{button:Ui},onAction:t=>{if("regenerateWithoutReference"===t)return e()}},q.createElement(Pi.v.Item,{key:"regenerateWithoutReference",textValue:"regenerateWithoutReference"},q.createElement(Ii,{className:zi}),"Regenerate without this reference")),Ui=(0,ee.P_)({type:"tertiary",compact:!0,size:"small"}),zi=ae.ux.style({marginRight:ae.ux.rem(te.x)}),Ti=({privacyLevel:e})=>{switch(e.kind){case"public":return q.createElement(Ri,null);case"restricted":return q.createElement(Fi,null);default:return(0,a.Rz)(e)}},Ri=()=>q.createElement(q.Fragment,null),Fi=()=>q.createElement(ki.u,{align:"topLeft",title:q.createElement("div",{className:Vi},"This item has restricted access and is only visible to those added to the file")},q.createElement(ee.Ct,{className:ji},"Private")),Vi=ae.ux.style({width:ae.ux.rem(9),overflowWrap:"normal",whiteSpace:"normal",textAlign:"left"}),ji=ae.ux.style({border:`1px solid ${u.BO.BorderBaseSubduedColor}`,borderRadius:ae.ux.rem(te.F2)}),Di=({className:e,isOpen:t,references:n,onOpenChange:i,onRegenerateWithoutReference:a,onReferencesMount:r})=>{const{ref:o,onMount:s}=nt.P.useElWatcher(),c=q.useMemo((()=>o.pipe(an.QV(rn.E),C.oA,l.b(r))),[o]);return nt.P.useSubscriptionTo(c),q.createElement(Q.F.div,{className:e,mount:s},q.createElement(ee.zx.Tertiary,{style:$i,onClick:()=>i(!t),name:"collapseReferencesList",size:"small"},q.createElement("span",{className:Mi},n.length," ",Ci.pluralize(n.length,"reference","references")),t?q.createElement(at.JO.Arrow,{direction:at.n4.up}):q.createElement(at.JO.Arrow,{direction:at.n4.down})),q.createElement("ul",{className:Li,hidden:!t,"aria-hidden":!t},n.map((({id:e,privacyLevel:t,title:n,iconUrl:i,url:r,contextText:o},s)=>q.createElement("li",{key:s,className:Hi},q.createElement("img",{src:i,className:Zi,alt:""}),q.createElement(wi,{title:n,url:r,contextText:o}),q.createElement("div",{className:Wi},q.createElement(Ti,{privacyLevel:t}),void 0!==a?q.createElement(Ai,{onRegenerateWithoutReference:()=>a(e)}):null))))))},$i={base:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",paddingLeft:ae.ux.rem(te.F2),paddingRight:0}},Ki={fontSize:ae.ux.rem(te.qp),lineHeight:ae.ux.rem(te.mh+te.yC),color:ie.XY.Content.Secondary.Default,userSelect:"none"},Mi=ae.ux.style(Ki),Li=ae.ux.style({fontSize:ae.ux.rem(te.qp),lineHeight:ae.ux.rem(te.mh+te.yC),color:ie.XY.Content.Primary.Default,margin:0,padding:0}),Hi=ae.ux.style({height:ae.ux.rem(te.sD),display:"flex",alignItems:"center",borderRadius:ae.ux.rem(ot.xB)}),Zi=ae.ux.style({minWidth:ae.ux.rem(te.mh),height:ae.ux.rem(te.mh),marginRight:ae.ux.rem(te.x)}),Wi=ae.ux.style({display:"flex",alignItems:"center",justifyContent:"space-between",marginLeft:"auto"}),Yi=({title:e,titleId:t,desc:n,descId:i,...a})=>q.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":i,...a},n?q.createElement("desc",{id:i},n):null,e?q.createElement("title",{id:t},e):null,q.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.784 6.21a.727.727 0 0 1 .006 1.029L9.203 17.943 4.21 12.895a.727.727 0 1 1 1.034-1.023l3.959 4.003 9.553-9.66a.727.727 0 0 1 1.028-.005Z",fill:"#646B81"})),qi=({className:e,title:t,description:n})=>q.createElement("div",{className:ae.ux.joinClasses([Xi,e])},q.createElement("div",{className:Qi},q.createElement("span",{className:na},t)),q.createElement("ul",{className:Ji},n.map(((e,t)=>q.createElement("li",{className:ea,key:t},q.createElement(Yi,{className:ta}),q.createElement("span",{className:ia},e)))))),Xi=ae.ux.style({display:"flex",flexDirection:"column"}),Qi=ae.ux.style({display:"flex"}),Ji=ae.ux.style({display:"flex",flexDirection:"column",listStyle:"none",margin:0,padding:0,$nest:{"& li":{marginTop:ae.ux.rem(te.F2)}}}),ea=ae.ux.style({display:"flex",alignItems:"center"}),ta=ae.ux.style({marginRight:ae.ux.rem(te.x),width:ae.ux.rem(te.mh),maxHeight:ae.ux.rem(te.mh+te.yC),$nest:{"& path:first-of-type":{fill:ne.Green60}}}),na=ae.ux.style({fontSize:ae.ux.rem(te.qp),lineHeight:ae.ux.rem(te.mh+te.yC),fontWeight:700,color:ie.XY.Content.Secondary.Default}),ia=ae.ux.style({fontSize:ae.ux.rem(te.qp),lineHeight:ae.ux.rem(te.mh+te.yC),color:ie.XY.Content.Secondary.Default,flex:1}),aa=({isMyVoice:e,onClick:t})=>q.createElement(ee.zx.Tertiary,{name:"toggleVoice",onClick:t,size:"small",compact:!0,style:ra(e)},q.createElement(ee.qn,null),e?"My voice":"Generic");function ra(e){return{base:{display:"flex",alignItems:"center",height:ae.ux.rem(1.25),lineHeight:ae.ux.rem(1.125),color:e?ne.Green80:ne.BlueGray60,backgroundColor:e?ne.Green0:ne.BlueGray0,padding:`0 ${ae.ux.rem(te.F2)}`},icon:{marginRight:ae.ux.rem(te.x),minWidth:ae.ux.rem(1),minHeight:ae.ux.rem(1),$nest:{"& svg":{fill:e?ne.Green60:ne.BlueGray60}}},hovered:{backgroundColor:e?ae.ux.color(u.BO.Green10).mix(ae.ux.color(u.BO.BlueGray5)).toRGBA().toString():ne.BlueGray10,color:e?ne.Green80:ne.BlueGray60},active:{backgroundColor:e?ae.ux.color(u.BO.Green10).mix(ae.ux.color(u.BO.BlueGray5)).toRGBA().toString():ne.BlueGray10,color:e?ne.Green80:ne.BlueGray60}}}var oa=n(36991);const sa=ae.ux.style({whiteSpace:"break-spaces",overflowWrap:"anywhere",fontStyle:"normal",fontWeight:"normal",fontSize:ae.ux.rem(.875),fontFeatureSettings:"'ss03' on",lineHeight:ae.ux.rem(1.3125),color:ie.XY.Content.Primary.Default}),la=({children:e})=>q.createElement("div",{className:sa},e);var ca;!function(e){e.generatedText="generatedText",e.knowledgeHubTerm="knowledgeHubTerm",e.none="none"}(ca||(ca={}));const da=({insertOp:e})=>{switch(ua(e.attributes)){case ca.generatedText:return q.createElement(ma,null,e.insert);case ca.knowledgeHubTerm:return q.createElement(pa,null,e.insert);default:return q.createElement(ha,null,e.insert)}},ua=e=>{switch(!0){case null==e?void 0:e[xa.knowledgeHubTerm]:return ca.knowledgeHubTerm;case null==e?void 0:e[xa.generatedText]:return ca.generatedText;default:return ca.none}},ma=({children:e})=>q.createElement("span",{className:fa},e),pa=({children:e})=>q.createElement(ki.u,{title:"from Knowledge Share"},q.createElement("span",{className:ga},e)),ha=({children:e})=>q.createElement("span",null,e),fa=ae.ux.style({backgroundColor:ne.Green0,borderRadius:ae.ux.rem(ot.fe)}),ga=ae.ux.style({backgroundColor:ne.Blue0,borderRadius:ae.ux.rem(ot.fe)});var xa;!function(e){e.generatedText="generatedText",e.knowledgeHubTerm="knowledgeHubTerm"}(xa||(xa={}));const ba=({replacementDelta:e})=>q.createElement(la,null,e.map(((e,t)=>oa.s.isInsert(e)?q.createElement(da,{key:t,insertOp:e}):null))),ya=({text:e})=>""!==e.trim()?q.createElement(la,null,e):null,va=J.UI.Grid.make((({state:e,notify:t,slots:n})=>q.createElement(Q.F.Fragment,null,e.pipe(k.U((({disabled:e,result:r,originalAction:o})=>q.createElement(Qn,{resultId:r.id,body:q.createElement(q.Fragment,null,q.createElement("div",{className:ae.ux.style({borderBottom:`0.5px solid ${ne.BlueGray10}`})},q.createElement(ya,{text:r.text}),q.createElement("div",{className:ae.ux.style({display:"flex",flexDirection:"row",flexWrap:"wrap",gap:ae.ux.rem(.5),marginTop:ae.ux.rem(.5),marginBottom:ae.ux.rem(.75)})},n.actions)),(0,a.zG)(o,i.map((n=>q.createElement("div",null,q.createElement(ya,{text:"Continue with your original prompt:"}),q.createElement("div",{className:ae.ux.style({paddingTop:ae.ux.rem(.125)})},q.createElement(Ca,{disabled:e,action:n,onClick:t({kind:_.ix.Kind.userPromptSubmit,prompt:n})}))))),i.toNullable)),header:q.createElement("h2",{className:ae.ux.style({fontSize:ae.ux.rem(1),marginBottom:ae.ux.rem(.2),marginTop:0,lineHeight:ae.ux.rem(1.5)})},"Review your AI use"),isActive:!0,footer:q.createElement(Jn,{onRephrase:i.none,onInsert:i.none,onDismiss:t({kind:_.ix.Kind.resultCardDismissButtonClick,result:r}),onProvideFeedback:t({kind:_.ix.Kind.openFeedbackFormButtonClick,source:_.x2.Source.resultCard}),onReportOffensive:t({kind:_.ix.Kind.reportOffensiveResultButtonClick,result:r}),onReportMenuVisibilityChange:e=>t({kind:_.ix.Kind.reportMenuVisibilityChange,trigger:h.card(r.id),visible:e})(),disabled:e}),customStyles:{borderColor:ne.Gold40,borderTopWidth:ae.ux.rem(.375)}}))))))),Ca=({action:e,onClick:t,disabled:n})=>q.createElement("button",{onClick:t,disabled:n,className:ae.ux.style({textDecoration:"underline",color:ne.BlueGray60,background:ae.ux.important("none"),border:"none",cursor:"pointer",lineHeight:ae.ux.rem(1.375),fontSize:ae.ux.rem(.875)})},'"',e.arg.value,'"'),ka=J.UI.Knot.make(va,{actions:_e});var Sa,wa=n(24713),Ea=n(26328);function Oa(e,t){return J.Z.fromSideEffect((t=>e.notify(t)),t)}function _a(e,t){const n=function(e,t){return e.assistant.state.view((({availability:e,session:n})=>(0,a.zG)(_.z_.toStarted(n),i.map((n=>{const r=_.a8.isPassive(e)||_.a8.isUnavailable(e),o=(0,a.zG)(n.context.userPromptAction,i.chain((e=>(0,a.zG)(t.header.copiablePrompt,i.map((t=>_.aU.UserPromptActionValue.fromInput(e,t,i.none,i.none)))))));return{actions:(0,a.zG)(Ea.nI(n.context.availableActions.filter((e=>"quickAction"===e.kind))),i.filter((()=>!r)),i.map(Ea.UI(U.BackendAction.make))),originalAction:o,disabled:r,result:t}}))))).pipe(C.oA)}(e,t),r=n.pipe(wa.j("actions"));return J.Z.composeKnot({root:Oa(e,n),actions:Be(e,r,"standard")})}!function(e){e.searchLabel="searchLabel",e.clickableSearchLabel="clickableSearchLabel",e.knowledgeHub="knowledgeHub"}(Sa||(Sa={}));const Ba=J.UI.Union.asOption(J.UI.Node.make((({notify:e,state:t})=>q.createElement(Q.F.Fragment,null,t.pipe(k.U((t=>q.createElement(aa,{key:"voiceButton",isMyVoice:t.selectedVoice===_.x4.GeneratedTextVoice.user,onClick:e({kind:_.ix.Kind.resultCardToggleGenericVoiceButtonClick,resultId:t.resultId,voice:t.selectedVoice})})))))))),Na=J.UI.Knot.make(J.UI.Grid.make((({slots:e,notify:t,state:n})=>q.createElement(Q.F.div,{className:Ga},n.pipe(k.U((e=>{switch(e.kind){case Sa.clickableSearchLabel:return q.createElement(di,{header:e.label,disabled:e.disabled,onClick:t({kind:_.ix.Kind.resultCardHeaderClick,prompt:e.copiablePrompt})});case Sa.searchLabel:return q.createElement(ui,{header:e.label,iconUrl:e.iconUrl,loading:!1});case Sa.knowledgeHub:return q.createElement(ui,{header:"Knowledge Share content was used.",iconUrl:i.none,loading:!1});default:return(0,Y.L0)(e)}}))),e.voiceButton))),{voiceButton:Ba}),Ga=ae.ux.style({display:"grid",gridTemplateColumns:"1fr auto",gap:ae.ux.rem(te.x)}),Ia=J.UI.Grid.make((({slots:e,state:t,notify:n})=>q.createElement(Q.F.Fragment,null,t.pipe(k.U((({result:t,disabled:r,isActive:o,isReferencesOpen:s,isMyVoice:l})=>q.createElement(Qn,{resultId:t.id,body:q.createElement(ba,{replacementDelta:(0,a.zG)(t.replacementDelta,g.fold(a.yR,(e=>l?e.user:e.generic)))}),header:e.header,footer:q.createElement(q.Fragment,null,(0,a.zG)(_.x4.isComplete(t)?t.changesSummary:i.none,i.map((e=>q.createElement(q.Fragment,null,q.createElement(ee.Z0,{className:Aa}),q.createElement(qi,{title:e.title,description:e.description,className:Ua})))),i.toNullable),q.createElement(Jn,{onRephrase:(0,a.zG)(t,i.fromPredicate(_.x4.isComplete),i.filter((e=>e.isRephraseable)),i.map((e=>n({kind:_.ix.Kind.resultCardRephraseButtonClick,result:e,selectedVoice:l?_.x4.GeneratedTextVoice.user:_.x4.GeneratedTextVoice.generic})))),onInsert:(0,a.zG)(t.primaryAction,i.filter((e=>e===_.x4.PrimaryAction.insert)),i.map((()=>n({kind:_.ix.Kind.resultCardInsertButtonClick,result:t,selectedVoice:l?_.x4.GeneratedTextVoice.user:_.x4.GeneratedTextVoice.generic})))),onDismiss:n({kind:_.ix.Kind.resultCardDismissButtonClick,result:t}),onProvideFeedback:n({kind:_.ix.Kind.openFeedbackFormButtonClick,source:_.x2.Source.resultCard}),onReportOffensive:n({kind:_.ix.Kind.reportOffensiveResultButtonClick,result:t}),onReportMenuVisibilityChange:e=>n({kind:_.ix.Kind.reportMenuVisibilityChange,trigger:h.card(t.id),visible:e})(),disabled:r}),(0,a.zG)(t.references,i.filter((e=>e.length>0)),i.map((e=>q.createElement(Di,{className:za,isOpen:s,references:e,onOpenChange:e=>n({kind:_.ix.Kind.referencesVisibilityChange,visible:e,resultId:t.id})(),onRegenerateWithoutReference:_.x4.isComplete(t)?e=>n({kind:_.ix.Kind.regenerateWithoutReferenceButtonClick,result:t,referenceId:e,selectedVoice:l?_.x4.GeneratedTextVoice.user:_.x4.GeneratedTextVoice.generic})():void 0,onReferencesMount:e=>n({kind:_.ix.Kind.mount,name:_.ec.referencesList,element:e})()}))),i.toNullable)),isActive:o,onHovered:e=>n({kind:_.ix.Kind.resultCardHoverChange,hovered:e,resultId:t.id})(),onFocused:e=>n({kind:_.ix.Kind.resultCardFocusChange,focused:e,resultId:t.id})(),onCopy:n({kind:_.ix.Kind.resultCardCopy,resultId:t.id})}))))))),Pa=J.UI.Knot.make(Ia,{header:Na}),Aa=ae.ux.style({margin:`${ae.ux.rem(te.F2)} 0`}),Ua=ae.ux.style({marginBottom:ae.ux.rem(te.F2)}),za=ae.ux.style({marginTop:ae.ux.rem(te.x)});var Ta=n(17343);function Ra(e,t,n){return J.Z.composeKnot({root:J.Z.fromSideEffect((t=>e.notify(t)),e.assistant.state.view((({availability:e,activeCards:i,session:r,referencesVisibility:o,overrideCardVoice:s})=>{var l,c;return{disabled:_.a8.isUnavailable(e),result:t,isActive:(0,a.zG)(!!i.has(t.id)||0===i.size&&n&&!Fa(_.z_.toStarted(r))),isReferencesOpen:null!==(l=o.get(t.id))&&void 0!==l&&l,isMyVoice:(null!==(c=s.get(t.id))&&void 0!==c?c:(0,a.zG)(t.replacementDelta,g.fold((()=>_.x4.GeneratedTextVoice.generic),(e=>e.preferVoice))))===_.x4.GeneratedTextVoice.user}}))),header:J.Z.composeKnot({root:J.Z.fromSideEffect((t=>e.notify(t)),e.assistant.state.pipe(H.w((e=>{const n=(0,a.zG)(t.header.copiablePrompt,i.fold((()=>({kind:Sa.searchLabel,label:t.header.label,iconUrl:t.header.iconUrl})),(n=>({kind:Sa.clickableSearchLabel,label:t.header.label,disabled:_.a8.isUnavailable(e.availability),copiablePrompt:n}))));return _.x4.isComplete(t)&&function(e){return(0,a.zG)(e.replacementDelta,g.fold(a.yR,(e=>e.generic)),(e=>e.ops.some((e=>{var t;return oa.s.isInsert(e)&&!!(null===(t=e.attributes)||void 0===t?void 0:t[xa.knowledgeHubTerm])}))))}(t)&&t.timestamp+3e3>Date.now()?F.H(t.timestamp+3e3-Date.now()).pipe(Ta.h(n),W.O({kind:Sa.knowledgeHub})):Z.of(n)})))),voiceButton:J.Z.composeOption(J.Z.fromSideEffect((t=>e.notify(t)),e.assistant.state.pipe(k.U((e=>{var n;return{selectedVoice:null!==(n=e.overrideCardVoice.get(t.id))&&void 0!==n?n:(0,a.zG)(t.replacementDelta,g.fold((()=>_.x4.GeneratedTextVoice.generic),(e=>e.preferVoice))),resultId:t.id}})))),(()=>Z.of((0,a.zG)(t.replacementDelta,i.fromEither))))})})}function Fa(e){return(0,a.zG)(e,i.fold(a.jv,(e=>i.isSome(e.inProgressResult)||i.isSome(e.error))))}const Va=J.UI.Node.make((({state:e})=>q.createElement(Q.F.Fragment,null,e.pipe(k.U((({result:e})=>q.createElement(Qn,{resultId:"in-progress",body:q.createElement(ya,{text:e.text}),header:q.createElement(ui,{header:"Working on it...",iconUrl:i.none,loading:!0}),isActive:!0}))))))),ja=J.UI.Union.asOption(Va);function Da(e){const t=e.state.view("session").view(_.z_.toStarted).view((0,a.ls)(i.chain((e=>e.inProgressResult)),i.map((e=>({result:e})))));return J.Z.composeOption((()=>t.pipe(C.oA)),(()=>t))}const $a=J.UI.Knot.make(J.UI.Grid.make((({slots:e,notify:t})=>{const{ref:n,onMount:i}=nt.P.useElWatcher(),{notifyUnmount:a}=q.useContext(sn),r=q.useMemo((()=>n.pipe(an.QV(rn.E),C.oA,l.b((e=>t({kind:_.ix.Kind.mount,name:_.ec.followUpActionsList,element:e})())),on.x((()=>a({kind:_.ix.Kind.unmount,name:_.ec.followUpActionsList}))))),[n]);return nt.P.useSubscriptionTo(r),q.createElement("div",{className:ae.ux.style(Ha),ref:i},e.actions)})),{actions:_e}),Ka=ae.ux.color(dt),Ma=J.UI.Node.make((()=>q.createElement("div",{"aria-busy":!0,className:ae.ux.style(Ha,{position:"relative"})},q.createElement(Wt,{overlayGradientEndColor:`rgba(${Ka.red()}, ${Ka.green()}, ${Ka.blue()}, 0)`,overlayGradientCenterColor:`rgba(${Ka.red()}, ${Ka.green()}, ${Ka.blue()}, 0.5)`,overlayBlendMode:"screen"}),q.createElement(ln,{style:{width:ae.ux.rem(8.5)},mode:"compact"}),q.createElement(ln,{style:{width:ae.ux.rem(9.25)},mode:"compact"}),q.createElement(ln,{style:{width:ae.ux.rem(8)},mode:"compact"}),q.createElement(ln,{style:{width:ae.ux.rem(4.5)},mode:"compact"})))),La=J.UI.Union.make("kind",{none:J.UI.Node.empty,loading:Ma,actions:$a}),Ha={display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"flex-end",flexDirection:"row",width:"100%",gap:ae.ux.rem(te.x),marginBottom:ae.ux.rem(te.x)};function Za(e){const t=e.assistant.state.view("contextualActions").view((e=>(0,a.zG)(e,i.map(y.UI(U.BackendAction.make)),i.map((e=>Ne(e,(0,a.ff)(_.aU.isSkillActionInput)))),i.chain(y.c2))));return J.Z.composeUnion({none:()=>Z.of(null),loading:()=>Z.of(null),actions:J.Z.composeKnot({root:J.Z.fromSideEffect((t=>e.notify(t)),null),actions:Be(e,t,"compact")})},(()=>d.h.combine(t,e.assistant.state.view("availability"),e.assistant.state.view("session"),((e,t,n)=>(0,a.zG)(_.z_.toStarted(n),i.map((e=>e.context)),i.fold((()=>"none"),(n=>(0,a.zG)(e,i.filter((()=>!_.a8.isUnavailable(t))),i.fold((()=>_.a8.isUnavailable(t)||!_._y.isPending(n)?"none":"loading"),(()=>"actions"))))),(e=>({kind:e})))))))}const Wa=({placeholder:e,error:t,openAnswer:n,onOpenAnswerChange:r,onSubmitButtonClick:o,onCancelButtonClick:s,onKeypressShiftEnter:l})=>q.createElement("form",{className:qa,onSubmit:e=>e.preventDefault()},q.createElement(ee.b,{className:er,placeholder:[null!=e?e:""],text:n,onChange:r,ariaLabel:"Open ended answer",fitContentHeight:!0,theme:{fontSize:ae.ux.rem(.75),lineHeight:ae.ux.rem(1.125)},onKeyDownShiftEnter:l}),(0,a.zG)(t,i.fold((()=>null),(e=>q.createElement("div",{className:tr},e)))),q.createElement("div",{className:Ya},q.createElement("input",{type:"submit",value:"Submit",hidden:!0}),q.createElement(ee.zx.Secondary,{style:{base:Object.assign(Object.assign({},Xa),Qa),hovered:Ja},onClick:o},"Submit"),q.createElement(ee.zx.Tertiary,{style:{base:Xa},onClick:s},"Dismiss"))),Ya=ae.ux.style({display:"flex",justifyContent:"flex-start",alignItems:"center"}),qa=ae.ux.style({width:ae.ux.percent(100)}),Xa={minHeight:ae.ux.rem(te.sD),lineHeight:ae.ux.rem(te.sD)},Qa={color:ie.C$.Engagement.Primary.Default,fontWeight:"bold",boxShadow:`inset 0 0 0 1px ${ie.C$.Engagement.Primary.Default}`,marginRight:ae.ux.rem(te.x)},Ja={color:ie.XY.Surface.Primary.Default,backgroundColor:ie.C$.Engagement.Primary.Default},er=ae.ux.style({border:`1px solid ${ne.BlueGray10}`,minHeight:ae.ux.rem(7.5*te.F2),backgroundColor:ne.White,borderRadius:ae.ux.rem(te.x),width:ae.ux.percent(100),padding:`${ae.ux.rem(1.25*te.F2)} ${ae.ux.rem(te.x)}`,boxSizing:"border-box"}),tr=ae.ux.style({color:ie.vU.DangerAndDeletion.Primary.Default,fontSize:ae.ux.rem(.75),marginBottom:ae.ux.rem(te.F2)});var nr=n(77678),ir=n(56377);const ar=({rating:e,ratingLabels:t,maxScore:n})=>(0,a.zG)(e,i.fold((()=>t.length>=n&&n>1?q.createElement("div",{className:sr},q.createElement("span",{className:or},t[0]),q.createElement("span",{className:or},t[n-1])):null),(e=>e-1>=0&&t.length>=e?q.createElement("div",{className:rr},q.createElement("span",null,t[e-1])):null))),rr=ae.ux.style({display:"flex",justifyContent:"center",alignItems:"center",width:"100%",fontWeight:"bold",fontSize:ae.ux.rem(.75),lineHeight:ae.ux.rem(.875)}),or=ae.ux.style({color:ne.NeutralGray50}),sr=ae.ux.style({display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",fontSize:ae.ux.rem(.75),lineHeight:ae.ux.rem(.875)});var lr=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]])}return n};const cr=({disabled:e,rating:t,ratingLabels:n,maxScore:r,onSelectionChange:o})=>{const[s,l]=q.useState(i.none),c=q.useMemo((()=>[]),[]),d=t=>{e||o(t+1)},u=t=>{e||l(i.some(t+1))},m=()=>{e||l(i.none)};return q.createElement(q.Fragment,null,q.createElement("div",{className:dr,role:"slider","aria-valuemin":0,"aria-valuenow":(0,a.zG)(t,i.getOrElse((()=>0))),"aria-valuemax":5,"aria-valuetext":(0,a.zG)(t,i.fold((()=>"Not yet rated"),(e=>n[e-1])))},Array.from({length:r}).map(((o,l)=>q.createElement(ur,{key:l,onClick:()=>d(l),style:{maxWidth:ae.ux.percent(r>0?100/r:0)},isFilled:(0,a.zG)(t,i.fold((()=>!1),(e=>l<e)))||(0,a.zG)(s,i.fold((()=>!1),(e=>l<e))),onMouseEnter:()=>u(l),onMouseLeave:m,onFocus:()=>u(l),onBlur:m,isSelected:(0,a.zG)(t,i.fold((()=>!1),(e=>l+1===e))),isFocusable:(0,a.zG)(t,i.fold((()=>0===l),(e=>l+1===e))),ariaLabel:`Rate this generated output as ${n[l]}`,ref:e=>c.push(e),onKeyDown:t=>((t,n)=>{var o,l,u,m;e||("ArrowRight"!==t.key&&"ArrowUp"!==t.key||((0,a.zG)(s,i.fold((()=>!1),(e=>e<r)))?null===(o=c[n+1])||void 0===o||o.focus():null===(l=c[0])||void 0===l||l.focus()),"ArrowLeft"!==t.key&&"ArrowDown"!==t.key||((0,a.zG)(s,i.fold((()=>!1),(e=>e>1)))?null===(u=c[n-1])||void 0===u||u.focus():null===(m=c[4])||void 0===m||m.focus()),"Enter"!==t.key&&" "!==t.key||d(n))})(t,l),disabled:e})))),q.createElement(ar,{rating:(0,a.zG)(t,i.fold((0,a.a9)(s),(0,a.a9)(t))),ratingLabels:n,maxScore:r}),q.createElement(ir.L,{small:!0}))},dr=ae.ux.style({display:"flex",width:ae.ux.percent(100),justifyContent:"center"}),ur=q.forwardRef(((e,t)=>{var{isFilled:n,ariaLabel:i,disabled:a,isSelected:r,isFocusable:o}=e,s=lr(e,["isFilled","ariaLabel","disabled","isSelected","isFocusable"]);return q.createElement("button",Object.assign({className:mr,role:"radio","aria-label":i,disabled:a,"aria-checked":r,tabIndex:o?0:-1,ref:t},s),q.createElement(ee.r7,{className:n?pr:""}))}));ur.displayName="StarButton";const mr=ae.ux.style({border:"none",background:"none",cursor:"pointer",padding:0,borderRadius:ae.ux.rem(te.F2),width:ae.ux.rem(te.Lw),$nest:{"&:focus-visible":{outlineStyle:"none",boxShadow:`0 0 0 2px ${ie.XY.Content.Secondary.Default}`}}}),pr=ae.ux.style({$nest:{"& path":{fill:nr.CoreYellow50,stroke:nr.CoreYellow50}}});var hr=n(59769),fr=n(46560);const gr=({stage:e,rating:t,initialTitle:n,acknowledgment:i,acknowledgmentTitle:a,onCloseButtonClick:r,className:o})=>q.createElement("div",{className:ae.ux.joinClasses([xr,o])},q.createElement(hr._,{className:yr,fill:"#000"}),q.createElement(vr,{stage:e,rating:t,initialTitle:n,acknowledgment:i,acknowledgmentTitle:a}),q.createElement(ee.zx.Tertiary,{"aria-label":"Close survey",style:{base:{marginLeft:"auto",padding:0,minWidth:ae.ux.rem(te.qp),minHeight:ae.ux.rem(te.qp)},hovered:{backgroundColor:ne.BlueGray10},active:{backgroundColor:ne.BlueGray10}},onClick:r},q.createElement(fr.B,null))),xr=ae.ux.style({display:"flex",alignItems:"center"}),br=ae.ux.style({fontSize:ae.ux.rem(.75)}),yr=ae.ux.style({marginRight:ae.ux.rem(te.qp),$nest:{"& path:first-of-type":{fill:ne.NeutralGray70}}}),vr=({stage:e,rating:t,initialTitle:n,acknowledgmentTitle:r,acknowledgment:o})=>{switch(e){case _.Bs.Stage.Type.Rating:return q.createElement("span",{className:br},n);case _.Bs.Stage.Type.Feedback:return q.createElement("span",{className:br},"Your rating:"," ",Array.from({length:t}).map((()=>"⭐")).join(" "));case _.Bs.Stage.Type.Completed:return q.createElement("span",{className:br},(0,a.zG)(r,i.fold((()=>q.createElement("b",null,"Thank you!")),(e=>q.createElement("b",null,e))))," ",(0,a.zG)(o,i.fold((()=>"Your feedback helps us improve."),(e=>e))));case _.Bs.Stage.Type.Closed:return null;default:return(0,Y.L0)(e)}},Cr=J.UI.Union.asOption(J.UI.Node.make((({notify:e,state:t})=>q.createElement(Q.F.Fragment,null,t.pipe(k.U((t=>q.createElement(kr,Object.assign({},t,{onRatingSelectionChange:t=>{e({kind:_.ix.Kind.surveyRatingSelectionChange,rating:t})()},onOpenAnswerChange:t=>e({kind:_.ix.Kind.surveyOpenAnswerChange,openAnswer:t})(),onSubmitButtonClick:e({kind:_.ix.Kind.surveySubmitButtonClick}),onKeypressShiftEnter:e({kind:_.ix.Kind.surveyKeyPressShiftEnter}),onCancelButtonClick:e({kind:_.ix.Kind.surveyCancelButtonClick}),onCloseButtonClick:e({kind:_.ix.Kind.surveyCloseButtonClick})}))))))))),kr=({survey:e,stage:t,transitionStage:n,rating:r,errors:o,openAnswer:s,onOpenAnswerChange:l,onRatingSelectionChange:c,onCloseButtonClick:d,onCancelButtonClick:u,onSubmitButtonClick:m,onKeypressShiftEnter:p})=>q.createElement("div",{className:Sr},q.createElement(gr,{className:ae.ux.joinClasses([n===_.Bs.Stage.Type.Feedback?Or:void 0,t===_.Bs.Stage.Type.Feedback?_r:void 0]),stage:t,rating:(0,a.zG)(r,i.getOrElse((0,a.a9)(1))),initialTitle:e.title,acknowledgment:e.acknowledgment,acknowledgmentTitle:e.acknowledgmentTitle,onCloseButtonClick:d}),t!==_.Bs.Stage.Type.Completed&&q.createElement(q.Fragment,null,q.createElement("div",{className:ae.ux.joinClasses([Br,n===_.Bs.Stage.Type.Feedback?Or:void 0,t===_.Bs.Stage.Type.Feedback?_r:void 0])},q.createElement("div",{className:Gr,hidden:t!==_.Bs.Stage.Type.Rating},q.createElement(cr,{onSelectionChange:c,rating:r,disabled:i.isSome(r),maxScore:e.maxScore,ratingLabels:e.ratingLabels})),(0,a.zG)(e.openAnswer,i.fold((0,a.a9)("(Optional) Please share your feedback to help us improve."),(e=>e.placeholder)),(e=>q.createElement("div",{className:Nr,hidden:t!==_.Bs.Stage.Type.Feedback},q.createElement(Wa,{placeholder:e,onSubmitButtonClick:m,onKeypressShiftEnter:p,onCancelButtonClick:u,onOpenAnswerChange:l,openAnswer:s,error:(0,a.zG)(o,i.chain((e=>e.openAnswerError)))}))))))),Sr=ae.ux.style({backgroundColor:ne.BlueGray0,border:`1px solid ${ne.BlueGray10}`,borderRadius:ae.ux.rem(te.F2),padding:`${ae.ux.rem(te.x)} ${ae.ux.rem(te.mh)}`}),wr=ae.ux.keyframes({from:{opacity:1},to:{opacity:.3}}),Er=ae.ux.keyframes({from:{opacity:.3},to:{opacity:1}}),Or=ae.ux.style({animation:`${wr} 0.3s ease-in-out`}),_r=ae.ux.style({animation:`${Er} 0.3s ease-in-out`}),Br=ae.ux.style({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginTop:ae.ux.rem(te.yC)}),Nr=ae.ux.style({width:ae.ux.percent(100)}),Gr=ae.ux.style({maxWidth:ae.ux.percent(100),width:"fit-content",paddingTop:ae.ux.rem(te.F2)});function Ir(e,t){return J.Z.composeOption(J.Z.fromSideEffect((t=>e.notify(t)),e.survey.state.pipe(k.U((e=>(0,a.zG)(e.activeSurvey,i.map((t=>({survey:t,state:e})))))),C.oA,k.U((({survey:e,state:t})=>({survey:e,stage:t.stage,transitionStage:t.transitionStage,rating:t.rating,openAnswer:(0,a.zG)(t.openAnswer,i.getOrElse((0,a.a9)(""))),ratingLabels:(0,a.zG)(t.activeSurvey,i.fold((0,a.a9)([]),(e=>e.ratingLabels))),errors:t.errors}))))),(()=>d.h.combine(e.survey.state,t,(({activeSurvey:e,stage:t},n)=>(0,a.zG)(e,i.filter((e=>(0,a.zG)(n,O.contains(e.resultId))&&t!==_.Bs.Stage.Type.Closed)))))))}const Pr=J.UI.Grid.make((({slots:e,view:t})=>{const{ref:n,onMount:a}=nt.P.useElWatcher(),r=q.useMemo((()=>L.aj([n.pipe(C.oA,k.U((e=>i.fromNullable((0,u.$Q)(e,3)))),C.oA),t("scrollToken").pipe(V.x())]).pipe(k.U(Mn.li),l.b((e=>{e.scrollTop=e.scrollHeight-e.clientHeight})))),[n]);return nt.P.useSubscriptionTo(r),q.createElement("div",{className:jr,ref:a},e.intent,e.results,e.userSurvey,e.belowResults)})),Ar=J.UI.Union.make("kind",{complete:Pa,aiUsageNotification:ka}),Ur=J.UI.List.make(b.bw,Ar),zr=J.UI.Union.asOption(J.UI.Composite.make(J.UI.Grid.make((({slots:e})=>q.createElement("div",{className:Dr},e.history))),Ur)),Tr=J.UI.Knot.make(J.UI.Grid.make((({slots:e})=>q.createElement(q.Fragment,null,e.actions))),{actions:La}),Rr=J.UI.Union.make("kind",{inProgressResult:ja,error:Vt,followUpActions:Tr}),Fr=J.UI.Union.asOption(Rr),Vr=J.UI.Knot.make(Pr,{intent:Jt,results:zr,userSurvey:Cr,belowResults:Fr}),jr=ae.ux.style({display:"flex",flexDirection:"column",gap:ae.ux.rem(te.x)}),Dr=ae.ux.style({display:"flex",flexDirection:"column",gap:ae.ux.rem(te.x)});function $r(e,t){return J.Z.composeList(b.Ot,(()=>t.pipe(k.U((0,a.ls)(b.ke(50),b.Su(((e,t)=>({result:t,isLast:0===e}))),b.GY)))),(({result:t,isLast:n})=>function(e,t,n){return J.Z.composeUnion({complete:Ra(e,t,n),aiUsageNotification:_a(e,t)},(()=>Z.of(_.x4.isAIUsageNotification(t)?{kind:"aiUsageNotification"}:{kind:"complete"})))}(e,t,n)))}function Kr(e,t){return J.Z.composeOption($r(e,t.view(i.getOrElse((()=>[])))),(()=>t))}function Mr(e){const t=e.assistant.state.view("session").view(_.z_.toStarted).pipe(k.U(i.map((e=>i.isSome(e.error)?"error":i.isSome(e.inProgressResult)?"inProgressResult":"followUpActions"))));return J.Z.composeOption(function(e,t){return J.Z.composeUnion({inProgressResult:Da(e.assistant),followUpActions:J.Z.composeKnot({actions:Za(e)}),error:Lt(e)},(()=>t.pipe(C.oA,k.U((e=>({kind:e}))))))}(e,t),(()=>t))}function Lr(e){const t=e.assistant.state.view("session").view((0,a.ls)(_.z_.toStarted,i.map((e=>e.results)),i.chain(y.c2)));return J.Z.composeKnot({root:()=>e.assistant.state.view("session").view((0,a.ls)(_.z_.toStarted,i.chain((e=>e.inProgressResult)),i.map((e=>e.text)))).pipe(C.oA,W.O(""),k.U((e=>({scrollToken:e})))),intent:nn(e.assistant),results:Kr(e,t),userSurvey:Ir(e,t.view(i.map((0,a.ls)(y.YM,(e=>e.id))))),belowResults:Mr(e)})}const Hr={padding:0,height:ae.ux.rem(14.625),overflow:"hidden",boxSizing:"border-box",maxHeight:"inherit"},Zr=ae.ux.style({height:"100%",borderRadius:ae.ux.rem(ot.xB+ot.fe)}),Wr=ae.ux.style({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}),Yr=ae.ux.style({border:"none",borderRadius:ae.ux.rem(ot.xB+ot.fe),margin:"0",height:"100%",width:"100%"}),qr=ae.ux.style({color:ie.XY.Content.Secondary.Default,fontSize:ae.ux.rem(.75),fontFamily:"Inter",fontWeight:700,lineHeight:ae.ux.rem(1.125)}),Xr=ae.ux.style({color:ie.XY.Content.Secondary.Default,fontSize:ae.ux.rem(.75),fontFamily:"Inter",lineHeight:ae.ux.rem(1.125)}),Qr=ae.ux.style({visibility:"hidden",position:"absolute"}),Jr=J.UI.Node.make((({view:e,notify:t})=>{const{ref:n,onMount:i}=nt.P.useElWatcher(),{notifyUnmount:r}=q.useContext(sn),o=q.useMemo((()=>n.pipe(an.QV(rn.E),C.oA,l.b((e=>t({kind:_.ix.Kind.mount,name:_.ec.skill,element:e})())),on.x((()=>r({kind:_.ix.Kind.unmount,name:_.ec.skill}))))),[n]);nt.P.useSubscriptionTo(o);const c=q.useMemo((()=>e("status").pipe(M.G(),s.h((([e,t])=>"loading"===e&&"ready"===t)),H.w((()=>n.pipe(C.oA,l.b((e=>e.focus()))))))),[n]);return nt.P.useSubscriptionTo(c),q.createElement(Q.F.Fragment,null,e("size").pipe(k.U((t=>q.createElement(ee.Zb,{style:Object.assign(Object.assign({},Hr),{height:t.height})},q.createElement(Q.F.Fragment,null,e("status").pipe(k.U((t=>"loading"===t||"ready"===t?q.createElement(q.Fragment,null,q.createElement("div",Object.assign({},(0,X.Sh)(Zr,Wr,"ready"===t?Qr:void 0)),q.createElement(ee.Ho,null),q.createElement(Q.F.span,{className:Xr},e("displayName").pipe(k.U((e=>`Loading ${e}...`))))),q.createElement(Q.F.iframe,Object.assign({src:e("srcUrl"),forwardRef:i},(0,X.Sh)(Yr,"loading"===t?Qr:void 0)))):"error"===t?q.createElement("div",Object.assign({},(0,X.Sh)(Zr,Wr)),q.createElement(ee.T6,null),q.createElement("span",{className:qr},"Something went wrong"),q.createElement("span",{className:Xr},"Please try again.")):(0,a.Rz)(t))))))))))})),eo=J.UI.Union.asOption(Jr);function to(e){const t=e.skill.state.view(i.map((e=>({displayName:e.skill.displayName,status:e.status,srcUrl:e.skill.srcUrl,size:e.size}))));return J.Z.composeOption(function(e,t){return J.Z.fromSideEffect((t=>e.notify(t)),t)}(e,t.pipe(C.oA)),(()=>t))}const no=J.UI.Union.make("kind",{error:Vt,initial:Un,actionHints:Ut,results:Vr,skill:eo}),io=10,ao=34.75,ro=J.UI.Grid.make((({slots:e,state:t,view:n,notify:r})=>{const{rect:o,onMount:s}=nt.P.useRectWatcher(),c=q.useMemo((()=>o.pipe(C.oA,l.b((e=>r({kind:"contentSizeChange",height:e.height})())))),[o]);return nt.P.useSubscriptionTo(c),q.createElement(Q.F.div,{mount:s,onScroll:e=>r({kind:"contentScroll",scrollTop:e.currentTarget.scrollTop})(),style:{overflow:n("canScroll").pipe(k.U((0,j.RN)("auto","hidden"))),maxHeight:t.pipe(k.U((({assistantMaxHeight:e,promptHeight:t})=>(0,a.zG)(f.Y(i.Applicative)({assistantMaxHeight:e,promptHeight:t}),i.fold((()=>ae.ux.rem(ao)),(({assistantMaxHeight:e,promptHeight:t})=>(0,a.zG)(function(e,t,n=.25){const i=`calc(${ae.ux.rem(os+ss+2.5)} + ${ae.ux.px(t)})`;return`calc(${e}px - ${i} - ${ae.ux.rem(n)})`}(e,t),(e=>`max(min(${e}, ${ae.ux.rem(ao)}), ${ae.ux.rem(io)})`))))))),W.O(ae.ux.rem(ao)))}},e.preloadedContent,e.content)})),oo=J.UI.Knot.make(ro,{content:no,preloadedContent:Fn}),so=J.UI.Union.asOption(oo);function lo(e){return J.Z.composeOption((t=e,()=>t.assistant.state.view("selectedAction").view(i.chain((e=>(0,a.zG)(e.args[0].hints,i.map((t=>({header:e.label,iconUrl:e.iconUrl,hintsHeader:t.header,hintsItems:t.items}))))))).pipe(C.oA)),(()=>e.assistant.state.view("selectedAction").view(i.chain((e=>e.args[0].hints)))));var t}function co(e,t){return J.Z.composeUnion({error:Lt(e),initial:Tn(e),results:Lr(e),actionHints:lo(e),skill:to(e)},(()=>t.pipe(C.oA,k.U((e=>({kind:e}))))))}function uo(e,t,n,a){const r=d.h.combine(e.assistant.state,e.router.activeView,(({availability:e,session:t},n)=>{switch(n){case"loading":return i.some("initial");case"loadingError":return i.some("error");case"beforeResults":return i.isSome(t.error)?i.some("error"):_.a8.isUnavailable(e)?i.none:i.some("initial");case"actionSelected":return i.some("actionHints");case"afterResults":return i.some("results");case"voiceProfile":case"legacyVoiceProfile":case"feedbackForm":return i.none;case"skill":return i.some("skill");default:return(0,Y.L0)(n)}}));return J.Z.composeOption(function(e,t,n,a,r){return J.Z.composeKnot({root:J.Z.fromSideEffect((t=>{switch(t.kind){case"contentScroll":return e.assistant.contentOverflowUnderToolbar(t.scrollTop>0);case"contentSizeChange":return n.set(i.some(t.height+8));default:(0,Y.L0)(t)}}),d.h.combine(a,r,e.assistant.state.view("canScroll"),((e,t,n)=>({assistantMaxHeight:e,promptHeight:t,canScroll:n})))),content:co(e,t),preloadedContent:Kn(e.assistant)})}(e,r,t,n,a),(()=>r))}const mo=({title:e,url:t})=>{const n=q.useRef(null),r=(0,Si.KL)(n,e);return(0,a.zG)(t,i.fold((()=>q.createElement("span",{className:po,title:r,ref:n},e)),(t=>q.createElement(ee.dL,{className:po,title:r,ref:n,href:t},e))))},po=ae.ux.style({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",textAlign:"left",$nest:{"&:visited":{color:"inherit"}}}),ho=J.UI.Node.make((({state:e})=>q.createElement(Q.F.Fragment,null,e.pipe(k.U((({detectedReferences:e})=>q.createElement(ee.Zb,{style:go},q.createElement("span",{className:xo},"Detected references"),q.createElement("ul",{className:bo},e.map((({title:e,iconUrl:t,url:n},i)=>q.createElement("li",{key:i,className:yo},q.createElement("img",{src:t,className:vo,alt:""}),q.createElement(mo,{title:e,url:n})))))))))))),fo=J.UI.Union.asOption(ho),go={position:"relative",padding:`${ae.ux.rem(te.F2)} ${ae.ux.rem(te.qp)}`,gap:0},xo=ae.ux.style({fontSize:ae.ux.rem(te.qp),lineHeight:ae.ux.rem(te.mh+te.yC),color:ie.XY.Content.Secondary.Default,userSelect:"none"}),bo=ae.ux.style({fontSize:ae.ux.rem(te.qp),lineHeight:ae.ux.rem(te.mh+te.yC),color:ie.XY.Content.Primary.Default,margin:0,padding:0}),yo=ae.ux.style({height:ae.ux.rem(te.sD),display:"flex",alignItems:"center",borderRadius:ae.ux.rem(ot.xB)}),vo=ae.ux.style({minWidth:ae.ux.rem(te.mh),height:ae.ux.rem(te.mh),marginRight:ae.ux.rem(te.x)});function Co(e){const t=e.assistant.state.view((({detectedReferences:e})=>e.length?i.some(!0):i.none));return J.Z.composeOption(function(e){return()=>e.assistant.state.view("detectedReferences").pipe(k.U((e=>({detectedReferences:e}))))}(e),(()=>t))}const ko="goBtn",So=ae.ux.style({display:"flex",alignItems:"flex-start",padding:`${ae.ux.rem(te.x)} ${ae.ux.rem(te.qp)}`,gap:ae.ux.rem(te.F2),justifyContent:"space-between"}),wo=ae.ux.style({flexGrow:1,$nest:{"&[data-hasheader='false']":{paddingTop:ae.ux.rem(te.F2+te.W9)}}}),Eo=ae.ux.style({width:ae.ux.percent(100),border:"none"}),Oo=u.Es.buttonOverrideSpecificity({alignSelf:"flex-end",$nest:{"&[data-disabled='true']":{opacity:1,$nest:{"& svg":{fill:ne.BlueGray30}}}}},ko),_o=ae.ux.joinClasses([ko,ae.ux.style(Oo)]),Bo=J.UI.Node.make((({state:e,view:t,notify:n})=>{const{ref:r,onMount:o}=nt.P.useElWatcher(),s=q.useMemo((()=>r.pipe(an.QV(rn.E),C.oA,l.b((e=>n({kind:_.ix.Kind.mount,name:_.ec.promptInput,element:e})())))),[r]);return nt.P.useSubscriptionTo(s),q.createElement(Q.F.div,{className:So,mount:o},q.createElement(Q.F.div,{className:wo,"data-hasheader":t("hasHeader")},e.pipe(k.U((({placeholder:e,kind:t,text:r,autofocusToken:o,availability:s})=>q.createElement(ee.b,{text:r,ariaLabel:"custom prompt",className:Eo,placeholder:"ready"===t?i.toUndefined(e):void 0,fitContentHeight:!0,autofocus:o,onChange:e=>n({kind:_.ix.Kind.promptFieldTextChange,text:e})(),onKeyDownEnter:"ready"===t?n({kind:_.ix.Kind.promptFieldKeyPressEnter,text:r}):a.Q1,onKeyUpEscape:n({kind:_.ix.Kind.promptFieldKeyPressEscape}),onFocus:n({kind:_.ix.Kind.promptFieldFocusChange,focused:!0}),onBlur:n({kind:_.ix.Kind.promptFieldFocusChange,focused:!1}),onKeyDownArrowUp:n({kind:_.ix.Kind.promptFieldKeyPressArrowUp}),onKeyDownArrowDown:n({kind:_.ix.Kind.promptFieldKeyPressArrowDown}),disabled:_.a8.isUnavailable(s)}))))),e.pipe(k.U((({kind:e,text:t,availability:i})=>"waitingForResult"===e?q.createElement(ee.zx.Tertiary,{onClick:n({kind:_.ix.Kind.generateStopButtonClick}),name:"generateStop",compact:!0,size:"large"},q.createElement(ee.wN,null)):"ready"===e?q.createElement(ee.zx.Tertiary,{className:_o,onClick:n({kind:_.ix.Kind.promptSubmitButtonClick,text:t}),disabled:""===t.trim()||_.a8.isUnavailable(i),name:"promptSend",compact:!0,size:"large"},q.createElement(ee.kc,null)):null))))}));var No=n(67434);function Go(e){const t=e.promptMenu.state.pipe(No.R(((e,t)=>(0,a.zG)(t,i.fold((()=>e),(()=>e+1)))),0));return J.Z.fromSideEffect((t=>e.notify(t)),L.aj([e.assistant.state,t,e.router.activeView]).pipe(k.U((([e,t,n])=>{return{kind:(0,a.zG)(_.z_.toStarted(e.session),i.fold((()=>"loading"),(e=>(0,a.zG)(e.inProgressResult,i.fold((()=>"ready"),(()=>"waitingForResult")))))),availability:e.availability,placeholder:(r=e,(0,a.zG)(r.selectedAction,i.chain((e=>""!==e.args[0].label.trim()?i.some([e.args[0].label]):i.none)),i.alt((()=>(0,a.zG)(r.userPromptAction,i.map((e=>[e.arg.label]))))))),hasHeader:!1,text:e.textBox,autofocusToken:ee.vw.create(`${n}_${(0,a.zG)(_.z_.toStarted(e.session),i.chain((e=>e.inProgressResult)),i.fold((()=>"done"),(()=>"inProgress")))}_${(0,a.zG)(e.selectedAction,i.fold((()=>"no-selected-action"),(()=>"selected-action")))}_${e.promptAutofocusToken}_promptMenuOpen:${t}`)};var r})),V.x()))}const Io=J.UI.Union.asOption(J.UI.Composite.make(J.UI.Grid.make((({slots:e})=>q.createElement("div",{className:Po},e.content))),ze)),Po=ae.ux.style({padding:`${ae.ux.rem(te.F2)} ${ae.ux.rem(te.qp)}`});function Ao(e,t){const n=t.pipe(k.U((0,a.ls)(i.map(y.DY(_.aU.ListableActionInput.ordByGroup)),i.map(Ve))));return J.Z.composeOption(Fe(e,n.pipe(C.oA)),(()=>n))}const Uo=J.UI.List.make(b.bw,Ee),zo=J.UI.Grid.make((({slots:e})=>q.createElement("div",{className:Ro},e.customPromptGo,q.createElement("div",{className:Fo},e.searchResults)))),To=J.UI.Knot.make(zo,{searchResults:Uo,customPromptGo:Ee}),Ro=ae.ux.style({background:"transparent",padding:ae.ux.rem(te.qp),display:"flex",flexDirection:"column",alignItems:"flex-start",gap:ae.ux.rem(te.x)}),Fo=ae.ux.style({display:"flex",flexDirection:"row",flexWrap:"wrap",gap:ae.ux.rem(te.x)});function Vo(e,t){return J.Z.composeKnot({searchResults:Be(e,t.pipe(k.U(i.map(y.UI(U.BackendAction.make)))),"standard"),customPromptGo:Oe(e,Z.of({kind:"go"}),"standard")})}const jo=J.UI.Union.make("kind",{searchResults:To,actionsStore:Io}),Do=J.UI.Knot.make(J.UI.Grid.make((({slots:e,view:t,notify:n})=>q.createElement(Q.F.div,{className:Ko,style:{maxHeight:t("maxHeight")}},q.createElement(ee.zx.Tertiary,{compact:!0,className:Mo,onClick:n({kind:_.ix.Kind.collapsePromptMenuButtonClick}),name:"collapsePromptMenu",size:"small"},q.createElement(at.JO.Arrow,{direction:at.n4.down,className:Zo})),q.createElement("div",{ref:e=>e&&n({kind:_.ix.Kind.mount,name:_.ec.promptMenuContent,element:e})(),onKeyDown:e=>{"ArrowDown"===e.key?n({kind:_.ix.Kind.promptMenuKeyPressArrowDown})():"ArrowUp"===e.key&&n({kind:_.ix.Kind.promptMenuKeyPressArrowUp})()}},e.content)))),{content:jo}),$o=J.UI.Union.asOption(Do),Ko=ae.ux.style({overflowY:"scroll",borderBottom:`0.5px solid ${ie.XY.Boundaries.Secondary.Default}`}),Mo=ae.ux.style({position:"absolute",top:ae.ux.rem(te.x),right:ae.ux.rem(te.x),zIndex:1,$nest:{"&:not(:hover)":{backgroundColor:ae.ux.important(ne.White)}}}),Lo="arrowIcon",Ho=u.Es.buttonOverrideSpecificity(u.Es.iconSizeRems(1.5),Lo),Zo=ae.ux.joinClasses([Lo,ae.ux.style(Ho)]);function Wo(e,t){return J.Z.composeOption(J.Z.composeKnot({root:J.Z.fromSideEffect((t=>e.notify(t)),t.pipe(C.oA)),content:J.Z.composeUnion({searchResults:Vo(e,t.pipe(k.U((0,a.ls)(i.filter(je.isSearchResults),i.chain((e=>y.hX(e.filterPredicate)(e.actions))))))),actionsStore:Ao(e,t.pipe(k.U((0,a.ls)(i.filter(je.isActionsStore),i.chain((e=>y.hX(e.filterPredicate)(e.actions)))))))},(()=>t.pipe(C.oA)))}),(()=>t))}const Yo=J.UI.Grid.make((({slots:e,view:t,notify:n})=>{const{onMount:r,rect:o}=nt.P.useRectWatcher(),s=q.useMemo((()=>o.pipe(l.b((e=>n({kind:"promptHeightChange",height:(0,a.zG)(e,i.map((e=>e.height)))})())))),[o]);nt.P.useSubscriptionTo(s);const c=q.useRef(null);return q.createElement(Q.F.div,{className:Qo},q.createElement(Q.F.div,{mount:c,className:es,"data-expanded":t("menuExpanded"),onFocus:()=>{var e;return n({kind:_.ix.Kind.promptFieldAndMenuFocusChange,focused:(null===(e=c.current)||void 0===e?void 0:e.contains((0,u.vY)(document)))||!1})()},onBlur:()=>{var e;return n({kind:_.ix.Kind.promptFieldAndMenuFocusChange,focused:(null===(e=c.current)||void 0===e?void 0:e.contains((0,u.vY)(document)))||!1})()}},e.promptMenu,q.createElement("div",{ref:r},e.promptField)),L.aj([o,t("menuExpanded")]).pipe(k.U((([e,t])=>(0,a.zG)(e,i.filter((()=>t)),i.fold(a.gn,(e=>q.createElement("div",{className:ts,style:{height:e.height}}))))))))})),qo=J.UI.Knot.make(Yo,{promptField:Bo,promptHeader:J.UI.Node.empty,promptMenu:$o}),Xo=J.UI.Union.asOption(qo),Qo=ae.ux.style({position:"relative"}),Jo=e=>ae.ux.color(ne.BlueGray40).toRGBA().fade(e).toString(),es=ae.ux.style({background:"white",boxShadow:`0px 0px 0px 0.5px ${ne.BlueGray40}, 0px 0px 2px 0.5px ${Jo(.5)}, 0px 1px 6px 0.5px ${Jo(.25)}`,borderRadius:ae.ux.rem(ot.xB+ot.fe),$nest:{"&[data-expanded='true']":{position:"absolute",bottom:0,width:"100%"}}}),ts=ae.ux.style({opacity:0,pointerEvents:"none"});var ns=n(598);function is(e,t,n){const r=e.router.activeView.view((e=>"loadingError"!==e&&"skill"!==e?i.some(!0):i.none));return J.Z.composeOption(function(e,t,n){const r=L.aj([e.promptMenu.state,t]).pipe(k.U((([e,t])=>(0,a.zG)(f.Y(i.Applicative)({maxHeight:t,menu:e}),i.map((({menu:e,maxHeight:t})=>Object.assign(Object.assign({},e),{maxHeight:t})))))),S.shareReplay({bufferSize:1,refCount:!0}));return J.Z.composeKnot({root:J.Z.fromSideEffect((t=>{switch(t.kind){case"promptHeightChange":return n.set(t.height);case _.ix.Kind.promptFieldAndMenuFocusChange:return e.notify(t);default:(0,Y.L0)(t)}}),r.pipe(k.U((e=>({menuExpanded:i.isSome(e)}))))),promptField:Go(e),promptHeader:()=>Z.of(null),promptMenu:Wo(e,r)})}(e,r.pipe(C.oA,ns.c(t)),n),(()=>r))}const as=J.UI.Grid.make((({slots:e})=>q.createElement("div",{className:ls},e.content,e.detectedReferences,e.prompt))),rs=J.UI.Knot.make(as,{content:so,detectedReferences:fo,prompt:Xo}),os=te.x,ss=te.x,ls=ae.ux.style({display:"flex",flexDirection:"column",gap:ae.ux.rem(ss)});var cs;function ds(e,t=cs.empty){const n=d.h.create(i.none),a=d.h.create(i.none);return J.Z.composeKnot({content:uo(e,n,t.assistantMaxHeight,a),detectedReferences:Co(e),prompt:is(e,n,a)})}!function(e){e.empty={assistantMaxHeight:d.h.create(i.none)}}(cs||(cs={}));const us=(e,t)=>(0,X.Sh)(ps,e===t&&hs),ms=ae.ux.style({display:"flex",flexDirection:"row",justifyContent:"space-between",paddingLeft:ae.ux.rem(te.mh),paddingRight:ae.ux.rem(te.mh)}),ps=ae.ux.style({width:ae.ux.rem(5),height:ae.ux.rem(5),cursor:"pointer",display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",gap:ae.ux.rem(te.x),borderRadius:ae.ux.rem(ot.HP),fontWeight:400,fontSize:ae.ux.rem(.75),lineHeight:ae.ux.rem(1.125),$nest:{"&:hover":{backgroundColor:ie.XY.Surface.Secondary.Default}}}),hs=ae.ux.style({backgroundColor:ne.Blue10,$nest:{"&:hover":{backgroundColor:ne.Blue10}}}),fs=ae.ux.style(Object.assign({},u.Es.iconSizeRems(1.5))),gs="submitBtn",xs={padding:ae.ux.rem(te.mh),gap:ae.ux.rem(te.mh)},bs={color:ie.XY.Content.Primary.Default,fontWeight:700,fontSize:ae.ux.rem(1.25),lineHeight:ae.ux.rem(1.5),margin:0},ys={border:`${ae.ux.px(1)} solid ${ne.NeutralGray20}`,borderRadius:ae.ux.rem(ot.xB),padding:`${ae.ux.rem(te.x+te.yC)} ${ae.ux.rem(te.x)}`,height:ae.ux.rem(8)},vs={display:"flex",alignItems:"flex-start",$nest:{"& input[type='checkbox']":{margin:`${ae.ux.rem(te.W9)} ${ae.ux.rem(te.x)} 0 0`,minWidth:ae.ux.rem(1),minHeight:ae.ux.rem(1)},"& label":{color:ie.XY.Content.Primary.Default,fontWeight:400,fontSize:ae.ux.rem(.75),lineHeight:ae.ux.rem(1.125)}}},Cs=Object.assign({width:ae.ux.percent(100)},u.Es.buttonOverrideSpecificity({fontSize:ae.ux.rem(.875)},gs)),ks={display:"flex",flexDirection:"column",gap:ae.ux.rem(te.x)},Ss=xs,ws=ae.ux.style(bs),Es=ae.ux.style(ys),Os=ae.ux.style(vs),_s=(ae.ux.style({fontWeight:700}),ae.ux.joinClasses([gs,ae.ux.style(Cs)])),Bs=ae.ux.style(ks),Ns=(0,X.xb)((({selectedScore:e,onSelectScore:t})=>q.createElement("div",{className:ms},q.createElement("div",Object.assign({},us(_.x2.Mood.dissatisfied,e),{onClick:()=>t(_.x2.Mood.dissatisfied)}),q.createElement(ee.XR,{className:fs}),"I dislike it"),q.createElement("div",Object.assign({},us(_.x2.Mood.ok,e),{onClick:()=>t(_.x2.Mood.ok)}),q.createElement(ee.R6,{className:fs}),"It′s OK"),q.createElement("div",Object.assign({},us(_.x2.Mood.satisfied,e),{onClick:()=>t(_.x2.Mood.satisfied)}),q.createElement(ee.OJ,{className:fs}),"I like it!")))),Gs=(0,X.xb)(ee.b),Is=(0,X.xb)(ee.Zb),Ps=J.UI.Node.make((({state:e,view:t,notify:n})=>{const r="domainCheckbox"+Ci.alphanumeric(5);return q.createElement(Is,{style:Ss},q.createElement("h1",{className:ws},"How do you like Grammarly?"),q.createElement(Ns,{selectedScore:t("formData").pipe(k.U((e=>e.mood))),onSelectScore:e=>n({kind:_.ix.Kind.feedbackFormChange,feedbackData:{mood:e}})()}),q.createElement(Gs,{ariaLabel:"tell us why",className:Es,placeholder:["How can we improve?"],fitContentHeight:!1,text:t("formData").pipe(k.U((({message:e})=>null!=e?e:""))),onChange:e=>n({kind:_.ix.Kind.feedbackFormChange,feedbackData:{message:e}})()}),e.pipe(k.U((({formData:e,domain:t,source:o})=>q.createElement("div",{className:Bs},(0,a.zG)(t,i.fold(a.gn,(t=>q.createElement("div",{className:Os},q.createElement("input",{type:"checkbox",id:r,checked:void 0!==e.domain,onChange:n({kind:_.ix.Kind.feedbackFormChange,feedbackData:{domain:void 0!==e.domain?void 0:t}})}),q.createElement("label",{htmlFor:r},"Include the domain ",q.createElement("b",null,t)," with my feedback to help improve Grammarly."))))),(0,a.zG)(i.fromNullable(void 0!==e.mood?Object.assign(Object.assign({},e),{mood:e.mood,source:o}):null),i.fold((()=>q.createElement(ee.zx.Primary,{disabled:!0,className:_s,onClick:a.Q1},"Submit")),(e=>q.createElement(ee.zx.Primary,{disabled:!1,className:_s,onClick:n({kind:_.ix.Kind.feedbackFormSubmitButtonClick,feedbackData:e})},"Submit")))))))))}));var As;function Us(e,t=As.empty){return J.Z.fromSideEffect((t=>e.notify(t)),e.feedbackForm.stagingFeedbackFormData.view((e=>{var n;return{formData:e,domain:t.showDomainCheckbox,source:null!==(n=null==e?void 0:e.source)&&void 0!==n?n:_.x2.Source.resultCard}})))}!function(e){e.empty={showDomainCheckbox:i.none}}(As||(As={}));const zs=J.UI.Node.make((({view:e,notify:t})=>q.createElement(Q.F.div,{className:Rs,"data-id":e("id")},e("kind").pipe(k.U((e=>{switch(e){case _.Cl.Kind.feedbackSubmitted:return q.createElement(q.Fragment,null,q.createElement(ee.j4,{className:Fs}),q.createElement("div",null,"Thanks for the feedback!"));case _.Cl.Kind.voiceTagRemoved:return q.createElement(q.Fragment,null,q.createElement(ee.j4,{className:Fs}),q.createElement("div",null,"Removed"));default:return(0,Y.L0)(e)}}))),e("id").pipe(k.U((e=>q.createElement(ee.xx,{name:"notificationClose",onClick:t({kind:"dismissNotification",id:e}),size:"small"}))))))),Ts=ae.ux.keyframes({from:{transform:`translateY(${ae.ux.rem(.25)})`,opacity:0},to:{transform:"translateY(0)",opacity:1}}),Rs=ae.ux.style({background:ie.S5.Surface.Primary.Default,color:ie.S5.Content.Primary.Default,borderRadius:ae.ux.rem(ot.xB+ot.fe),display:"flex",flexDirection:"row",alignItems:"center",padding:`${ae.ux.rem(te.x)} ${ae.ux.rem(te.qp)}`,gap:ae.ux.rem(te.qp),fontSize:ae.ux.rem(.75),lineHeight:ae.ux.rem(1.125),animation:`${Ts} 0.1s ease-in`}),Fs=ae.ux.style(Object.assign({},u.Es.iconSizeRems(1.5)));const Vs=J.UI.List.make(b.bw,zs),js=J.UI.Grid.make((({slots:e,view:t})=>q.createElement(Q.F.div,{className:t("contentOverflowUnderToolbar").pipe(k.U((0,j.RN)(Ms,Ks)))},e.content))),Ds=J.UI.Knot.make(js,{content:Vs}),$s={position:"absolute",top:0,right:ae.ux.rem(te.x),display:"flex",flexDirection:"column",gap:ae.ux.rem(te.x),zIndex:1e3,transition:"top 0.1s ease-in"},Ks=ae.ux.style($s),Ms=ae.ux.style($s,{top:ae.ux.rem(te.F2)});function Ls(e){return J.Z.composeKnot({root:()=>e.assistant.state.view((({contentOverflowUnderToolbar:e})=>({contentOverflowUnderToolbar:e}))),content:(t=e.notifications,J.Z.composeList(b.Ot,(()=>t.state.view(b.GY)),(e=>function(e,t){return J.Z.fromSideEffect((e=>{if("dismissNotification"===e.kind)return t.dismiss(e.id);(0,Y.L0)(e.kind)}),e)}(e,t))))});var t}const Hs=({kind:e,label:t,description:n,iconUrl:i,isUnselectable:a,onToggle:r})=>q.createElement(ki.u,{title:n},q.createElement("button",{disabled:"disabled"===e,className:Zs,"data-kind":e,"data-unselectable":a,onClick:(0,u.m)((()=>{"disabled"!==e&&r("selected"!==e&&("unselected"===e||(0,Y.L0)(e)))}))},i?q.createElement("img",{src:i,style:{width:20,height:20}}):null,q.createElement("span",null,t),a&&"selected"===e?q.createElement(ee.cv,{className:Ws}):null)),Zs=ae.ux.style({display:"flex",alignItems:"center",justifyContent:"center",gap:ae.ux.rem(te.x),padding:`${ae.ux.rem(te.F2)} ${ae.ux.rem(.625)} ${ae.ux.rem(te.F2)} ${ae.ux.rem(te.x)}`,background:ie.XY.Surface.Primary.Default,border:`${ae.ux.px(1)} solid transparent`,borderRadius:ae.ux.rem(1.875),fontSize:ae.ux.rem(.875),lineHeight:ae.ux.rem(1.375),boxSizing:"border-box",$nest:{"&[data-kind='unselected']":{border:`${ae.ux.px(1)} solid ${ne.BlueGray5}`,color:ie.XY.Content.Primary.Default,cursor:"pointer"},"&[data-kind='disabled']":{border:`${ae.ux.px(1)} solid ${ne.BlueGray5}`,color:ne.BlueGray40,cursor:"default"},"&[data-kind='selected']":{border:`${ae.ux.px(2)} solid ${u.BO.BrandGreen60}`,padding:`${ae.ux.rem(.1875)} ${ae.ux.rem(.5625)} ${ae.ux.rem(.1875)} ${ae.ux.rem(.4375)}`,position:"relative",$nest:{"&[data-unselectable='true']":{cursor:"pointer"}}}}}),Ws=ae.ux.style(Object.assign(Object.assign({position:"absolute",top:ae.ux.rem(-(te.F2+te.W9)),right:ae.ux.rem(-(te.F2+te.W9)),boxSizing:"content-box"},u.Es.iconSizeRems(.75)),{border:`${ae.ux.rem(.125)} solid white`,borderRadius:"50%",background:u.BO.BrandGreen60,display:"flex",alignItems:"center",justifyContent:"center"})),Ys=({chips:e,className:t,onToggle:n})=>q.createElement(Q.F.div,Object.assign({},(0,X.Sh)(qs,t)),e.pipe(k.U(b.UI((e=>q.createElement(Hs,Object.assign({},e,{onToggle:t=>n(e,t),key:e.label}))))))),qs=ae.ux.style({display:"flex",flexWrap:"wrap",gap:ae.ux.rem(te.F2),$nest:{div:{marginTop:ae.ux.rem(te.F2)}}}),Xs={margin:0,padding:ae.ux.rem(te.mh),gap:ae.ux.rem(te.mh)},Qs={color:ie.XY.Content.Primary.Default,fontWeight:700,fontSize:ae.ux.rem(.875),lineHeight:ae.ux.rem(1.375),margin:0},Js={color:ie.XY.Content.Secondary.Default,fontWeight:400,fontSize:ae.ux.rem(.75),lineHeight:ae.ux.rem(1.125)},el={marginTop:ae.ux.rem(te.x)},tl={color:ne.BlueGray60,fontWeight:400,fontSize:ae.ux.rem(.75),lineHeight:ae.ux.rem(1.125)},nl={display:"flex",justifyContent:"flex-end",gap:ae.ux.rem(te.x)},il={fontSize:ae.ux.important(ae.ux.rem(.875))},al={marginTop:ae.ux.rem(te.x)},rl={marginTop:ae.ux.rem(te.x)},ol={display:"flex",alignItems:"center",gap:ae.ux.rem(te.x)},sl={width:ae.ux.rem(1.5),height:ae.ux.rem(1.5),display:"flex",alignItems:"center",justifyContent:"center"},ll=Xs,cl=ae.ux.style(Qs),dl=ae.ux.style(el),ul=ae.ux.style(Js),ml=ae.ux.style(tl),pl=ae.ux.style(nl),hl=ae.ux.style(il),fl=ae.ux.style(il),gl=ae.ux.style(al),xl=ae.ux.style(rl),bl=ae.ux.style(ol),yl=ae.ux.style(sl),vl=J.UI.Node.make((({view:e,state:t,notify:n})=>q.createElement(ee.Zb,{style:ll},q.createElement("section",null,q.createElement("h2",{className:cl},"Formality"),q.createElement(Ys,{className:dl,chips:e("styles").pipe(k.U(b.UI((e=>Object.assign(Object.assign({},e),{isUnselectable:!1}))))),onToggle:e=>n({kind:_.ix.Kind.styleToggleClick,id:e.id})()})),q.createElement("section",null,q.createElement("h2",{className:cl},"Tone"),q.createElement(Q.F.div,{className:ul},"Select up to"," ",e("maxSelectableTones").pipe(k.U((e=>(0,u.xs)(e)?(0,u.mA)(e):`${e}`)))),q.createElement(Ys,{className:dl,chips:e("tones").pipe(k.U(b.UI((e=>Object.assign(Object.assign({},e),{isUnselectable:!0}))))),onToggle:(e,t)=>n({kind:_.ix.Kind.toneToggleClick,selected:t,id:e.id})()})),q.createElement(Q.F.Fragment,null,t.pipe(k.U((e=>(0,a.zG)(e.roles,y.c2,i.fold(a.gn,(t=>q.createElement("section",null,q.createElement("h2",{className:cl},"Your profession"),q.createElement(ee.pY,{className:gl,placeholder:"Product designer",text:e.roleTypeaheadText,onInputChange:e=>n({kind:"updateRoleTypeaheadText",text:e})(),onSelectionChange:e=>n({kind:_.ix.Kind.roleTypeaheadSelectionChange,role:i.fromNullable(e)})(),options:t,label:e=>e.label,clearButton:!0,selectOnBlur:!0}))))))))),q.createElement("section",null,q.createElement("h2",{className:cl},"I write in"),q.createElement(Q.F.Fragment,null,t.pipe(k.U((({dialects:e,selectedDialect:t})=>q.createElement(ee.Ph,{className:xl,options:e.filter((e=>!_.LA.Dialect.Id.eq.equals(e.id,t.id))),selection:t,onSelectionChange:e=>n({kind:_.ix.Kind.dialectDropdownSelectionChange,dialect:e})(),label:e=>e.label,renderOption:e=>q.createElement("div",{className:bl},q.createElement("div",{className:yl},q.createElement("img",{src:e.iconUrl,style:{width:ae.ux.rem(1),height:ae.ux.rem(1)}})),e.label)})))))),q.createElement(Q.F.Fragment,null,e("description").pipe(k.U((e=>""!==e.trim()?q.createElement("div",{className:ml},e):null)))),q.createElement(Q.F.div,{className:pl},q.createElement(ee.zx.Tertiary,{className:fl,onClick:n({kind:_.ix.Kind.voiceProfileCloseButtonClick}),name:"closeVoiceProfile"},"Close"),e("applyButtonEnabled").pipe(k.U((e=>q.createElement(ee.zx.Primary,{className:hl,onClick:n({kind:_.ix.Kind.voiceProfileUseVoiceButtonClick}),disabled:!e,name:"applyVoiceProfile"},"Use this voice"))))))));function Cl(e){const t=d.h.create("");return J.Z.fromSideEffect((n=>{"updateRoleTypeaheadText"===n.kind?(t.set(n.text),""===n.text&&e.notify({kind:_.ix.Kind.roleTypeaheadSelectionChange,role:i.none})):(n.kind===_.ix.Kind.roleTypeaheadSelectionChange&&t.set((0,a.zG)(n.role,i.fold((()=>""),(e=>e.label)))),e.notify(n))}),d.h.combine(e.assistant.state.view("session"),e.voiceProfile.state.view("stagingVoiceProfile"),t,((e,t,n)=>(0,a.zG)(f.Y(i.Applicative)({voiceProfile:(0,a.zG)(_.z_.toStarted(e),i.map((e=>e.voiceProfile)),i.chain(_.LA.toLegacyVoiceProfile)),stagingVoiceProfile:t}),i.fold((()=>({tones:[],styles:[],roles:[],maxSelectableTones:0,applyButtonEnabled:!1,description:"",roleTypeaheadText:"",dialects:_.LA.Dialect.all(),selectedDialect:_.LA.Dialect.american})),(({stagingVoiceProfile:e,voiceProfile:t})=>(0,a.zG)(t.styles,b.Ew((t=>t.id===e.selectedStyle)),(r=>({styles:(0,a.zG)(t.styles,b.UI((t=>Object.assign(Object.assign({},t),{kind:t.id===e.selectedStyle?"selected":"unselected"})))),tones:(0,a.zG)(r,i.fold((()=>[]),(t=>(0,a.zG)(t.tones,b.UI((n=>Object.assign(Object.assign({},n),{kind:(0,a.zG)(i.fromNullable(e.selectedTonesPerStyle.get(e.selectedStyle)),i.getOrElse((()=>new Set)),(e=>e.has(n.id)?"selected":e.size>=t.maxTones?"disabled":"unselected"))}))))))),roles:t.roles,maxSelectableTones:(0,a.zG)(r,i.fold((()=>3),(e=>e.maxTones))),applyButtonEnabled:!_.LA.Selections.eq.equals(e,t),description:"These voice settings will apply to any text you generate with GrammarlyGO.",roleTypeaheadText:(0,a.zG)(e.selectedRole,i.filter((()=>""===n)),i.chain((e=>i.fromNullable(t.roles.find((t=>t.id===e))))),i.fold((()=>n),(e=>e.label))),dialects:t.dialects,selectedDialect:t.dialects.find((t=>_.LA.Dialect.Id.eq.equals(t.id,e.selectedDialect)))||_.LA.Dialect.american})))))))))}const kl=q.forwardRef((function({name:e,active:t,onClick:n},i){return q.createElement("button",{role:"button",tabIndex:0,"aria-label":e,"aria-pressed":t,"data-active":t,onClick:n,ref:i,className:Sl},e)})),Sl=ae.ux.style({display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",height:ae.ux.rem(2),borderRadius:ae.ux.rem(ot.xB),border:`${ae.ux.rem(te.yC)} solid transparent`,padding:`${ae.ux.rem(te.yC+te.F2)} ${ae.ux.rem(te.x)}`,backgroundColor:u.BO.Green0,color:u.BO.Green90,lineHeight:ae.ux.rem(1.3125),fontSize:ae.ux.rem(.875),$nest:{"&:hover":{backgroundColor:ae.ux.color(u.BO.Green10).mix(ae.ux.color(u.BO.BlueGray5)).toRGBA().toString(),color:u.BO.Green80},'&[data-active="true"]':{outline:`${ae.ux.rem(te.yC)} solid ${u.BO.Green80}`}}}),wl=({title:e,titleId:t,desc:n,descId:i,...a})=>q.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":i,...a},n?q.createElement("desc",{id:i},n):null,e?q.createElement("title",{id:t},e):null,q.createElement("path",{d:"M18.5 11.25a.958.958 0 0 1-.064.34l-2.248 4.267a1.009 1.009 0 0 1-.938.643H9.5c-.554 0-1-.446-1-1V10a1 1 0 0 1 .294-.706l4.586-4.587.432.432a.664.664 0 0 1 .188.433l-.016.175-.654 3.151a.5.5 0 0 0 .49.602H18c.274 0 .5.226.5.5v1.25ZM6 9.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H5a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h1Z",stroke:"#646B81",strokeLinejoin:"round"})),El=({title:e,titleId:t,desc:n,descId:i,...a})=>q.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":i,...a},n?q.createElement("desc",{id:i},n):null,e?q.createElement("title",{id:t},e):null,q.createElement("path",{d:"M5 12.75c0-.114.023-.233.065-.34l2.247-4.267.01-.017.007-.017c.155-.357.51-.609.921-.609H14c.554 0 1 .446 1 1V14a1 1 0 0 1-.294.706l-4.586 4.587-.432-.432a.664.664 0 0 1-.188-.433l.016-.175.654-3.151.124-.602H5.5A.503.503 0 0 1 5 14v-1.25Zm12.5 1.75a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5h-1Z",stroke:"#646B81"})),Ol=({onKeepClick:e,onRemoveClick:t})=>q.createElement("div",{className:_l},q.createElement("h1",{className:Bl},"Does this sound like you?"),q.createElement("div",{className:Nl},q.createElement(ee.zx.Primary,{onClick:e,style:Gl},q.createElement(wl,null),"Yes, keep it"),q.createElement(ee.zx.Primary,{onClick:t,style:Gl},q.createElement(El,null),"No, remove it"))),_l=ae.ux.style({display:"flex",flexDirection:"column",alignItems:"flex-start"}),Bl=ae.ux.style({fontSize:ae.ux.rem(.875),lineHeight:ae.ux.rem(1.375),fontWeight:700,margin:`0 0 ${ae.ux.rem(te.mh)} 0`}),Nl=ae.ux.style({display:"flex",alignItems:"center",gap:ae.ux.rem(te.x)}),Gl={base:{gap:ae.ux.rem(te.F2),padding:`0 ${ae.ux.rem(te.x)} 0 ${ae.ux.rem(te.F2)}`,color:u.BO.TextBaseDefault,backgroundColor:ie.XY.Surface.Primary.Default},hovered:{color:u.BO.TextBaseDefault,backgroundColor:u.BO.BlueGray5},active:{color:u.BO.TextBaseDefault,backgroundColor:u.BO.BlueGray5}};var Il=n(17579);const Pl={editBtn:"editBtn",cancelBtn:"cancelBtn",saveBtn:"saveBtn"},Al={base:{backgroundColor:u.BO.BlueGray0}},Ul={gap:0,backgroundImage:"url(https://assets.grammarly.com/cheetah/v1/voice-profile/cheetah-my-voice-bg.svg)",backgroundPosition:"right",backgroundRepeat:"no-repeat",backgroundSize:"auto 100%",$nest:{[`.${Pl.editBtn}`]:{opacity:0,pointerEvents:"none",$nest:{"&:focus":{opacity:1,pointerEvents:"auto"}}},[`&:hover .${Pl.editBtn}, &:focus .${Pl.editBtn}`]:{opacity:1,pointerEvents:"auto"}}},zl=e=>ae.ux.style({display:"flex",justifyContent:"space-between",marginBottom:e?ae.ux.rem(te.x):ae.ux.rem(te.yC+te.F2)}),Tl=ae.ux.style({margin:0,fontSize:ae.ux.rem(1.25),lineHeight:ae.ux.rem(1.5),fontWeight:700}),Rl=ae.ux.style({display:"flex",flexDirection:"row",alignItems:"flex-end",justifyContent:"space-between"}),Fl=ae.ux.style({display:"flex",flexDirection:"column",gap:ae.ux.rem(te.x)}),Vl=ae.ux.style({display:"flex",flexDirection:"column",gap:ae.ux.rem(te.F2)}),jl=ae.ux.style({color:u.BO.TextBaseSubduedColor,fontWeight:400,fontSize:ae.ux.rem(.75),lineHeight:ae.ux.rem(1.125),margin:0}),Dl=ae.ux.style({display:"flex",alignItems:"center",gap:ae.ux.rem(te.x)}),$l=ae.ux.style({width:ae.ux.rem(1.5),height:ae.ux.rem(1.5),display:"flex",alignItems:"center",justifyContent:"center",$nest:{"& img":{width:ae.ux.rem(1),height:ae.ux.rem(1)}}}),Kl=ae.ux.style({display:"flex",flexDirection:"column",gap:ae.ux.rem(te.F2)}),Ml=ae.ux.style({display:"flex",alignItems:"center",gap:ae.ux.rem(te.F2),height:ae.ux.rem(1.5),color:u.BO.TextBaseSubduedColor,fontSize:ae.ux.rem(.875),lineHeight:ae.ux.rem(1.3125),fontWeight:500}),Ll=ae.ux.style({display:"flex",alignItems:"center",gap:ae.ux.rem(te.x)});function Hl({label:e,enabled:t,onChange:n}){return q.createElement("div",{className:Zl},q.createElement("input",{type:"checkbox",id:"voice-checkbox",checked:t,onChange:n}),q.createElement("label",{htmlFor:"voice-checkbox"},e))}const Zl=ae.ux.style({display:"flex",alignItems:"flex-start",$nest:{"& input[type='checkbox']":{margin:`${ae.ux.rem(te.W9)} ${ae.ux.rem(te.x)} 0 0`,minWidth:ae.ux.rem(1),minHeight:ae.ux.rem(1),accentColor:ne.Green80,cursor:"pointer"},"& label":{color:ie.XY.Content.Primary.Default,fontWeight:400,fontSize:ae.ux.rem(.75),lineHeight:ae.ux.rem(1.125),cursor:"pointer"}}}),Wl=({profile:e,activeProfileName:t,activeTagId:n,onCloseButtonClick:r,onKeepClick:o,onRemoveClick:s,onVoiceTagClick:l})=>q.createElement(ee.E2,{id:ee.OK.Id.create(e.name),isActive:e.name===i.toNullable(t),className:Yl},e.summary,q.createElement("div",{className:Xl},e.sections.map((t=>q.createElement("div",{key:t.name},t.name,q.createElement("div",{className:Ql},0===t.tags.length?q.createElement("div",{className:ql},"Detected qualities will appear here"):t.tags.map((c=>q.createElement(ee.it,{key:c.name,active:(0,a.zG)(n,i.fold(a.jv,(n=>n===_.bm.createId({tagName:c.name,sectionName:t.name,profileName:e.name})))),onCloseButtonClick:r,body:q.createElement(Ol,{onKeepClick:o,onRemoveClick:()=>s(c.name,e.name,t.name)})},q.createElement(kl,{name:c.name,active:(0,a.zG)(n,i.fold(a.jv,(n=>n===_.bm.createId({tagName:c.name,sectionName:t.name,profileName:e.name})))),onClick:()=>l(c.name,e.name,t.name)})))))))))),Yl=ae.ux.style({fontSize:ae.ux.rem(.875),lineHeight:ae.ux.rem(1.3125),display:"flex",flexDirection:"column",gap:ae.ux.rem(te.qp),paddingTop:ae.ux.rem(te.x)}),ql=ae.ux.style({padding:`0 ${ae.ux.rem(te.x)}`,background:u.BO.BlueGray0,color:u.BO.TextBaseSubduedColor,borderRadius:ae.ux.rem(ot.xB),height:ae.ux.rem(2),fontSize:ae.ux.rem(.875),lineHeight:ae.ux.rem(1.3125),display:"flex",justifyContent:"center",alignItems:"center"}),Xl=ae.ux.style({display:"flex",flexDirection:"column",gap:ae.ux.rem(te.qp)}),Ql=ae.ux.style({marginTop:ae.ux.rem(te.x),display:"flex",flexWrap:"wrap",gap:ae.ux.rem(te.F2)}),Jl=(0,X.xb)((({onEditButtonClick:e,onSaveButtonClick:t,onCancelButtonClick:n,onDialectDropdownChange:r,onRoleDropdownChange:o,userName:s,isEditing:l,selectedRole:c,roles:d,dialects:u,selectedDialect:m})=>q.createElement(ee.Zb,{style:Ul},q.createElement("div",{className:zl(l)},q.createElement("h1",{className:Tl},s),l?null:q.createElement(ee.zx.Secondary,{onClick:e,className:Pl.editBtn,style:Al,size:"small"},"Edit")),l?q.createElement("div",{className:Rl},q.createElement("div",{className:Fl},0!==d.length&&q.createElement("div",{className:Vl},q.createElement("h2",{className:jl},"My role"),q.createElement(ee.Ph,{placeholder:"Select a role...",options:d,selection:i.toUndefined(c),onSelectionChange:o,label:e=>e.id,renderOption:e=>e.id})),q.createElement("div",{className:Vl},q.createElement("h2",{className:jl},"I write in"),q.createElement(ee.Ph,{options:u,selection:m,onSelectionChange:r,label:e=>e.label,renderOption:e=>q.createElement("div",{className:Dl},q.createElement("div",{className:$l},q.createElement("img",{src:e.iconUrl,alt:""})),e.label)}))),q.createElement("div",{className:Ll},q.createElement(ee.zx.Tertiary,{onClick:n},"Cancel"),q.createElement(ee.zx.Primary,{onClick:t},"Save"))):q.createElement("div",{className:Kl},(0,a.zG)(c,i.fold(a.gn,(e=>q.createElement("div",{className:Ml},q.createElement(Il.N,null),q.createElement("span",null,e.label))))),q.createElement("div",{className:Ml},q.createElement("div",{className:$l},q.createElement("img",{src:m.iconUrl,alt:""})),q.createElement("span",null,m.label)))))),ec=J.UI.Node.make((({view:e,state:t,notify:n})=>q.createElement("div",{className:tc},q.createElement(Jl,{onEditButtonClick:n({kind:_.ix.Kind.voiceSelectionsEditButtonClick}),onDialectDropdownChange:e=>n({kind:_.ix.Kind.voiceDialectDropdownSelectionChange,dialect:e})(),onRoleDropdownChange:e=>n({kind:_.ix.Kind.voiceRoleDropdownSelectionChange,role:e})(),onSaveButtonClick:n({kind:_.ix.Kind.voiceSelectionsSaveButtonClick}),onCancelButtonClick:n({kind:_.ix.Kind.voiceSelectionsCancelButtonClick}),userName:e("userName"),isEditing:e("isEditing"),selectedRole:e("selectedRole"),selectedDialect:e("selectedDialect"),roles:e("roles"),dialects:e("dialects")}),q.createElement(ee.Zb,{style:nc},q.createElement(Q.F.div,null,t.pipe(k.U((e=>q.createElement(q.Fragment,null,q.createElement("div",{className:ic},q.createElement("div",null,q.createElement("h1",{className:ac},e.title),q.createElement("h2",{className:rc},e.subTitle)),q.createElement(ee.mQ,{key:"Tabs",tabs:e.profiles.map((e=>({id:ee.OK.Id.create(e.name),label:e.name}))),activeTabId:ee.OK.Id.create(i.toNullable(e.activeProfileName)||""),onActiveTabChange:e=>n({kind:_.ix.Kind.voiceProfileTabChange,profileName:e})()})),e.profiles.map((t=>q.createElement(Wl,{key:t.name,profile:t,activeProfileName:e.activeProfileName,activeTagId:e.activeTagId,onCloseButtonClick:n({kind:_.ix.Kind.voiceTagPopoverCloseButtonClick}),onKeepClick:n({kind:_.ix.Kind.voiceTagPopoverKeepButtonClick}),onRemoveClick:(e,t,i)=>n({kind:_.ix.Kind.voiceTagPopoverRemoveButtonClick,tagName:e,profileName:t,sectionName:i})(),onVoiceTagClick:(e,t,i)=>n({kind:_.ix.Kind.voiceTagClick,tagName:e,profileName:t,sectionName:i})()})))))))),q.createElement(ee.Z0,null),q.createElement(Q.F.Fragment,null,t.pipe(k.U((({isEnabledByDefault:e,isEnabledByDefaultLabel:t})=>q.createElement(Hl,{enabled:e,label:t,onChange:n({kind:_.ix.Kind.applyVoiceToWritingCheckboxChange,checked:!e})}))))))))),tc=ae.ux.style({display:"flex",flexDirection:"column",gap:ae.ux.rem(te.x),maxHeight:ae.ux.rem(35),overflowY:"scroll"}),nc={gap:ae.ux.rem(te.mh)},ic=ae.ux.style({display:"flex",justifyContent:"space-between",alignItems:"flex-start"}),ac=ae.ux.style({fontSize:ae.ux.rem(.875),lineHeight:ae.ux.rem(1.3125),fontWeight:700,margin:0}),rc=ae.ux.style({color:u.BO.TextBaseSubduedColor,fontWeight:400,fontSize:ae.ux.rem(.75),lineHeight:ae.ux.rem(1.125),margin:0});function oc(e){return J.Z.fromSideEffect((t=>e.notify(t)),d.h.combine(e.assistant.state.view("session"),e.voiceProfile.state.view("stagingNewVoiceProfile"),((e,t)=>(0,a.zG)(f.Y(i.Applicative)({sessionVoiceProfile:(0,a.zG)(_.z_.toStarted(e),i.map((e=>e.voiceProfile)),i.chain(_.LA.toNewVoiceProfile)),stagingVoiceProfile:t}),i.fold((()=>({userName:"",title:"",subTitle:"",roles:[],dialects:_.LA.Dialect.all(),selectedDialect:_.LA.Dialect.american,isEnabledByDefault:!0,isEnabledByDefaultLabel:"",profiles:[],activeProfileName:i.none,activeTagId:i.none,isEditing:!1,selectedRole:i.none})),(({sessionVoiceProfile:e,stagingVoiceProfile:t})=>({userName:e.userName,title:e.title,subTitle:e.subTitle,isEnabledByDefault:t.isEnabledByDefault,isEnabledByDefaultLabel:e.isEnabledByDefaultLabel,profiles:t.profiles,roles:(0,a.zG)(sc(t,e),i.fold((()=>e.roles),(t=>e.roles.filter((e=>e.id!==t.id))))),dialects:(0,a.zG)(lc(t,e),(t=>e.dialects.filter((e=>e.id!==t.id)))),selectedRole:sc(t,e),selectedDialect:lc(t,e),activeProfileName:t.activeProfileName,activeTagId:t.activeTagId,isEditing:i.isSome(t.stagingSelections)})))))))}function sc(e,t){return(0,a.zG)(e.stagingSelections,i.chain((e=>e.selectedRole)),i.alt((()=>e.selectedRole)),i.chain((e=>i.fromNullable(t.roles.find((t=>_.LA.Role.Id.eq.equals(t.id,e)))))))}function lc(e,t){return(0,a.zG)(e.stagingSelections,i.fold((()=>e.selectedDialect),(e=>e.selectedDialect)),(e=>t.dialects.find((t=>_.LA.Dialect.Id.eq.equals(t.id,e)))||_.LA.Dialect.american))}const cc=J.UI.Grid.make((({slots:e})=>q.createElement("div",{className:mc},e.notifications,e.content))),dc=J.UI.Union.make("kind",{chat:rs,legacyVoiceProfile:vl,newVoiceProfile:ec,feedbackForm:Ps}),uc=J.UI.Knot.make(cc,{content:dc,notifications:Ds}),mc=ae.ux.style({position:"relative",padding:ae.ux.rem(te.x),paddingTop:0});var pc;function hc(e,t=pc.empty){return J.Z.composeKnot({content:fc(e,t),notifications:Ls(e)})}function fc(e,t=pc.empty){return J.Z.composeUnion({chat:ds(e,t.chatFlowOptions),legacyVoiceProfile:Cl(e),newVoiceProfile:oc(e),feedbackForm:Us(e,t.feedbackFormFlowOptions)},(()=>e.router.activeView.view((e=>({kind:"voiceProfile"===e?"newVoiceProfile":"legacyVoiceProfile"===e?"legacyVoiceProfile":"feedbackForm"===e?e:"chat"})))))}!function(e){e.empty={chatFlowOptions:cs.empty,feedbackFormFlowOptions:As.empty}}(pc||(pc={}));var gc=n(13444);const xc=J.UI.Node.make((({state:e,notify:t})=>{const{ref:n,onMount:i}=nt.P.useElWatcher(),{ref:a,onMount:r}=nt.P.useElWatcher(),s=q.useMemo((()=>n.pipe(C.oA,H.w((e=>c.R(e,"mouseenter").pipe(ns.c(Z.of(null).pipe(gc.g(500),o.R(c.R(e,"mouseleave"))))))),l.b(t({kind:_.ix.Kind.creditsInfoHover})))),[n]);nt.P.useSubscriptionTo(s);const d=q.useMemo((()=>a.pipe(an.QV(rn.E),C.oA,l.b((e=>t({kind:_.ix.Kind.mount,name:_.ec.creditsInfoButton,element:e})())))),[a]);return nt.P.useSubscriptionTo(d),q.createElement(Q.F.Fragment,null,e.pipe(k.U((({user:e,availability:n})=>{const a=_.a8.isActive(n)?function(e){const t=`${Number(e.promptsRemaining).toLocaleString()}/${Number(e.promptsAllocated).toLocaleString()} prompts left. `,n=_.a8.Active.daysUntilRefillDate(e.refillDate),i=_.a8.Active.hoursUntilRefillDate(e.refillDate);return n>0?t+`Next refill in ${n} ${Ci.pluralize(n,"day","days")}.`:i>0?t+`Next refill in ${i} ${Ci.pluralize(i,"hour","hours")}.`:t+"Next refill in less than an hour."}(n):e.isPremium?"To get more prompts, contact support.":"To get more prompts, upgrade to Premium.",o=_.a8.isActive(n)?`${Number(n.promptsRemaining).toLocaleString()} ${Ci.pluralize(n.promptsRemaining,"prompt","prompts")}`:e.isPremium?"0 prompts":q.createElement(q.Fragment,null,"0 prompts. ",q.createElement("span",{className:vc},"Upgrade"));return e.isPremium&&_.a8.isActive(n)?q.createElement(ki.u,{title:a},q.createElement("div",{ref:i,className:yc},o)):q.createElement(ee.zx.Tertiary,{onClick:t({kind:_.ix.Kind.creditsInfoClick}),title:a,name:"creditsInfo",mount:r},q.createElement("div",{ref:i},o))}))))})),bc=J.UI.Union.asOption(xc),yc=ae.ux.style({padding:`${ae.ux.rem(te.x)}`,fontSize:ae.ux.rem(.75),lineHeight:ae.ux.rem(1.125),color:ie.XY.Content.Secondary.Default,cursor:"default"}),vc=ae.ux.style({color:ne.Blue60});function Cc(e){const t=e.assistant.state.view((e=>(0,a.zG)(e.availability,i.fromPredicate(_.a8.isActiveOrPassive),i.filter((()=>i.isSome(_.z_.toStarted(e.session)))))));return J.Z.composeOption(function(e,t,n){return J.Z.fromSideEffect((t=>e.notify(t)),(0,a.zG)(L.aj([t,n]),k.U((([e,t])=>({user:e,availability:t})))))}(e,e.assistant.state.view("user"),t.pipe(C.oA)),(()=>d.h.combine(t,e.router.activeView,((e,t)=>(0,a.zG)(e,i.filter((()=>"voiceProfile"!==t&&"feedbackForm"!==t&&"skill"!==t)))))))}const kc=J.UI.Node.make((({view:e,notify:t})=>{const{ref:n,onMount:i}=nt.P.useElWatcher(),a=q.useMemo((()=>n.pipe(an.QV(rn.E),C.oA,l.b((e=>t({kind:_.ix.Kind.mount,name:_.ec.historyButton,element:e})())))),[n]);return nt.P.useSubscriptionTo(a),q.createElement(ee.zx.Tertiary,{mount:i,onClick:t({kind:_.ix.Kind.restoreHistoryButtonClick}),disabled:e("disabled"),compact:!0,style:wc,size:"medium",name:"restoreHistory",title:"Pick up where you left off"},q.createElement(ee.ck,null))})),Sc=J.UI.Union.asOption(kc),wc={base:{boxShadow:`0px 0px 1px ${ae.ux.color(ne.BlueGray40).toRGBA().fade(.5).toString()}, 0px 0.5px 8px -0.5px ${ae.ux.color(ne.BlueGray40).toRGBA().fade(.5).toString()}`}};function Ec(e){return J.Z.fromSideEffect((t=>e.notify(t.action.action)),d.h.combine(e.assistant.state.view("session"),e.router.activeView,((e,t)=>"started"!==e.kind||"loading"!==t&&"beforeResults"!==t||e.historyStatus!==_.z_.HistoryStatus.hasHistory&&e.historyStatus!==_.z_.HistoryStatus.historyRequested?i.none:i.some({disabled:e.historyStatus===_.z_.HistoryStatus.historyRequested}))))}const Oc=J.UI.Node.make((({view:e,notify:t})=>q.createElement(ee.zx.Tertiary,{className:Gc,onClick:t({kind:_.ix.Kind.toolbarVoiceButtonClick}),name:"toolbarVoiceProfile"},q.createElement(ee.uA,{className:Ic}),q.createElement(Q.F.span,null,e("styleLabel"))))),_c="voiceBtn",Bc=u.Es.buttonOverrideSpecificity({padding:0,paddingRight:ae.ux.rem(te.x),paddingLeft:ae.ux.rem(te.F2),gap:ae.ux.rem(te.x),flexWrap:"nowrap",$nest:{"& > i":Object.assign({},u.Es.iconSizeRems(1.5))}},_c),Nc={stroke:ne.BlueGray60},Gc=ae.ux.joinClasses([_c,ae.ux.style(Bc)]),Ic=ae.ux.style(Nc),Pc=J.UI.Node.make((({notify:e,view:t})=>q.createElement("div",{className:Ac},q.createElement(ee.zx.Tertiary,{compact:!0,onClick:e({kind:_.ix.Kind.toolbarGoBackButtonClick}),name:"goBack"},q.createElement(at.JO.Arrow,{direction:at.n4.left})),q.createElement(Q.F.div,{className:Uc},t("activeViewIconUrl").pipe(k.U(i.fold(a.gn,(e=>q.createElement("img",{src:e,style:{width:ae.ux.rem(1.25),height:ae.ux.rem(1.25)}}))))),t("activeViewLabel").pipe(k.U(i.fold(a.gn,(e=>q.createElement("span",null,e))))))))),Ac=ae.ux.style({display:"flex",alignItems:"center",gap:ae.ux.rem(te.x),color:ne.BlueGray60,fontWeight:400,fontSize:ae.ux.rem(.75),lineHeight:ae.ux.rem(1.125)}),Uc=ae.ux.style({display:"flex",alignItems:"center",gap:ae.ux.rem(te.x)}),zc=ae.ux.style({display:"flex",flexDirection:"row",alignItems:"center",gap:ae.ux.rem(te.x)}),Tc=(J.UI.Node.make((({view:e})=>q.createElement("div",{className:zc},q.createElement(Q.F.img,{src:e("iconUrl"),style:{width:ae.ux.rem(1),height:ae.ux.rem(1)}}),q.createElement(Q.F.span,null,e("name"))))),"bnrGr"),Rc="bnrGo",Fc="goLogo",Vc="betaBadge",jc="sepAndRight",Dc=ae.ux.style({display:"flex",alignItems:"center",justifyContent:"space-between",width:ae.ux.percent(100),height:ae.ux.percent(100),gap:ae.ux.rem(te.x),position:"relative",overflow:"hidden"}),$c=ae.ux.style({display:"flex",alignItems:"center",gap:ae.ux.rem(te.x)}),Kc=ae.ux.style({display:"flex",flexDirection:"row",alignItems:"center",gap:ae.ux.rem(te.x)}),Mc={height:ae.ux.rem(1),borderLeft:`1px solid ${ne.BlueGray20}`},Lc=ae.ux.style(Mc),Hc=ae.ux.style({display:"flex",flexDirection:"row",alignItems:"center"}),Zc=ae.ux.joinClasses([ae.ux.style({display:"flex",alignItems:"center",justifyContent:"center",height:ae.ux.rem(2),width:ae.ux.rem(2.375)}),Fc]),Wc=ae.ux.style({display:"flex",flexDirection:"row",alignItems:"center"}),Yc=Vc,qc=ae.ux.style({width:ae.ux.rem(10),overflowWrap:"normal",whiteSpace:"normal",textAlign:"left"}),Xc=ae.ux.style(Object.assign(Object.assign({},Mc),{marginLeft:ae.ux.rem(te.x),marginRight:ae.ux.rem(te.F2)})),Qc=ae.ux.joinClasses([ae.ux.style({display:"flex",alignItems:"center"}),jc]),Jc=ae.ux.style({display:"flex",flexDirection:"row",alignItems:"center",height:ae.ux.rem(2)}),ed=e=>ae.ux.rem(79*(null!=e?e:1)/16),td=ae.ux.joinClasses([ae.ux.style({width:ed(),height:ae.ux.rem(1),paddingTop:ae.ux.rem(te.W9),marginLeft:ae.ux.rem(te.F2+te.yC)}),Tc]),nd=ae.ux.joinClasses([ae.ux.style({minWidth:ae.ux.rem(1.625)}),Rc]),id=ae.ux.keyframes({from:{opacity:0},to:{opacity:1}}),ad=ae.ux.keyframes({"0%":{opacity:0},"99%":{opacity:0},"100%":{opacity:1}}),rd=ae.ux.keyframes({from:{opacity:1,transform:"translateX(0)"},to:{opacity:0,transform:"translateX(-50%)"}}),od=ae.ux.keyframes({from:{transform:"translateX(0)"},to:{transform:`translateX(${ed(-1)})`}}),sd=ae.ux.style({$nest:{[`.${jc}`]:{animation:`${id} 300ms cubic-bezier(0.52, 0, 0.23, 1)`},[`.${Vc}`]:{animation:`${id} 300ms cubic-bezier(0.52, 0, 0.23, 1)`},[`.${Fc}`]:{animation:`${ad} 300ms linear`}}}),ld=ae.ux.style({position:"absolute",top:0,height:ae.ux.percent(100),display:"flex",alignItems:"center",zIndex:1,$nest:{[`.${Tc}`]:{animation:`${rd} 300ms cubic-bezier(0.52, 0, 0.23, 1)`},[`.${Rc}`]:{animation:`${od} 300ms cubic-bezier(0.52, 0, 0.23, 1)`}}}),cd=J.UI.Grid.make((({slots:e})=>q.createElement("div",{className:Kc},e.back,q.createElement("div",{className:Lc}),e.voice))),dd=J.UI.Knot.make(cd,{back:Pc,voice:Oc}),ud=()=>q.createElement("div",{className:Wc},q.createElement(ee.T3,{className:Zc}),q.createElement(ki.u,{title:q.createElement("div",{className:qc},"GrammarlyGO is still in beta testing. Please check for any inaccuracies.")},q.createElement(ee.Ct,{className:Yc},"Beta"))),md=J.UI.Node.make(ud),pd=J.UI.Composite.make(J.UI.Grid.make((({slots:e})=>q.createElement("div",{className:Hc},q.createElement(ud,null),q.createElement("div",{className:Qc},q.createElement("div",{className:Xc}),e.content)))),Oc),hd=J.UI.Node.make((()=>q.createElement("div",{className:Jc},q.createElement(ee.Pe,{className:td}),q.createElement(ee.T3,{className:nd})))),fd=J.UI.Union.make("kind",{goBanner:hd,goLogoOnly:md,goLogoAndVoiceButton:pd,backButton:Pc,backButtonAndVoiceButton:dd}),gd=J.UI.Transition.make({toolbarEntry:sd},{bannerExit:ld}),xd=J.UI.Grid.make((({slots:e})=>q.createElement("div",{className:$c},e.historyButton,e.credits))),bd=J.UI.Knot.make(xd,{historyButton:Sc,credits:bc}),yd=J.UI.Grid.make((({slots:e})=>q.createElement("div",{className:Dc},e.left,e.right))),vd=J.UI.Knot.make(yd,{left:J.UI.Animated.make(gd,fd),right:bd});var Cd=n(93756),kd=n(38062),Sd=n(23063);function wd(e){return J.Z.composeKnot({left:J.Z.animatingFlow(Ed(e),((e,t)=>(0,a.zG)(e,i.filter((e=>"goBanner"===e.kind&&("goLogoOnly"===t.kind||"goLogoAndVoiceButton"===t.kind))),i.map((()=>Cd.Hk("bannerExit","toolbarEntry")))))),right:J.Z.composeKnot({historyButton:Ec(e),credits:Cc(e)})})}function Ed(e){const t=d.h.combine(e.assistant.state,e.router.activeView,(({session:e},t)=>(0,a.zG)(_.z_.toStarted(e),i.fold((()=>"goLogoOnly"),(()=>"loadingError"===t?"goLogoOnly":"loading"===t||"beforeResults"===t||"afterResults"===t?"goLogoAndVoiceButton":"voiceProfile"===t||"feedbackForm"===t||"legacyVoiceProfile"===t||"skill"===t?"backButton":"actionSelected"===t?"backButtonAndVoiceButton":(0,Y.L0)(t))))));return J.Z.composeUnion({goBanner:()=>Z.of(null),goLogoOnly:()=>Z.of(null),goLogoAndVoiceButton:Nd(e),backButton:Od(e),backButtonAndVoiceButton:Bd(e)},(()=>kd.S3(e.assistant.state.view("contextualActions").pipe(C.oA,Sd.q(1),H.w((()=>F.H(1500)))),t.pipe(s.h((e=>"goLogoOnly"!==e&&"goLogoAndVoiceButton"!==e)))).pipe(ns.c(t),W.O("goBanner"),k.U((e=>({kind:e}))))))}function Od(e){return J.Z.fromSideEffect((t=>e.notify(t)),d.h.combine(e.router.activeView,e.skill.state,((e,t)=>"voiceProfile"===e||"legacyVoiceProfile"===e?{activeViewIconUrl:i.none,activeViewLabel:i.some("My voice")}:"feedbackForm"===e?{activeViewIconUrl:i.none,activeViewLabel:i.some("Share your thoughts")}:"skill"===e?(0,a.zG)(t,i.fold((()=>({activeViewIconUrl:i.none,activeViewLabel:i.none})),(e=>({activeViewIconUrl:i.some(e.skill.iconUrl),activeViewLabel:i.some(e.skill.displayName)})))):{activeViewIconUrl:i.none,activeViewLabel:i.none})))}function _d(e){return(0,a.zG)(e,i.fold((()=>""),(e=>(0,a.zG)(_.LA.toLegacyVoiceProfile(e),i.fold((()=>"My voice"),(e=>(0,a.zG)(i.fromNullable(e.styles.find((t=>_.LA.Style.Id.eq.equals(t.id,e.selectedStyle)))),i.fold((()=>""),(e=>e.label)))))))))}function Bd(e){return J.Z.fromSideEffect((t=>e.notify(t.action)),e.assistant.state.view("session").view((0,a.ls)(_.z_.toStarted,i.map((e=>e.voiceProfile)))).pipe(k.U((e=>({back:{activeViewIconUrl:i.none,activeViewLabel:i.none},voice:{styleLabel:_d(e)}})))))}function Nd(e){return J.Z.fromSideEffect((t=>e.notify(t)),e.assistant.state.view("session").view((0,a.ls)(_.z_.toStarted,i.map((e=>e.voiceProfile)))).pipe(k.U((e=>({kind:"goLogoAndVoiceButton",styleLabel:_d(e)})))))}const Gd=J.UI.Knot.make(St,{toolbar:vd,content:uc});function Id(e){return J.UI.Knot.make(J.UI.Grid.make((({slots:t})=>q.createElement(sn.Provider,{value:{notifyUnmount:t=>e.notify(t)}},t.assistant))),{assistant:Gd})}var Pd;function Ad(e,t=Pd.empty){return J.Z.composeKnot({assistant:J.Z.composeKnot({root:Bt(e),content:hc(e,Object.assign(Object.assign({},t.contentFlowOptions),{chatFlowOptions:{assistantMaxHeight:d.h.combine(t.contentFlowOptions.chatFlowOptions.assistantMaxHeight,e.position.state,((e,t)=>(0,a.zG)(e,i.alt((()=>(0,a.zG)(t,m,i.chain((e=>e.assistantMaxHeight))))))))}})),toolbar:wd(e)})})}!function(e){e.empty={contentFlowOptions:pc.empty}}(Pd||(Pd={}));J.UI.Knot.make(It,{toolbar:vd,content:uc});var Ud;!function(e){e.empty={fixedContainerFlowOptions:Pt.empty,contentFlowOptions:pc.empty}}(Ud||(Ud={}))},56133:(e,t,n)=>{n.d(t,{l:()=>u,Q:()=>c});var i=n(27378),a=n(74204),r=n(5114),o=n(57050),s=n(37360),l=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]])}return n};const c=e=>{var{placement:t,onMount:n,onMaxSizeChange:c,children:d}=e,u=l(e,["placement","onMount","onMaxSizeChange","children"]);const[m,p]=i.useState(null),h="initial"===t.kind?t:void 0,f=(0,s.gM)(c),g=(0,s.n4)(),{styles:x}=(0,a.D)(null==h?void 0:h.referenceElement,m,{placement:null==h?void 0:h.placement,modifiers:[f,{name:"preventOverflow",options:{padding:5,mainAxis:!0,altAxis:!0,tether:!1}},g,...(0,o.zG)((null==h?void 0:h.offset)||r.none,r.fold((()=>[]),(e=>[{name:"offset",options:{offset:e}}])))]});return i.createElement("div",Object.assign({dir:"ltr",ref:e=>{p(e),e&&e!==m&&n(e)},style:"initial"===t.kind?x.popper:{position:"fixed",top:t.referencePosition.top,left:t.referencePosition.left,bottom:t.referencePosition.bottom,right:t.referencePosition.right,transform:`translate(${t.translation.x}px, ${t.translation.y}px)`},tabIndex:0},u),d)};var d=n(38983);const u=i.createContext({portalContainer:d.h.create(r.none)})},85784:(e,t,n)=>{n.d(t,{vw:()=>te,Ct:()=>Me,zx:()=>j,Zb:()=>Pt,Ol:()=>zt,j4:()=>G,xx:()=>qe,XR:()=>O,h_:()=>ut,dL:()=>ht,CT:()=>c,T3:()=>S,rN:()=>E,Pe:()=>w,k8:()=>d,L3:()=>s,qq:()=>tt,Ho:()=>b,R6:()=>_,kc:()=>k,J2:()=>kt,PG:()=>Gt,Ph:()=>Ke,cv:()=>y,Z0:()=>At,OJ:()=>B,ck:()=>P,r7:()=>I,wN:()=>u,OK:()=>ft,E2:()=>bt,mQ:()=>xt,b:()=>q,it:()=>Ot,pY:()=>_e,qn:()=>o,uA:()=>r,T6:()=>v,P_:()=>V});var i=n(27378),a=n(31278);const r=e=>i.createElement(a.a1,Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},e),i.createElement("path",{d:"M12 7L12 17",strokeLinecap:"round"}),i.createElement("path",{d:"M9 9L9 15",strokeLinecap:"round"}),i.createElement("path",{d:"M15 9L15 15",strokeLinecap:"round"}),i.createElement("path",{d:"M18 11L18 13",strokeLinecap:"round"}),i.createElement("path",{d:"M6 11L6 13",strokeLinecap:"round"})),o=e=>i.createElement(a.a1,Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),i.createElement("rect",{width:"16",height:"16",rx:"2",fill:"inherit",stroke:"none"}),i.createElement("path",{d:"M3 7L3 9",stroke:"white",fill:"none",strokeLinecap:"round"}),i.createElement("path",{d:"M5.5 5.5L5.5 10.5",stroke:"white",fill:"none",strokeLinecap:"round"}),i.createElement("path",{d:"M8 3L8 13",stroke:"white",fill:"none",strokeLinecap:"round"}),i.createElement("path",{d:"M10.5 5.5L10.5 10.5",stroke:"white",fill:"none",strokeLinecap:"round"}),i.createElement("path",{d:"M13 7L13 9",stroke:"white",fill:"none",strokeLinecap:"round"})),s=e=>i.createElement(a.a1,Object.assign({width:"12",height:"15",viewBox:"0 0 12 15",fill:"#99A0B3"},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 0.5C3.67157 0.5 3 1.17157 3 2V3H0.5C0.223858 3 0 3.22386 0 3.5C0 3.77614 0.223858 4 0.5 4H1.04536L1.82983 12.237C1.95203 13.5201 3.02968 14.5 4.31857 14.5H7.68143C8.97032 14.5 10.048 13.5201 10.1702 12.237L10.9546 4H11.5C11.7761 4 12 3.77614 12 3.5C12 3.22386 11.7761 3 11.5 3H9V2C9 1.17157 8.32843 0.5 7.5 0.5H4.5ZM8 3V2C8 1.72386 7.77614 1.5 7.5 1.5H4.5C4.22386 1.5 4 1.72386 4 2V3H8ZM2.04988 4H9.95012L9.17467 12.1422C9.10135 12.9121 8.45476 13.5 7.68143 13.5H4.31857C3.54524 13.5 2.89865 12.9121 2.82533 12.1422L2.04988 4Z",stroke:"none"}));var l=n(13578);const c=e=>i.createElement(a.a1,Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},e),i.createElement("path",{d:"M14 11.5H16.7929L8.92289 19.37L10.4851 13.1213L10.6404 12.5H10H7.20711L15.0771 4.62999L13.5149 10.8787L13.3596 11.5H14Z",stroke:l.XY.Content.Secondary.Default,strokeMiterlimit:"4.25735"})),d=e=>i.createElement(a.a1,Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},e),i.createElement("rect",{x:"4.5",y:"4.5",width:"6",height:"6",rx:"1.5",stroke:l.XY.Content.Secondary.Default}),i.createElement("rect",{x:"4.5",y:"13.5",width:"6",height:"6",rx:"1.5",stroke:l.XY.Content.Secondary.Default}),i.createElement("rect",{x:"13.5",y:"4.5",width:"6",height:"6",rx:"1.5",stroke:l.XY.Content.Secondary.Default}),i.createElement("path",{d:"M14.5513 15.8162L12.9269 16.3577C12.7902 16.4033 12.7902 16.5967 12.9269 16.6423L14.5513 17.1838C15.1485 17.3828 15.6172 17.8515 15.8162 18.4487L16.3577 20.0731C16.4033 20.2098 16.5967 20.2098 16.6423 20.0731L17.1838 18.4487C17.3828 17.8515 17.8515 17.3828 18.4487 17.1838L20.0731 16.6423C20.2098 16.5967 20.2098 16.4033 20.0731 16.3577L18.4487 15.8162C17.8515 15.6172 17.3828 15.1485 17.1838 14.5513L16.6423 12.9269C16.5967 12.7902 16.4033 12.7902 16.3577 12.9269L15.8162 14.5513C15.6172 15.1485 15.1485 15.6172 14.5513 15.8162Z",fill:l.XY.Content.Secondary.Default,stroke:l.XY.Content.Secondary.Default})),u=e=>i.createElement(a.a1,Object.assign({width:"32",height:"32",fill:l.XY.Content.Secondary.Default,viewBox:"0 0 32 32"},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 16a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm1 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-11-3a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-4a1 1 0 0 0-1-1h-4Z",stroke:"none"})),m=e=>i.createElement(a.a1,Object.assign({width:"12",height:"15",viewBox:"0 0 12 15",fill:"#99A0B3"},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.5 0.5C0.776142 0.5 1 0.723858 1 1V2H11.5C11.7022 2 11.8845 2.12182 11.9619 2.30866C12.0393 2.4955 11.9966 2.71055 11.8536 2.85355L8.70711 6L11.8536 9.14645C11.9966 9.28945 12.0393 9.5045 11.9619 9.69134C11.8845 9.87818 11.7022 10 11.5 10H1V14.5C1 14.7761 0.776142 15 0.5 15C0.223858 15 0 14.7761 0 14.5V1C0 0.723858 0.223858 0.5 0.5 0.5ZM1 9H10.2929L7.64645 6.35355C7.45118 6.15829 7.45118 5.84171 7.64645 5.64645L10.2929 3H1V9Z",stroke:"none"}));var p=n(89894),h=n(12187),f=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]])}return n};const g=p.ux.keyframes({from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}}),x=p.ux.style({animation:`${g} 1s linear infinite`,width:p.ux.rem(1),height:p.ux.rem(1),minWidth:p.ux.rem(1),minHeight:p.ux.rem(1)}),b=e=>{const{className:t}=e,n=f(e,["className"]);return i.createElement(a.a1,Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},(0,h.Sh)(x,t),n),i.createElement("circle",{cx:"8",cy:"8",r:"5",stroke:"#C2C6D4",strokeWidth:"2"}),i.createElement("path",{d:"M13 8C13 8.76694 12.8236 9.5236 12.4844 10.2114C12.1452 10.8993 11.6523 11.4999 11.0438 11.9668C10.4354 12.4336 9.72765 12.7543 8.97545 12.9039C8.22325 13.0535 7.44671 13.0281 6.7059 12.8296",stroke:"#05735A",strokeWidth:"2",strokeLinecap:"round"}))},y=e=>i.createElement(a.a1,Object.assign({width:"12",height:"12",viewBox:"0 0 12 12",fill:"none"},e),i.createElement("path",{stroke:"#fff",strokeLinecap:"round",strokeWidth:".857",d:"m4 4 2 2m2 2L6 6m0 0 2-2M6 6 4 8"})),v=e=>i.createElement(a.a1,Object.assign({width:"18",height:"18",viewBox:"0 0 18 18",fill:"#99A0B3"},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0607 3.64286C9.5893 2.78571 8.4107 2.78571 7.93926 3.64286L3.16592 12.3214C2.69448 13.1786 3.28378 14.25 4.22667 14.25H13.7733C14.7162 14.25 15.3055 13.1786 14.8341 12.3214L10.0607 3.64286ZM8.25 6C8.25 5.58579 8.58579 5.25 9 5.25C9.41421 5.25 9.75 5.58579 9.75 6V9.75C9.75 10.1642 9.41421 10.5 9 10.5C8.58579 10.5 8.25 10.1642 8.25 9.75V6ZM9.75 12C9.75 12.4142 9.41421 12.75 9 12.75C8.58579 12.75 8.25 12.4142 8.25 12C8.25 11.5858 8.58579 11.25 9 11.25C9.41421 11.25 9.75 11.5858 9.75 12Z",stroke:"none"}));var C=n(13004);const k=e=>i.createElement(a.a1,Object.assign({width:"18",height:"18",viewBox:"0 0 18 18",fill:C.BO.BrandGreen60},e),i.createElement("path",{d:"M17.1056 9.44721L0.992696 17.5037C0.607324 17.6963 0.174955 17.3439 0.285972 16.9276L1.83393 11.1228C1.93505 10.7436 2.24864 10.4586 2.63576 10.394L9.52041 9.2466C9.79894 9.20018 9.79894 8.79982 9.52041 8.7534L2.63576 7.60596C2.24864 7.54144 1.93505 7.25644 1.83393 6.87723L0.285971 1.07239C0.174955 0.656082 0.607322 0.303661 0.992694 0.496347L17.1056 8.55279C17.4741 8.73705 17.4741 9.26295 17.1056 9.44721Z",stroke:"none"})),S=e=>i.createElement(a.a1,Object.assign({width:"26",height:"12",viewBox:"0 0 26 12",fill:C.BO.BrandGreen60},e),i.createElement("path",{d:"M19.3727 0.000327934C16.1036 0.000327934 13.4619 2.6865 13.4619 6.00016C13.4619 9.31383 16.1081 12 19.3727 12C22.6374 12 25.2836 9.31474 25.2836 6.00016C25.2836 2.68559 22.6374 0.000327934 19.3727 0.000327934ZM19.3727 9.73428C17.3867 9.73428 15.7766 8.06247 15.7766 6.00016C15.7766 3.93786 17.3867 2.26604 19.3727 2.26604C21.3587 2.26604 22.9688 3.93786 22.9688 6.00016C22.9688 8.06247 21.3587 9.73428 19.3727 9.73428Z",stroke:"none"}),i.createElement("path",{d:"M12.6746 6.42151H7.39304V8.29493H8.68981C9.01927 8.30238 9.34872 8.28019 9.67419 8.22864L9.69144 8.24589C9.08392 9.13311 7.98875 9.75788 6.70651 9.75788C4.63967 9.75788 2.99964 8.11512 2.99964 5.9938C2.99964 3.87247 4.63967 2.23062 6.70651 2.23062C7.30404 2.23157 7.89242 2.3776 8.42105 2.65615C8.94969 2.93471 9.40278 3.33745 9.74139 3.82979L11.593 2.55844C11.0537 1.76195 10.3255 1.11146 9.47342 0.665066C8.62136 0.218676 7.672 -0.00970839 6.71014 0.000316333C5.92081 -0.00586192 5.13814 0.145157 4.40777 0.444568C3.6774 0.74398 3.01395 1.18579 2.45608 1.74425C1.89822 2.3027 1.45712 2.96663 1.15848 3.69731C0.859842 4.428 0.709651 5.21083 0.716666 6.00015C0.716666 9.35378 3.34108 12 6.60571 12C8.60354 12 10.2626 10.8658 10.9192 9.61622L10.9519 9.63347C10.8546 10.0093 10.8049 10.3958 10.8039 10.784V11.7221L12.6755 11.7167V6.42242L12.6746 6.42151Z",stroke:"none"})),w=e=>i.createElement(a.a1,Object.assign({width:"79",height:"15",viewBox:"0 0 79 15",fill:l.XY.Content.Secondary.Default},e),i.createElement("path",{stroke:"none",d:"M7.76927 3.34994C7.12351 3.34994 6.60106 3.87239 6.60106 4.50309V4.51815C5.97131 3.82626 5.21824 3.28876 3.94178 3.28876C2.05251 3.28782 0.284668 4.67159 0.284668 7.13037V7.16143C0.284668 9.60515 2.02144 11.004 3.94272 11.004C5.18717 11.004 5.94118 10.4966 6.63213 9.66634V10.0664C6.63213 11.5415 5.87906 12.3106 4.28066 12.3106C3.40427 12.3106 2.68226 12.1261 2.00638 11.8192C1.89907 11.7731 1.77575 11.742 1.62231 11.742C1.09987 11.742 0.669676 12.1722 0.669676 12.6946C0.669676 13.1248 0.931369 13.4477 1.3305 13.6011C2.29914 13.9852 3.25177 14.1697 4.34279 14.1697C5.94118 14.1697 7.12445 13.8318 7.89353 13.0636C8.58541 12.3718 8.93841 11.2958 8.93841 9.82072V4.51721C8.93841 3.87145 8.41597 3.349 7.77021 3.349L7.76927 3.34994ZM6.63213 7.16143C6.63213 8.28351 5.75574 9.06765 4.6186 9.06765C3.48146 9.06765 2.62013 8.29951 2.62013 7.16143V7.13037C2.62013 6.00829 3.48052 5.22415 4.6186 5.22415C5.75668 5.22415 6.63213 6.00829 6.63213 7.13037V7.16143Z"}),i.createElement("path",{stroke:"none",d:"M14.3577 3.34988C13.6658 3.34988 13.1133 4.0879 12.7744 4.88709V4.51809C12.7744 3.87233 12.252 3.34988 11.6062 3.34988C10.9604 3.34988 10.438 3.87233 10.438 4.51809V10.6039C10.438 11.2496 10.9604 11.7721 11.6062 11.7721C12.252 11.7721 12.7744 11.2496 12.7744 10.6039V8.42183C12.7744 6.76224 13.4352 5.85479 14.6185 5.57898C15.0948 5.47167 15.4949 5.10266 15.4949 4.48797C15.4949 3.82714 15.0797 3.35083 14.3577 3.35083V3.34988Z"}),i.createElement("path",{stroke:"none",d:"M19.5002 3.34988C18.4092 3.34988 17.61 3.50332 16.872 3.78008C16.5029 3.91845 16.2422 4.27146 16.2422 4.68659C16.2422 5.22409 16.6724 5.63923 17.2108 5.63923C17.3181 5.63923 17.4104 5.62416 17.5488 5.57804C17.994 5.43966 18.5174 5.34741 19.1622 5.34741C20.3304 5.34741 20.9301 5.88491 20.9301 6.85355V6.99193C20.3464 6.79237 19.7468 6.65399 18.9165 6.65399C16.9651 6.65399 15.5964 7.48425 15.5964 9.28221V9.31328C15.5964 10.9427 16.872 11.8342 18.4242 11.8342C19.5614 11.8342 20.3455 11.4191 20.9141 10.7893V10.8044C20.9141 11.2957 21.3593 11.773 22.0361 11.773C22.6659 11.773 23.1733 11.2816 23.1733 10.6509V6.90062C23.1733 5.7936 22.8965 4.88709 22.2818 4.2724C21.6982 3.68877 20.7757 3.34988 19.5002 3.34988ZM20.9602 8.77483C20.9602 9.62016 20.2222 10.2198 19.1312 10.2198C18.3781 10.2198 17.8557 9.85078 17.8557 9.22103V9.18996C17.8557 8.45195 18.4703 8.05282 19.4691 8.05282C20.0377 8.05282 20.5601 8.17614 20.9602 8.36064V8.77577V8.77483Z"}),i.createElement("path",{stroke:"none",d:"M34.4752 3.28764C33.3531 3.28764 32.4927 3.7489 31.7698 4.59422C31.3396 3.76396 30.5253 3.28764 29.4494 3.28764C28.2661 3.28764 27.5592 3.9174 27.0207 4.60929V4.51703C27.0207 3.87127 26.4983 3.34883 25.8525 3.34883C25.2068 3.34883 24.6843 3.87127 24.6843 4.51703V10.6037C24.6843 11.2495 25.2068 11.7719 25.8525 11.7719C26.4983 11.7719 27.0207 11.2495 27.0207 10.6037V7.08407C27.0207 5.978 27.5582 5.40848 28.4346 5.40848C29.311 5.40848 29.8024 5.97705 29.8024 7.08407V10.6037C29.8024 11.2495 30.3248 11.7719 30.9706 11.7719C31.6164 11.7719 32.1388 11.2495 32.1388 10.6037V7.08407C32.1388 5.978 32.6763 5.40848 33.5527 5.40848C34.4291 5.40848 34.9205 5.97705 34.9205 7.08407V10.6037C34.9205 11.2495 35.4429 11.7719 36.0887 11.7719C36.7344 11.7719 37.2569 11.2495 37.2569 10.6037V6.31594C37.2569 4.33347 36.212 3.28858 34.4752 3.28858V3.28764Z"}),i.createElement("path",{stroke:"none",d:"M48.5558 3.28764C47.4337 3.28764 46.5733 3.7489 45.8504 4.59422C45.4202 3.76396 44.6059 3.28764 43.53 3.28764C42.3467 3.28764 41.6397 3.9174 41.1013 4.60929V4.51703C41.1013 3.87127 40.5789 3.34883 39.9331 3.34883C39.2873 3.34883 38.7649 3.87127 38.7649 4.51703V10.6037C38.7649 11.2495 39.2873 11.7719 39.9331 11.7719C40.5789 11.7719 41.1013 11.2495 41.1013 10.6037V7.08407C41.1013 5.978 41.6388 5.40848 42.5152 5.40848C43.3916 5.40848 43.883 5.97705 43.883 7.08407V10.6037C43.883 11.2495 44.4054 11.7719 45.0512 11.7719C45.6969 11.7719 46.2194 11.2495 46.2194 10.6037V7.08407C46.2194 5.978 46.7569 5.40848 47.6333 5.40848C48.5097 5.40848 49.001 5.97705 49.001 7.08407V10.6037C49.001 11.2495 49.5235 11.7719 50.1692 11.7719C50.815 11.7719 51.3374 11.2495 51.3374 10.6037V6.31594C51.3374 4.33347 50.2926 3.28858 48.5558 3.28858V3.28764Z"}),i.createElement("path",{stroke:"none",d:"M56.11 3.34988C55.019 3.34988 54.2198 3.50332 53.4818 3.78008C53.1128 3.91845 52.8521 4.27146 52.8521 4.68659C52.8521 5.22409 53.2822 5.63923 53.8207 5.63923C53.928 5.63923 54.0203 5.62416 54.1586 5.57804C54.6039 5.43966 55.1273 5.34741 55.7721 5.34741C56.9403 5.34741 57.5399 5.88491 57.5399 6.85355V6.99193C56.9563 6.79237 56.3567 6.65399 55.5264 6.65399C53.5741 6.65399 52.2063 7.48425 52.2063 9.28221V9.31328C52.2063 10.9427 53.4818 11.8342 55.0341 11.8342C56.1712 11.8342 56.9554 11.4191 57.5239 10.7893V10.8044C57.5239 11.2957 57.9692 11.773 58.646 11.773C59.2758 11.773 59.7831 11.2816 59.7831 10.6509V6.90062C59.7831 5.7936 59.5064 4.88709 58.8917 4.2724C58.3081 3.68877 57.3856 3.34988 56.11 3.34988ZM57.5701 8.77483C57.5701 9.62016 56.832 10.2198 55.741 10.2198C54.988 10.2198 54.4655 9.85078 54.4655 9.22103V9.18996C54.4655 8.45195 55.0802 8.05282 56.079 8.05282C56.6475 8.05282 57.17 8.17614 57.5701 8.36064V8.77577V8.77483Z"}),i.createElement("path",{stroke:"none",d:"M65.1976 3.34988C64.5057 3.34988 63.9522 4.0879 63.6142 4.88709V4.51809C63.6142 3.87233 63.0918 3.34988 62.446 3.34988C61.8003 3.34988 61.2778 3.87233 61.2778 4.51809V10.6039C61.2778 11.2496 61.8003 11.7721 62.446 11.7721C63.0918 11.7721 63.6142 11.2496 63.6142 10.6039V8.42183C63.6142 6.76224 64.2751 5.85479 65.4583 5.57898C65.9346 5.47167 66.3347 5.10266 66.3347 4.48797C66.3347 3.82714 65.9196 3.35083 65.1976 3.35083V3.34988Z"}),i.createElement("path",{stroke:"none",d:"M68.2759 0.367645C67.6301 0.367645 67.1077 0.890089 67.1077 1.53585V10.6038C67.1077 11.2495 67.6301 11.772 68.2759 11.772C68.9216 11.772 69.4441 11.2495 69.4441 10.6038V1.53585C69.4441 0.890089 68.9216 0.367645 68.2759 0.367645Z"}),i.createElement("path",{stroke:"none",d:"M77.1111 3.34988C76.5115 3.34988 76.1736 3.74901 75.9891 4.24133L74.2673 9.02146L72.4844 4.22627C72.2849 3.67276 71.9469 3.34988 71.3624 3.34988C70.7166 3.34988 70.2092 3.81114 70.2092 4.47196C70.2092 4.6254 70.2704 4.85603 70.3325 5.00947L73.1453 11.5264L73.0681 11.7109C72.8525 12.126 72.6529 12.2023 72.2378 12.2023C72.0684 12.2023 71.946 12.1712 71.7464 12.11C71.6542 12.0789 71.5469 12.0488 71.3624 12.0488C70.8861 12.0488 70.4399 12.4329 70.4399 13.0015C70.4399 13.57 70.8399 13.8468 71.1779 13.9701C71.5619 14.1085 71.9309 14.1857 72.4534 14.1857C73.8522 14.1857 74.5432 13.5559 75.235 11.8803L78.109 4.97935C78.1551 4.87203 78.2163 4.61034 78.2163 4.42584C78.2163 3.81114 77.7089 3.34988 77.1093 3.34988H77.1111Z"})),E=()=>i.createElement("svg",{width:"240",height:"35",viewBox:"0 0 240 35",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M209.923 15.8961H197.325V20.5059H200.418C201.204 20.5238 201.989 20.4701 202.766 20.3428L202.807 20.3852C201.358 22.5683 198.746 24.1056 195.687 24.1056C190.757 24.1056 186.845 20.0635 186.845 14.8437C186.845 9.62393 190.757 5.58174 195.687 5.58174C197.113 5.58398 198.514 5.94373 199.775 6.62748C201.035 7.31123 202.116 8.30558 202.926 9.51667L207.343 6.39063C206.054 4.42875 204.315 2.82438 202.279 1.72725C200.245 0.627883 197.977 0.0692616 195.685 0.0960754C193.807 0.080434 191.94 0.449124 190.2 1.18651C188.461 1.92165 186.88 3.00985 185.55 4.38406C184.22 5.75827 183.169 7.39168 182.456 9.19044C181.746 10.9892 181.384 12.9153 181.402 14.8593C181.402 23.1113 187.662 29.6226 195.449 29.6226C200.219 29.6226 204.172 26.8317 205.738 23.7571L205.816 23.7995C205.584 24.7246 205.465 25.6743 205.463 26.6306V28.9388L209.927 28.9254H209.923V15.8984V15.8961Z",fill:"white"}),i.createElement("path",{d:"M225.901 0C218.113 0 211.801 6.62972 211.801 14.8102C211.801 22.9906 218.113 29.6204 225.901 29.6204C233.688 29.6204 240 22.9906 240 14.8102C240 6.62972 233.688 0 225.901 0ZM226.018 24.1191C221.187 24.1191 217.271 20.0054 217.271 14.9308C217.271 9.85632 221.187 5.74263 226.018 5.74263C230.848 5.74263 234.765 9.85632 234.765 14.9308C234.765 20.0054 230.848 24.1191 226.018 24.1191Z",fill:"white"}),i.createElement("path",{d:"M17.223 8.39048C15.737 8.39048 14.5348 9.63062 14.5348 11.1277V11.1635C13.0857 9.52113 11.3528 8.24524 8.41547 8.24524C4.06802 8.24301 0 11.5277 0 17.3642V17.4379C0 23.2386 3.99653 26.5591 8.41763 26.5591C11.2813 26.5591 13.0164 25.3547 14.6063 23.3839V24.3335C14.6063 27.835 12.8734 29.6606 9.19528 29.6606C7.1786 29.6606 5.51717 29.2226 3.96188 28.4942C3.71494 28.3847 3.43117 28.3109 3.07809 28.3109C1.87588 28.3109 0.885953 29.3321 0.885953 30.5722C0.885953 31.5934 1.48814 32.3598 2.40659 32.724C4.63555 33.6357 6.82768 34.0737 9.33824 34.0737C13.0164 34.0737 15.7392 33.2715 17.5089 31.4482C19.1011 29.8058 19.9134 27.2518 19.9134 23.7503V11.1612C19.9134 9.62839 18.7111 8.38825 17.2252 8.38825L17.223 8.39048ZM14.6063 17.4379C14.6063 20.1014 12.5896 21.9628 9.97293 21.9628C7.35622 21.9628 5.3742 20.1394 5.3742 17.4379V17.3642C5.3742 14.7007 7.35406 12.8393 9.97293 12.8393C12.5918 12.8393 14.6063 14.7007 14.6063 17.3642V17.4379Z",fill:"white"}),i.createElement("path",{d:"M32.3836 8.39038C30.7914 8.39038 29.5199 10.1422 28.7401 12.0393V11.1634C28.7401 9.63052 27.5379 8.39038 26.0519 8.39038C24.5659 8.39038 23.3637 9.63052 23.3637 11.1634V25.6093C23.3637 27.1422 24.5659 28.3823 26.0519 28.3823C27.5379 28.3823 28.7401 27.1422 28.7401 25.6093V20.4298C28.7401 16.4904 30.2607 14.3364 32.9836 13.6816C34.0797 13.4269 35.0003 12.551 35.0003 11.0919C35.0003 9.52327 34.045 8.39262 32.3836 8.39262V8.39038Z",fill:"white"}),i.createElement("path",{d:"M44.2178 8.39038C41.7072 8.39038 39.8682 8.7546 38.1699 9.41154C37.3208 9.74001 36.7207 10.5779 36.7207 11.5634C36.7207 12.8392 37.7107 13.8247 38.9497 13.8247C39.1967 13.8247 39.4089 13.7889 39.7274 13.6794C40.7519 13.3509 41.9563 13.132 43.4401 13.132C46.1283 13.132 47.5081 14.4079 47.5081 16.7071V17.0356C46.1651 16.5619 44.7853 16.2334 42.8748 16.2334C38.3843 16.2334 35.2348 18.2042 35.2348 22.4721V22.5459C35.2348 26.4138 38.1699 28.5298 41.7419 28.5298C44.3586 28.5298 46.163 27.5444 47.4713 26.0495V26.0853C47.4713 27.2517 48.4959 28.3846 50.0534 28.3846C51.5025 28.3846 52.6701 27.2182 52.6701 25.7211V16.8189C52.6701 14.1911 52.0332 12.0393 50.6187 10.5802C49.2757 9.1948 47.1529 8.39038 44.2178 8.39038ZM47.5775 21.2677C47.5775 23.2743 45.8792 24.6977 43.3686 24.6977C41.6357 24.6977 40.4335 23.8217 40.4335 22.3269V22.2531C40.4335 20.5013 41.848 19.5539 44.1463 19.5539C45.4546 19.5539 46.6568 19.8466 47.5775 20.2846V21.27V21.2677Z",fill:"white"}),i.createElement("path",{d:"M78.6766 8.24286C76.0945 8.24286 74.1147 9.33776 72.4511 11.3443C71.4611 9.37351 69.5874 8.24286 67.1115 8.24286C64.3887 8.24286 62.7619 9.73773 61.5229 11.3801V11.1611C61.5229 9.62824 60.3207 8.3881 58.8347 8.3881C57.3487 8.3881 56.1465 9.62824 56.1465 11.1611V25.6093C56.1465 27.1422 57.3487 28.3823 58.8347 28.3823C60.3207 28.3823 61.5229 27.1422 61.5229 25.6093V17.2545C61.5229 14.629 62.7597 13.2772 64.7764 13.2772C66.7931 13.2772 67.9238 14.6268 67.9238 17.2545V25.6093C67.9238 27.1422 69.126 28.3823 70.612 28.3823C72.098 28.3823 73.3002 27.1422 73.3002 25.6093V17.2545C73.3002 14.629 74.5371 13.2772 76.5537 13.2772C78.5704 13.2772 79.7011 14.6268 79.7011 17.2545V25.6093C79.7011 27.1422 80.9034 28.3823 82.3893 28.3823C83.8753 28.3823 85.0775 27.1422 85.0775 25.6093V15.4312C85.0775 10.7254 82.6731 8.24509 78.6766 8.24509V8.24286Z",fill:"white"}),i.createElement("path",{d:"M111.077 8.24286C108.495 8.24286 106.516 9.33776 104.852 11.3443C103.862 9.37351 101.988 8.24286 99.5124 8.24286C96.7895 8.24286 95.1628 9.73773 93.9237 11.3801V11.1611C93.9237 9.62824 92.7215 8.3881 91.2355 8.3881C89.7496 8.3881 88.5474 9.62824 88.5474 11.1611V25.6093C88.5474 27.1422 89.7496 28.3823 91.2355 28.3823C92.7215 28.3823 93.9237 27.1422 93.9237 25.6093V17.2545C93.9237 14.629 95.1606 13.2772 97.1773 13.2772C99.194 13.2772 100.325 14.6268 100.325 17.2545V25.6093C100.325 27.1422 101.527 28.3823 103.013 28.3823C104.499 28.3823 105.701 27.1422 105.701 25.6093V17.2545C105.701 14.629 106.938 13.2772 108.955 13.2772C110.971 13.2772 112.102 14.6268 112.102 17.2545V25.6093C112.102 27.1422 113.304 28.3823 114.79 28.3823C116.276 28.3823 117.478 27.1422 117.478 25.6093V15.4312C117.478 10.7254 115.074 8.24509 111.077 8.24509V8.24286Z",fill:"white"}),i.createElement("path",{d:"M128.461 8.39038C125.95 8.39038 124.111 8.7546 122.413 9.41154C121.564 9.74001 120.964 10.5779 120.964 11.5634C120.964 12.8392 121.954 13.8247 123.193 13.8247C123.44 13.8247 123.652 13.7889 123.97 13.6794C124.995 13.3509 126.199 13.132 127.683 13.132C130.371 13.132 131.751 14.4079 131.751 16.7071V17.0356C130.408 16.5619 129.028 16.2334 127.118 16.2334C122.625 16.2334 119.478 18.2042 119.478 22.4721V22.5459C119.478 26.4138 122.413 28.5298 125.985 28.5298C128.602 28.5298 130.406 27.5444 131.714 26.0495V26.0853C131.714 27.2517 132.739 28.3846 134.296 28.3846C135.745 28.3846 136.913 27.2182 136.913 25.7211V16.8189C136.913 14.1911 136.276 12.0393 134.862 10.5802C133.519 9.1948 131.396 8.39038 128.461 8.39038ZM131.82 21.2677C131.82 23.2743 130.122 24.6977 127.612 24.6977C125.879 24.6977 124.676 23.8217 124.676 22.3269V22.2531C124.676 20.5013 126.091 19.5539 128.389 19.5539C129.698 19.5539 130.9 19.8466 131.82 20.2846V21.27V21.2677Z",fill:"white"}),i.createElement("path",{d:"M149.373 8.39038C147.781 8.39038 146.507 10.1422 145.73 12.0393V11.1634C145.73 9.63052 144.527 8.39038 143.041 8.39038C141.555 8.39038 140.353 9.63052 140.353 11.1634V25.6093C140.353 27.1422 141.555 28.3823 143.041 28.3823C144.527 28.3823 145.73 27.1422 145.73 25.6093V20.4298C145.73 16.4904 147.25 14.3364 149.973 13.6816C151.069 13.4269 151.99 12.551 151.99 11.0919C151.99 9.52327 151.034 8.39262 149.373 8.39262V8.39038Z",fill:"white"}),i.createElement("path",{d:"M156.456 1.31152C154.97 1.31152 153.768 2.55166 153.768 4.08452V25.6093C153.768 27.1422 154.97 28.3823 156.456 28.3823C157.942 28.3823 159.144 27.1422 159.144 25.6093V4.08452C159.144 2.55166 157.942 1.31152 156.456 1.31152Z",fill:"white"}),i.createElement("path",{d:"M176.788 8.39038C175.408 8.39038 174.63 9.3378 174.206 10.5064L170.244 21.8532L166.141 10.4707C165.682 9.15681 164.904 8.39038 163.559 8.39038C162.073 8.39038 160.906 9.48528 160.906 11.0539C160.906 11.4181 161.046 11.9656 161.189 12.3298L167.662 27.7991L167.484 28.2371C166.988 29.2225 166.529 29.4035 165.574 29.4035C165.184 29.4035 164.902 29.3298 164.443 29.1845C164.231 29.1108 163.984 29.0393 163.559 29.0393C162.463 29.0393 161.436 29.9509 161.436 31.3006C161.436 32.6502 162.357 33.3071 163.135 33.5999C164.018 33.9283 164.867 34.1116 166.07 34.1116C169.289 34.1116 170.879 32.6167 172.471 28.6393L179.084 12.2583C179.19 12.0035 179.331 11.3824 179.331 10.9444C179.331 9.48528 178.163 8.39038 176.783 8.39038H176.788Z",fill:"white"})),O=e=>i.createElement(a.a1,Object.assign({width:"24",height:"24",fill:"none",viewBox:"0.5 0 24 24"},e),i.createElement("path",{d:"M12.5 23.25C18.7132 23.25 23.75 18.2132 23.75 12C23.75 5.7868 18.7132 0.75 12.5 0.75C6.2868 0.75 1.25 5.7868 1.25 12C1.25 18.2132 6.2868 23.25 12.5 23.25Z",fill:"url(#paint0_linear_4506_11023_disheartening_emoji)",stroke:"none"}),i.createElement("path",{d:"M8.97126 19.5491C10.9569 18.1193 14.0431 18.1193 16.0295 19.5491C16.3344 19.7674 16.5155 19.5315 16.4184 19.3455C14.4879 15.6555 10.5121 15.6555 8.58164 19.3455C8.48451 19.5315 8.66564 19.7674 8.97126 19.5491Z",fill:"#302C3B",stroke:"none"}),i.createElement("path",{d:"M19.895 12.8239C17.9806 13.5491 15.4865 12.8809 14.1909 11.2954C13.9925 11.0531 13.7945 11.2046 13.8328 11.376C14.5936 14.775 17.807 15.6364 20.1654 13.0721C20.2839 12.9435 20.1886 12.7133 19.895 12.8239Z",fill:"#302C3B",stroke:"none"}),i.createElement("path",{d:"M10.8091 11.2954C9.51351 12.8813 7.01976 13.5491 5.10501 12.8239C4.81176 12.7133 4.71614 12.9431 4.83464 13.0721C7.19301 15.6364 10.4064 14.775 11.1673 11.376C11.2059 11.2046 11.0079 11.0531 10.8091 11.2954Z",fill:"#302C3B",stroke:"none"}),i.createElement("defs",null,i.createElement("linearGradient",{id:"paint0_linear_4506_11023_disheartening_emoji",x1:"12.5002",y1:"23.25",x2:"12.5002",y2:"0.750188",gradientUnits:"userSpaceOnUse"},i.createElement("stop",{stopColor:"#FFA027"}),i.createElement("stop",{offset:"0.2723",stopColor:"#FFC151"}),i.createElement("stop",{offset:"0.7633",stopColor:"#FFC93F"}),i.createElement("stop",{offset:"1",stopColor:"#FFE261"})))),_=e=>i.createElement(a.a1,Object.assign({width:"24",height:"24",fill:"none",viewBox:"0.5 0 24 24"},e),i.createElement("path",{d:"M12.5 23.25C18.7132 23.25 23.75 18.2132 23.75 12C23.75 5.7868 18.7132 0.75 12.5 0.75C6.2868 0.75 1.25 5.7868 1.25 12C1.25 18.2132 6.2868 23.25 12.5 23.25Z",fill:"url(#paint0_linear_4506_11027_neutral_emoji)",stroke:"none"}),i.createElement("path",{d:"M17.3266 17.25H7.6726C6.7336 17.25 6.7336 15.75 7.6726 15.75H17.3266C18.2656 15.75 18.2656 17.25 17.3266 17.25Z",fill:"#302C3B",stroke:"none"}),i.createElement("path",{d:"M8.7496 12.1875C9.68158 12.1875 10.4371 11.1801 10.4371 9.9375C10.4371 8.69486 9.68158 7.6875 8.7496 7.6875C7.81762 7.6875 7.0621 8.69486 7.0621 9.9375C7.0621 11.1801 7.81762 12.1875 8.7496 12.1875Z",fill:"#302C3B",stroke:"none"}),i.createElement("path",{d:"M16.2496 12.1875C17.1816 12.1875 17.9371 11.1801 17.9371 9.9375C17.9371 8.69486 17.1816 7.6875 16.2496 7.6875C15.3176 7.6875 14.5621 8.69486 14.5621 9.9375C14.5621 11.1801 15.3176 12.1875 16.2496 12.1875Z",fill:"#302C3B",stroke:"none"}),i.createElement("defs",null,i.createElement("linearGradient",{id:"paint0_linear_4506_11027_neutral_emoji",x1:"12.5002",y1:"23.25",x2:"12.5002",y2:"0.750188",gradientUnits:"userSpaceOnUse"},i.createElement("stop",{stopColor:"#FFA027"}),i.createElement("stop",{offset:"0.2723",stopColor:"#FFC151"}),i.createElement("stop",{offset:"0.7633",stopColor:"#FFC93F"}),i.createElement("stop",{offset:"1",stopColor:"#FFE261"})))),B=e=>i.createElement(a.a1,Object.assign({width:"24",height:"24",fill:"none",viewBox:"0.5 0 24 24"},e),i.createElement("path",{d:"M12.5 23.25C18.7132 23.25 23.75 18.2132 23.75 12C23.75 5.7868 18.7132 0.75 12.5 0.75C6.2868 0.75 1.25 5.7868 1.25 12C1.25 18.2132 6.2868 23.25 12.5 23.25Z",fill:"url(#paint0_linear_11994_841_smiling_emoji)",stroke:"none"}),i.createElement("path",{d:"M5.82085 15.8453C7.89191 15.8453 9.57085 14.1663 9.57085 12.0953C9.57085 10.0242 7.89191 8.34528 5.82085 8.34528C3.74978 8.34528 2.07085 10.0242 2.07085 12.0953C2.07085 14.1663 3.74978 15.8453 5.82085 15.8453Z",fill:"url(#paint1_radial_11994_841_smiling_emoji)",stroke:"none"}),i.createElement("path",{d:"M19.1792 15.75C21.2502 15.75 22.9292 14.0711 22.9292 12C22.9292 9.92893 21.2502 8.25 19.1792 8.25C17.1081 8.25 15.4292 9.92893 15.4292 12C15.4292 14.0711 17.1081 15.75 19.1792 15.75Z",fill:"url(#paint2_radial_11994_841_smiling_emoji)",stroke:"none"}),i.createElement("path",{d:"M14.0844 9.3015C15.5 7.72425 17.7012 7.7235 19.1176 9.3015C19.3344 9.543 19.4634 9.282 19.3944 9.07725C18.0181 5.0055 15.1831 5.0055 13.8069 9.07725C13.7379 9.282 13.8669 9.54262 14.0844 9.3015Z",fill:"#302C3B",stroke:"none"}),i.createElement("path",{d:"M5.88312 9.3015C7.29949 7.72425 9.49999 7.7235 10.9164 9.3015C11.1331 9.543 11.2629 9.282 11.1931 9.07725C9.81687 5.0055 6.98187 5.0055 5.60562 9.07725C5.53699 9.282 5.66562 9.54262 5.88312 9.3015Z",fill:"#302C3B",stroke:"none"}),i.createElement("path",{d:"M17.1961 13.647C14.3352 15.7061 10.6614 15.705 7.802 13.647C7.397 13.356 7.15512 13.6706 7.28487 13.9178C9.4805 18.1151 15.5187 18.1144 17.7147 13.9178C17.8437 13.6703 17.6026 13.3556 17.1961 13.647Z",fill:"#302C3B",stroke:"none"}),i.createElement("defs",null,i.createElement("linearGradient",{id:"paint0_linear_11994_841_smiling_emoji",x1:"12.5002",y1:"23.25",x2:"12.5002",y2:"0.750188",gradientUnits:"userSpaceOnUse"},i.createElement("stop",{stopColor:"#FFA027"}),i.createElement("stop",{offset:"0.2723",stopColor:"#FFC151"}),i.createElement("stop",{offset:"0.7633",stopColor:"#FFC93F"}),i.createElement("stop",{offset:"1",stopColor:"#FFE261"})),i.createElement("radialGradient",{id:"paint1_radial_11994_841_smiling_emoji",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(5.82103 12.0952) scale(3.75 3.75)"},i.createElement("stop",{stopColor:"#F18D84"}),i.createElement("stop",{offset:"0.2514",stopColor:"#F29180",stopOpacity:"0.7486"}),i.createElement("stop",{offset:"0.5118",stopColor:"#F49E73",stopOpacity:"0.4882"}),i.createElement("stop",{offset:"0.7755",stopColor:"#F8B25F",stopOpacity:"0.2245"}),i.createElement("stop",{offset:"1",stopColor:"#FDCA47",stopOpacity:"0"})),i.createElement("radialGradient",{id:"paint2_radial_11994_841_smiling_emoji",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(19.179 12) scale(3.75)"},i.createElement("stop",{stopColor:"#F18D84"}),i.createElement("stop",{offset:"0.2514",stopColor:"#F29180",stopOpacity:"0.7486"}),i.createElement("stop",{offset:"0.5118",stopColor:"#F49E73",stopOpacity:"0.4882"}),i.createElement("stop",{offset:"0.7755",stopColor:"#F8B25F",stopOpacity:"0.2245"}),i.createElement("stop",{offset:"1",stopColor:"#FDCA47",stopOpacity:"0"}))));var N=n(62172);const G=e=>i.createElement(a.a1,Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:N.Green30},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22ZM18.2071 9.20711C18.5976 8.81658 18.5976 8.18342 18.2071 7.79289C17.8166 7.40237 17.1834 7.40237 16.7929 7.79289L10 14.5858L8.20711 12.7929C7.81658 12.4024 7.18342 12.4024 6.79289 12.7929C6.40237 13.1834 6.40237 13.8166 6.79289 14.2071L10 17.4142L18.2071 9.20711Z",stroke:"none"})),I=e=>i.createElement(a.a1,Object.assign({width:"18",height:"17",viewBox:"0 0 18 17",fill:"none"},e),i.createElement("path",{d:"M9 1L11.069 6.15226L16.6085 6.52786L12.3477 10.0877L13.7023 15.4721L9 12.52L4.29772 15.4721L5.65228 10.0877L1.39155 6.52786L6.931 6.15226L9 1Z",fill:"transparent",stroke:N.NeutralGray50,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),P=e=>i.createElement(a.a1,Object.assign({width:"17",height:"16",viewBox:"0 0 17 16",fill:C.BO.TextBaseSubduedColor},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.5 8C2.5 4.41015 5.41015 1.5 9 1.5C12.5899 1.5 15.5 4.41015 15.5 8C15.5 11.5899 12.5899 14.5 9 14.5C7.85901 14.5 6.73812 14.1997 5.75 13.6292C5.51085 13.4911 5.42892 13.1853 5.56699 12.9462C5.70506 12.707 6.01085 12.6251 6.25 12.7631C7.08611 13.2459 8.03455 13.5 9 13.5C9.96545 13.5 10.9139 13.2459 11.75 12.7631C12.5861 12.2804 13.2804 11.5861 13.7631 10.75C14.2459 9.91389 14.5 8.96545 14.5 8C14.5 4.96243 12.0376 2.5 9 2.5C5.96243 2.5 3.5 4.96243 3.5 8V8.29289L4.64645 7.14645C4.84171 6.95118 5.15829 6.95118 5.35355 7.14645C5.54882 7.34171 5.54882 7.65829 5.35355 7.85355L3.35355 9.85355L3 10.2071L2.64645 9.85355L0.646447 7.85355C0.451184 7.65829 0.451184 7.34171 0.646447 7.14645C0.841709 6.95118 1.15829 6.95118 1.35355 7.14645L2.5 8.29289V8ZM9 4C9.27614 4 9.5 4.22386 9.5 4.5V7.5H11.5C11.7761 7.5 12 7.72386 12 8C12 8.27614 11.7761 8.5 11.5 8.5H9H8.5V8V4.5C8.5 4.22386 8.72386 4 9 4Z",stroke:"none"}));var A=n(64757),U=n(88392),z=n(9546);const T="button",R=e=>({minWidth:p.ux.rem(e),minHeight:p.ux.rem(e),lineHeight:p.ux.rem(e)}),F=e=>{const t=(t,n)=>{var i;return Object.assign({"& > i":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e.compact?{marginLeft:0}:{marginLeft:p.ux.rem(-.25)}),"small"===e.size?{minWidth:p.ux.rem(1.5)}:{}),"medium"===e.size?{minWidth:p.ux.rem(1.75)}:{}),"large"===e.size?{minWidth:p.ux.rem(2)}:{}),t),"&[data-disabled='true']":Object.assign({opacity:.4,cursor:"not-allowed"},null===(i=e.style)||void 0===i?void 0:i.disabled)},n)};return C.Es.specificity(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({borderRadius:p.ux.rem(U.xB),fontSize:p.ux.rem(.75),textAlign:"center",padding:`0 ${p.ux.rem(z.x)}`,userSelect:"none",display:"inline-flex",alignItems:"center",justifyContent:"center"},e.compact?{padding:0}:{}),"small"===e.size?R(1.5):{}),"medium"===e.size?R(1.75):{}),"large"===e.size?R(2):{}),"primary"===e.type?((e,t)=>Object.assign(Object.assign({color:l.XY.Content.OnPrimary.Default,backgroundColor:C.BO.BrandGreen60,transitionProperty:"border, background, color",fontWeight:"bold"},null==t?void 0:t.base),{$nest:e((null==t?void 0:t.icon)||{},{"&:not([data-disabled='true'])":{$nest:{"&[data-hovered='true']":Object.assign({backgroundColor:C.BO.BrandGreen80},null==t?void 0:t.hovered),"&:focus-visible":Object.assign({boxShadow:`0 0 0 2px ${l.XY.Surface.Primary.Default}, 0 0 0 4px ${C.BO.BrandGreen80}`},null==t?void 0:t.focusVisible),"&[data-active='true'], &:active":Object.assign({backgroundColor:C.BO.BrandGreen60,color:l.XY.Surface.Primary.Default},null==t?void 0:t.active)}}})}))(t,e.style):{}),"secondary"===e.type?((e,t)=>Object.assign(Object.assign({backgroundColor:"transparent",fontWeight:"normal",color:N.BlueGray80,stroke:N.BlueGray80,boxShadow:`inset 0 0 0 1px ${N.BlueGray5}`,transitionProperty:"border, background, color"},null==t?void 0:t.base),{$nest:e(Object.assign({stroke:p.ux.important(N.BlueGray80),fill:p.ux.important(N.BlueGray80)},null==t?void 0:t.icon),{"&:not([data-disabled='true'])":{$nest:{"&[data-hovered='true']":Object.assign({backgroundColor:N.BlueGray0},null==t?void 0:t.hovered),"&:focus-visible":Object.assign({boxShadow:`inset 0 0 0 1px ${N.BlueGray80}, 0 0 0 1px ${N.BlueGray80}, 0 0 0 2px ${l.XY.Surface.Primary.Default}, 0 0 0 4px ${N.BlueGray80}`},null==t?void 0:t.focusVisible),"&[data-active='true'], &:active":Object.assign({backgroundColor:"transparent",color:N.BlueGray80},null==t?void 0:t.active)}}})}))(t,e.style):{}),"tertiary"===e.type?((e,t,n)=>Object.assign(Object.assign({backgroundColor:"transparent",fontWeight:"normal",color:l.XY.Content.Secondary.Default,transitionProperty:"border, background, color"},null==n?void 0:n.base),{$nest:t(Object.assign({stroke:p.ux.important(l.XY.Content.Secondary.Default),fill:p.ux.important(l.XY.Content.Secondary.Default)},null==n?void 0:n.icon),{"&:not([data-disabled='true'])":{$nest:Object.assign(Object.assign({"&[data-hovered='true'], &[data-active='true'], &:active":Object.assign({backgroundColor:N.BlueGray0,color:l.XY.Content.Secondary.Default},null==n?void 0:n.active)},"dark"===e.theme?{"&[data-hovered='true'], &[data-active='true'], &:active":Object.assign({backgroundColor:p.ux.color(N.BlueGray0).toRGBA().fade(.2).toString()},null==n?void 0:n.active)}:{}),{"&:focus-visible":Object.assign({boxShadow:`0 0 0 2px ${l.XY.Surface.Primary.Default}, 0 0 0 4px ${l.XY.Content.Secondary.Default}`},null==n?void 0:n.focusVisible)})}})}))(e,t,e.style):{}),T,C.Es.baseButtonContentOverrideSpecificity)},V=e=>p.ux.joinClasses([T,p.ux.style(F(e))]);var j,D=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]])}return n};!function(e){e.Primary=e=>{var{className:t,compact:n,theme:a,children:r,onClick:o,size:s,style:l}=e,c=D(e,["className","compact","theme","children","onClick","size","style"]);return i.createElement(A.zx.Primary,Object.assign({},(0,h.Sh)(V({compact:n,theme:null!=a?a:"light",size:null!=s?s:"large",type:"primary",style:l}),t),c,{onClick:(0,C.m)(o)}),r)},e.Secondary=e=>{var{className:t,compact:n,theme:a,children:r,onClick:o,size:s,style:l}=e,c=D(e,["className","compact","theme","children","onClick","size","style"]);return i.createElement(A.zx.Ghost,Object.assign({},(0,h.Sh)(V({compact:n,theme:null!=a?a:"light",size:null!=s?s:"large",type:"secondary",style:l}),t),c,{onClick:(0,C.m)(o)}),r)},e.Tertiary=e=>{var{className:t,compact:n,theme:a,children:r,onClick:o,size:s,style:l}=e,c=D(e,["className","compact","theme","children","onClick","size","style"]);return i.createElement(A.zx.Tertiary,Object.assign({},(0,h.Sh)(V({compact:n,theme:null!=a?a:"light",size:null!=s?s:"large",type:"tertiary",style:l}),t),c,{onClick:(0,C.m)(o)}),r)}}(j||(j={}));var $=n(31542),K=n(5114),M=n(15073),L=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]])}return n};const H="#161719",Z="#646B81",W=e=>{var{children:t,style:n,dataGrammarlyPart:a="ui-kit-iframe"}=e,r=L(e,["children","style","dataGrammarlyPart"]);const[o,s]=i.useState(null),l=i.useCallback((e=>{var t,n;let i=null;"contentDocument"in e.target&&(i=null!==(n=null===(t=e.target.contentDocument)||void 0===t?void 0:t.body)&&void 0!==n?n:null),s(i),i&&(i.style.margin="0",i.style.height="100vh",i.style.overflowY="hidden")}),[]),c=i.useContext(M.u.Context);return i.useEffect((()=>{const e=c.subscribe((e=>{o&&M.u.setRootCssVar(o,K.some(e))}));return()=>e.unsubscribe()}),[o]),i.createElement("iframe",Object.assign({},r,{style:Object.assign({},n),onLoad:l,srcDoc:"<html><body></body></html>","data-grammarly-part":a}),o&&(0,$.createPortal)(t,o))},Y=1.375,q=({fitContentHeight:e,text:t,ariaLabel:n,onChange:a,placeholder:r,disabled:o,className:s,onFocus:l,onBlur:c,onKeyDownEnter:d,autofocus:u,onKeyUpEscape:m,onKeyDownArrowUp:h,onKeyDownArrowDown:f,onKeyDownShiftEnter:g,theme:x})=>{var b,y,v;const C=Y*(r?r.length:1),[k,S]=i.useState({kind:"rem",value:C}),[w,E]=i.useState(null);return i.useEffect((()=>{w&&void 0!==u&&(w.focus(),w.selectionStart=t.length,w.selectionEnd=t.length)}),[u,w]),i.useLayoutEffect((()=>{if(""===t)S({kind:"rem",value:C});else{const e=null==w?void 0:w.scrollHeight;S(e?{kind:"px",value:e}:{kind:"rem",value:C})}}),[t,w,r]),i.createElement(W,{className:s,style:{height:e?"rem"===k.kind?p.ux.rem(k.value):p.ux.px(k.value):void 0},title:`${n} container`},i.createElement("style",{dangerouslySetInnerHTML:{__html:`\n      .container {\n        position: relative;\n        width: 100%;\n        height: 100%;\n      }\n      .textarea {\n        box-sizing: border-box;\n        border-radius: ${p.ux.rem(U.xB)};\n        overflow-y: auto;\n        width: 100%;\n        height: 100%;\n        border: none;\n        padding: 0px;\n        background: transparent;\n        resize: none;\n        font-family: Inter, sans-serif;\n        font-size: ${null!==(b=null==x?void 0:x.fontSize)&&void 0!==b?b:p.ux.rem(.875)};\n        font-weight: 400;\n        color: ${null!==(y=null==x?void 0:x.color)&&void 0!==y?y:H};\n      }\n      .textarea::placeholder {\n        color: ${Z};\n      }\n      .textarea:focus {\n        outline: none;\n      }\n      .placeholder {\n        position: absolute;\n        top: 0px;\n        left: 0px;\n        width: 100%;\n        height: 100%;\n        background: transparent;\n        font-family: Inter, sans-serif;\n        font-size: ${p.ux.rem(.875)};\n        font-weight: 400;\n        z-index: -1;\n        color: ${Z};\n      }\n      `}}),i.createElement("div",{className:"container"},i.createElement("textarea",{"aria-label":n,className:"textarea",style:{lineHeight:null!==(v=null==x?void 0:x.lineHeight)&&void 0!==v?v:p.ux.rem(Y)},value:t,ref:E,onChange:e=>a(e.target.value),placeholder:1===(null==r?void 0:r.length)?r[0]:void 0,disabled:o,onFocus:()=>null==l?void 0:l(),onBlur:()=>null==c?void 0:c(),onKeyDown:e=>{var t;d&&"Enter"===e.key&&!e.shiftKey?(e.preventDefault(),e.stopPropagation(),d()):"ArrowUp"===e.key&&h&&(X(t=e.currentTarget)&&0===t.selectionStart)?(e.preventDefault(),e.stopPropagation(),h()):"ArrowDown"===e.key&&f&&function(e){return X(e)&&e.selectionStart===e.value.length}(e.currentTarget)?(e.preventDefault(),e.stopPropagation(),f()):"Enter"===e.key&&e.shiftKey&&(e.preventDefault(),e.stopPropagation(),null==g||g())},onKeyUp:e=>{m&&"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),m())}}),((null==r?void 0:r.length)||0)>1&&""===t?i.createElement("div",{className:"placeholder",style:{lineHeight:p.ux.rem(Y)}},(r||[]).map(((e,t)=>i.createElement(i.Fragment,{key:t},e,i.createElement("br",null))))):null))};function X(e){return e.selectionStart===e.selectionEnd}var Q=n(22232),J=function(){function e(e,t,n){void 0===t&&(t=0),void 0===n&&(n=!0),this._capacity=e,this._start=t,this._allowOverflow=n,this._nextId=t}return Object.defineProperty(e.prototype,"id",{get:function(){return this._nextId},enumerable:!1,configurable:!0}),e.prototype.newId=function(){var e=this._nextId;if(e>this._capacity){if(!this._allowOverflow)throw new Q.ej("ids limit reached: "+this._capacity);this._nextId=e=0}return this._nextId++,e},e.prototype.reset=function(){this._nextId=this._start},e}();const ee=new J(999999);var te;!function(e){e.create=function(e){return null!=e?e:ee.newId()}}(te||(te={}));var ne=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]])}return n};const ie=e=>{var{text:t,onChange:n,placeholder:a,disabled:r,className:o,onFocus:s,onBlur:l,onKeyPressEnter:c,autofocus:d,onKeyUpEscape:u}=e,m=ne(e,["text","onChange","placeholder","disabled","className","onFocus","onBlur","onKeyPressEnter","autofocus","onKeyUpEscape"]);const[h,f]=i.useState(null);return i.useEffect((()=>{h&&void 0!==d&&h.focus()}),[d,h]),i.createElement(W,{className:o,style:{height:p.ux.rem(1.375)}},i.createElement("style",{dangerouslySetInnerHTML:{__html:`\n      .textBox {\n        box-sizing: border-box;\n        border-radius: ${p.ux.rem(U.xB)};\n        overflow-y: auto;\n        width: 100%;\n        height: 100%;\n        border: none;\n        padding: 0;\n        background: transparent;\n        resize: none;\n        font-family: Inter, sans-serif;\n        font-size: ${p.ux.rem(.875)};\n        font-weight: 400;\n        color: ${H};\n      }\n      .textBox::placeholder {\n        color: ${Z};\n      }\n      .textBox:focus {\n        outline: none;\n      }\n      `}}),i.createElement("input",Object.assign({},m,{className:"textBox",style:{lineHeight:p.ux.rem(1.375)},value:t,ref:f,onChange:e=>n(e.target.value),placeholder:a,disabled:r,onFocus:()=>null==s?void 0:s(),onBlur:()=>null==l?void 0:l(),onKeyPress:e=>{c&&"Enter"===e.key&&!e.shiftKey&&(e.preventDefault(),e.stopPropagation(),c())},onKeyDown:e=>{u&&"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),u())}})))};var ae=n(74204),re=n(64015),oe=n(57050),se=n(32952),le=n(90845),ce=n(78674),de=n(85985),ue=n(2834);const me={padding:`${p.ux.rem(z.F2)} ${p.ux.rem(z.F2+z.Ze)} ${p.ux.rem(z.F2)} ${p.ux.rem(z.qp)}`,border:`1px solid ${l.S5.InteractiveNeutral.Primary.Default}`,borderRadius:p.ux.rem(U.xB),width:p.ux.rem(15),height:p.ux.rem(2),boxSizing:"border-box",position:"relative"},pe={position:"absolute",right:p.ux.rem(z.x),top:p.ux.rem(.1875),border:"none",background:"transparent",display:"flex",alignItems:"center",cursor:"pointer",width:p.ux.rem(1.5),height:p.ux.rem(1.5),padding:0},he=Object.assign(Object.assign({},C.Es.iconSizeRems(1.5)),{$nest:{"& svg":{stroke:l.XY.Content.Secondary.Default}}}),fe=e=>p.ux.color(N.BlueGray40).toRGBA().fade(e).toString(),ge={padding:p.ux.rem(z.F2),background:"white",boxShadow:`0px 0px 0px 0.5px ${N.BlueGray40}, 0px 0px 2px 0.5px ${fe(.5)}, 0px 1px 6px 0.5px ${fe(.25)}`,borderRadius:p.ux.rem(U.xB),width:p.ux.rem(15),boxSizing:"border-box",overflowY:"auto",maxHeight:p.ux.rem(8.125),zIndex:9999,$nest:{"& > ul":{listStyle:"none",padding:0,margin:0,$nest:{"& > li":{padding:0,margin:0}}}}},xe={border:"none",background:"transparent",width:"100%",cursor:"pointer",overflow:"hidden",textOverflow:"ellipsis",fontSize:p.ux.rem(.875),lineHeight:p.ux.rem(1.375),color:l.XY.Content.Primary.Default,padding:`${p.ux.rem(.1875)} ${p.ux.rem(z.qp)}`,borderRadius:p.ux.rem(U.xB),display:"flex",justifyContent:"flex-start",$nest:{"&:hover":{background:N.Blue0},"& mark":{backgroundColor:"unset",fontWeight:"bold"}}},be={width:p.ux.percent(100),border:"none"},ye=p.ux.style(me),ve=p.ux.style(pe),Ce=p.ux.style(he),ke=p.ux.style(ge),Se=p.ux.style(xe),we=p.ux.style({whiteSpace:"pre"}),Ee=p.ux.style(be),Oe=new J(999999);function _e({text:e,placeholder:t,clearButton:n,selectOnBlur:r,label:o,options:s,className:l,filterBy:c=((e,t)=>o(e).toLowerCase().includes(t.toLowerCase())),onInputChange:d,onSelectionChange:u}){const[m,p]=i.useState(!1),f=i.useRef(Oe.newId().toString()),[g,x]=i.useState(null),[b,y]=i.useState(null),{styles:v,attributes:k}=(0,ae.D)(g,b,{placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,4]}}]}),S=s.filter((t=>c(t,e.trim()))),w=m&&S.length>0,E=i.useMemo((()=>new se.xQ),[]);return le.P.useSubscriptionTo(E.pipe(ce.b(50),de.h((e=>!e)),ue.b((()=>{p(!1),r&&""!==e.trim()&&u(S.length>0?S[0]:null)})))),i.createElement("div",Object.assign({},(0,h.Sh)(ye,l),{ref:x}),i.createElement(ie,{className:Ee,placeholder:t,onChange:d,text:e,onFocus:()=>{p(!0),E.next(!0)},onBlur:()=>E.next(!1),role:"combobox","aria-haspopup":"listbox","aria-owns":f.current,"aria-expanded":w}),""!==e.trim()&&!!n&&i.createElement("button",{onClick:(0,C.m)((()=>u(null))),className:ve,"aria-label":"Clear",type:"button"},i.createElement(a.JO.Close,{className:Ce})),w&&i.createElement("div",Object.assign({ref:y,style:v.popper},k.popper,{className:ke,onFocus:()=>E.next(!0),onBlur:()=>E.next(!1)}),i.createElement("ul",{"aria-label":"menu-options",role:"listbox",id:f.current},S.map((t=>{const n=o(t);return i.createElement("li",{key:n,"aria-label":n,role:"option"},i.createElement("button",{className:Se,onClick:(0,C.m)((()=>{u(t),p(!1)}))},i.createElement(Be,{label:n,pattern:e})))})))))}const Be=({label:e,pattern:t})=>{if(""===t.trim())return i.createElement(i.Fragment,null,e);const n=t.trim(),a=e.split(new RegExp(n,"i")),r=(0,oe.zG)(a.map(((e,t)=>({token:e,mark:!1,end:t*n.length+a.slice(0,t).join("").length+e.length}))),re.iD({token:"",mark:!0,end:0})).map(((t,i,a)=>t.mark&&i>0?{token:e.slice(a[i-1].end,a[i-1].end+n.length),mark:!0}:{token:t.token,mark:!1})).filter((e=>e.token.length>0));return i.createElement(i.Fragment,null,r.map(((e,t)=>e.mark?i.createElement("mark",{key:t,className:we},e.token):i.createElement("span",{key:t,className:we},e.token))))},Ne={border:`1px solid ${l.S5.InteractiveNeutral.Primary.Default}`,borderRadius:p.ux.rem(U.xB),width:p.ux.rem(15),height:p.ux.rem(2),boxSizing:"border-box",position:"relative"},Ge={padding:`${p.ux.rem(z.F2)} ${p.ux.rem(z.F2+z.Ze)} ${p.ux.rem(z.F2)} ${p.ux.rem(z.qp)}`,width:"100%",height:"100%",border:"none",background:"transparent",position:"relative",cursor:"pointer",display:"flex",alignItems:"center"},Ie={fontWeight:400,fontSize:p.ux.rem(.875),lineHeight:p.ux.rem(1.375),color:l.XY.Content.Primary.Default},Pe=Object.assign(Object.assign({position:"absolute",top:p.ux.rem(z.F2),right:p.ux.rem(z.x)},C.Es.iconSizeRems(1.5)),{$nest:{"& svg":{stroke:l.XY.Content.Secondary.Default}}}),Ae=e=>p.ux.color(N.BlueGray40).toRGBA().fade(e).toString(),Ue={padding:p.ux.rem(z.F2),background:"white",boxShadow:`0px 0px 0px 0.5px ${N.BlueGray40}, 0px 0px 2px 0.5px ${Ae(.5)}, 0px 1px 6px 0.5px ${Ae(.25)}`,borderRadius:p.ux.rem(U.xB),width:p.ux.rem(15),boxSizing:"border-box",overflowY:"auto",maxHeight:p.ux.rem(8.125),zIndex:9999,$nest:{"& > ul":{listStyle:"none",padding:0,margin:0,$nest:{"& > li":{padding:0,margin:0}}}}},ze={border:"none",background:"transparent",width:"100%",cursor:"pointer",overflow:"hidden",textOverflow:"ellipsis",fontSize:p.ux.rem(.875),lineHeight:p.ux.rem(1.375),color:l.XY.Content.Primary.Default,padding:`${p.ux.rem(.1875)} ${p.ux.rem(z.qp)}`,borderRadius:p.ux.rem(U.xB),display:"flex",justifyContent:"flex-start",$nest:{"&:hover":{background:N.Blue0}}},Te=p.ux.style(Ne),Re=p.ux.style(Ge),Fe=p.ux.style(Ie),Ve=p.ux.style(Ue),je=p.ux.style(ze),De=p.ux.style(Pe),$e=new J(999999);function Ke({label:e,selection:t,className:n,placeholder:r,options:o,onSelectionChange:s,renderOption:l}){const[c,d]=i.useState(!1),u=i.useRef($e.newId().toString()),m=i.useRef($e.newId().toString()),p=i.useRef(null),[f,g]=i.useState(null),[x,b]=i.useState(null),{styles:y,attributes:v}=(0,ae.D)(f,x,{placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,4]}}]}),k=i.useMemo((()=>new se.xQ),[]),S=i.useMemo((()=>k.pipe(ce.b(100),de.h((e=>!e)),ue.b((()=>{d(!1)})))),[k,d]);return le.P.useSubscriptionTo(S),i.createElement("div",Object.assign({},(0,h.Sh)(Te,n),{ref:g}),i.createElement("button",{ref:p,className:Re,onClick:()=>{var e;d(!0),k.next(!0),null===(e=p.current)||void 0===e||e.focus()},onFocus:()=>{d(!0),k.next(!0)},onBlur:()=>k.next(!1),type:"button","aria-haspopup":"listbox","aria-owns":u.current,"aria-expanded":c,"aria-labelledby":m.current},i.createElement("div",{id:m.current,className:Fe},t?l?l(t):e(t):r),i.createElement(a.JO.Arrow,{direction:a.n4.down,className:De})),c&&i.createElement("div",Object.assign({ref:b,style:y.popper},v.popper,{className:Ve,onFocus:()=>k.next(!0),onBlur:()=>k.next(!1)}),i.createElement("ul",{"aria-label":"menu-options",role:"listbox",id:u.current},o.map(((t,n)=>{const a=e(t);return i.createElement("li",{key:n,"aria-label":a,role:"option"},i.createElement("button",{className:je,onClick:(0,C.m)((()=>{s(t),d(!1)}))},l?l(t):e(t)))})))))}const Me=({className:e,children:t})=>i.createElement("div",Object.assign({},(0,h.Sh)(Le,e)),t),Le=p.ux.style({color:N.BlueGray60,fontWeight:400,fontSize:p.ux.rem(.625),lineHeight:p.ux.rem(1),background:N.BlueGray0,borderRadius:p.ux.rem(U.fe),padding:`0 ${p.ux.rem(z.F2)}`,cursor:"default"}),He="closeBtn",Ze="closeIcon",We=C.Es.buttonOverrideSpecificity({$nest:{[`& .${Ze}`]:Object.assign(Object.assign({},C.Es.iconSizeRems(1.5)),{stroke:p.ux.important(l.S5.Content.Primary.Default)})}},He),Ye={closeButton:p.ux.joinClasses([He,p.ux.style(We)]),closeIcon:Ze},qe=({name:e,className:t,size:n,onClick:r})=>i.createElement(j.Tertiary,Object.assign({},(0,h.Sh)(Ye.closeButton,t),{onClick:r,compact:!0,size:n,theme:"dark",name:e}),i.createElement(a.JO.Close,{className:Ye.closeIcon})),Xe="closeBtn",Qe="closeIcon",Je=C.Es.buttonOverrideSpecificity({$nest:{[`& .${Qe}`]:Object.assign(Object.assign({},C.Es.iconSizeRems(1.5)),{stroke:p.ux.important(l.vU.InteractiveNeutral.Primary.Default)})}},Xe),et=p.ux.joinClasses([Xe,p.ux.style(Je)]),tt=({name:e,className:t,size:n,onClick:r})=>i.createElement(j.Tertiary,Object.assign({},(0,h.Sh)(et,t),{onClick:r,compact:!0,size:n,theme:"light",name:e}),i.createElement(a.JO.Close,{className:Qe}));var nt=n(37735),it=n(66310),at=n(80900),rt=n(77176),ot=n(8125),st=n(38983),lt=n(5739),ct=n(56133),dt=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]])}return n};function ut(e){var{children:t,onOpenChange:n,title:a,placement:r="bottom end"}=e,o=dt(e,["children","onOpenChange","title","placement"]);const s=i.useMemo((()=>st.h.create(!1)),[]),l=i.useMemo((()=>s.pipe(de.h((e=>!0===e)),it.w((()=>at.H(250))),ue.b((()=>s.set(!1))))),[s]);return le.P.useSubscriptionTo(l),i.createElement(ct.l.Consumer,null,(({portalContainer:e})=>i.createElement(lt.F.Fragment,null,e.view(K.fold(oe.gn,(e=>i.createElement(nt.v.Dropdown,Object.assign({title:s.pipe(rt.U((0,ot.RN)(void 0,a))),placement:r,portalContainer:e,onOpenChange:e=>{e||s.set(!0),null==n||n(e)}},o),t)))))))}var mt=n(18208),pt=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]])}return n};const ht=i.forwardRef((function(e,t){var{children:n,rel:a}=e,r=pt(e,["children","rel"]);const o=i.useMemo((()=>mt.alphanumeric(10)),[]);return i.createElement(i.Fragment,null,i.createElement("span",{hidden:!0,id:o},"Opens an external site in a new window"),i.createElement("a",Object.assign({},r,{"aria-describedby":o,target:"_blank",rel:null!=a?a:"noopener noreferrer",ref:t}),n))}));var ft,gt=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]])}return n};!function(e){let t;!function(e){e.create=function(e){return e}}(t=e.Id||(e.Id={}))}(ft||(ft={}));const xt=({tabs:e,activeTabId:t,onActiveTabChange:n,children:a})=>i.createElement(i.Fragment,null,i.createElement("div",{className:yt,role:"tablist"},e.map((e=>i.createElement("button",{key:e.id,onClick:()=>n(e.id),tabIndex:0,className:vt,id:`tab-${e.id}`,"aria-label":`${e.label} ${e.id===t?"Selected.":""}`,"aria-controls":`tabpanel-${e.id}`,"aria-selected":t===e.id,role:"tab",type:"button"},e.label)))),a),bt=e=>{var{id:t,isActive:n,children:a,className:r,style:o}=e,s=gt(e,["id","isActive","children","className","style"]);return i.createElement("div",Object.assign({role:"tabpanel",id:`tabpanel-${t}`,"aria-labelledby":`tab-${t}`,hidden:!n,style:n?o:void 0,className:n?r:void 0},s),a)},yt=p.ux.style({display:"flex",alignContent:"flex-start",gap:p.ux.rem(z.x)}),vt=p.ux.style({cursor:"pointer",border:"none",display:"flex",alignItems:"center",background:"transparent",borderBottom:`${p.ux.rem(z.yC)} solid transparent`,fontWeight:400,fontSize:p.ux.rem(.75),lineHeight:p.ux.rem(1.125),height:p.ux.rem(1.5),color:C.BO.TextBaseSubduedColor,$nest:{'&[aria-selected="true"]':{borderBottomColor:C.BO.TextBaseSubduedColor,fontWeight:700},'&[aria-selected="false"]:hover':{borderBottomColor:N.BlueGray10}}});var Ct=n(37360);const kt=({reference:e,children:t,placement:n,offset:a,theme:r,boundaryAreaPadding:o})=>{var s,l;const[c,d]=i.useState(null),[u,m]=i.useState(null),p=(0,Ct.sJ)(),{styles:h,attributes:f,state:g}=(0,ae.D)(e,c,{placement:null!=n?n:"top",modifiers:[{name:"offset",options:{offset:[0,12+(null!=a?a:0)]}},{name:"arrow",options:{element:u,padding:12}},{name:"preventOverflow",options:{padding:null!=o?o:5}},p]});return e?i.createElement("div",Object.assign({ref:d,style:h.popper},f.popper,{className:wt(r)}),i.createElement("div",{ref:m,style:h.arrow,className:Et(null==r?void 0:r.bgColor),"data-placement":(null===(s=null==g?void 0:g.placement)||void 0===s?void 0:s.startsWith("bottom"))?"bottom":(null==g?void 0:g.placement.startsWith("top"))?"top":(null==g?void 0:g.placement.startsWith("right"))?"right":(null===(l=null==g?void 0:g.placement)||void 0===l?void 0:l.startsWith("left"))?"left":void 0}),t):null},St=p.ux.keyframes({from:{opacity:0},to:{opacity:1}});function wt(e){var t,n,i;return p.ux.style({animation:`${St} linear 0.1s`,background:null!==(t=null==e?void 0:e.bgColor)&&void 0!==t?t:l.S5.Surface.Primary.Default,borderRadius:p.ux.rem(z.x),width:null==e?void 0:e.width,color:null!==(n=null==e?void 0:e.fgColor)&&void 0!==n?n:l.S5.Content.Primary.Default,padding:null!==(i=null==e?void 0:e.padding)&&void 0!==i?i:p.ux.rem(z.mh),fontSize:p.ux.rem(.875),lineHeight:p.ux.rem(1.375),display:"flex",flexDirection:"column",gap:p.ux.rem(z.yC),$nest:{"&[data-popper-reference-hidden='true']":{visibility:"hidden"}}})}function Et(e=l.S5.Surface.Primary.Default,t=p.ux.rem(.5),n=p.ux.rem(-.5)){return p.ux.style({$nest:{"&[data-placement='bottom']":{top:n,borderLeft:`${t} solid transparent`,borderRight:`${t} solid transparent`,borderBottom:`${t} solid ${e}`},"&[data-placement='top']":{bottom:n,borderLeft:`${t} solid transparent`,borderRight:`${t} solid transparent`,borderTop:`${t} solid ${e}`},"&[data-placement='right']":{left:n,borderTop:`${t} solid transparent`,borderBottom:`${t} solid transparent`,borderRight:`${t} solid ${e}`},"&[data-placement='left']":{right:n,borderTop:`${t} solid transparent`,borderBottom:`${t} solid transparent`,borderLeft:`${t} solid ${e}`}}})}const Ot=({children:e,theme:t,body:n,placement:a,active:r,onCloseButtonClick:o})=>{const s=i.useRef(null);return i.createElement(i.Fragment,null,i.createElement(kt,{placement:a,reference:r&&s.current||void 0,theme:t},i.createElement(qe,{onClick:o,name:"tooltipClose",className:_t,size:"small"}),n),i.cloneElement(e,{ref:s}))},_t=p.ux.style({position:"absolute",top:p.ux.rem(z.x),right:p.ux.rem(z.x)}),Bt="reportMenuBtnIcon",Nt=C.Es.buttonOverrideSpecificity(C.Es.iconSizeRems(1.5),Bt),Gt=({reportMenuButtonClassName:e,onClickReportOffensive:t,onClickProvideFeedback:n,onOpenChange:r})=>i.createElement(ut,{"aria-label":"Provide feedback",title:"Provide feedback",name:"reportMenu",label:i.createElement(m,{className:p.ux.joinClasses([Bt,p.ux.style(Nt)])}),theme:{button:p.ux.joinClasses([e,V({type:"tertiary",compact:!0,size:"small"})])},onAction:e=>{switch(e){case"provideFeedback":return n();case"reportOffensive":return t()}},onOpenChange:r},i.createElement(nt.v.Item,{key:"provideFeedback",textValue:"provideFeedback"},i.createElement(a.JO.AssistantFeedback,null),"Share your thoughts"),i.createElement(nt.v.Item,{key:"reportOffensive",textValue:"reportOffensive"},i.createElement(a.JO.Report,null),"Report as offensive"));var It=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]])}return n};const Pt=i.forwardRef((function(e,t){var{children:n,style:a}=e,r=It(e,["children","style"]);return i.createElement("section",Object.assign({className:p.ux.style({display:"flex",flexDirection:"column",padding:p.ux.rem(z.qp),gap:p.ux.rem(z.x),background:"transparent",border:`0.5px solid ${N.BlueGray10}`,borderRadius:p.ux.rem(U.xB+U.fe),backgroundColor:l.XY.Surface.Primary.Default,color:l.XY.Content.Primary.Default},a)},r,{ref:t}),n)})),At=({className:e})=>i.createElement("div",Object.assign({role:"separator"},(0,h.Sh)(Ut,e))),Ut=p.ux.style({position:"relative",width:"100%",borderBottom:`0.5px solid ${N.BlueGray10}`}),zt=({children:e})=>i.createElement(lt.F.h1,{className:Tt},e),Tt=p.ux.style({color:l.XY.Content.Secondary.Default,margin:0,fontWeight:400,fontSize:p.ux.rem(.75),lineHeight:p.ux.rem(1.125),overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"})},37360:(e,t,n)=>{n.d(t,{n4:()=>o,gM:()=>r,sJ:()=>s,KL:()=>l});var i=n(27378),a=n(34530);function r(e){return i.useMemo((()=>({name:"maxSize",phase:"main",enabled:!0,requiresIfExists:["offset","preventOverflow","flip"],fn({state:t,name:n}){const i=(0,a.Z)(t),{x:r,y:o}=t.modifiersData.preventOverflow||{x:0,y:0},{width:s,height:l}=t.rects.popper,[c]=t.placement.split("-"),d="top"===c?"top":"bottom",u={width:s-i["left"===c?"left":"right"]-r,height:l-i[d]-o};t.modifiersData[n]=u,null==e||e(u)}})),[])}function o(){return i.useMemo((()=>({name:"forcePopperUpdateEffect",phase:"afterMain",enabled:!0,fn:()=>{},effect:({instance:e})=>{const t=setTimeout((()=>e.forceUpdate()),0);return()=>clearTimeout(t)}})),[])}const s=o;function l(e,t){var n,a;const[r,o]=(0,i.useState)(void 0);return(0,i.useEffect)((()=>{e.current&&e.current.scrollWidth>e.current.clientWidth&&o(t)}),[null===(n=e.current)||void 0===n?void 0:n.scrollWidth,null===(a=e.current)||void 0===a?void 0:a.clientWidth,t]),r}},33647:(e,t,n)=>{n.d(t,{Xd:()=>i,gy:()=>qe,kF:()=>F,Bx:()=>Qe});var i,a=n(5114),r=n(57050),o=n(14601),s=n(32952),l=n(98403),c=n(77176),d=n(93508),u=n(16118),m=n(85985),p=n(2844),h=n(28043),f=n(41398),g=n(60797),x=n(67434),b=n(22232),y=n(38983),v=n(4283);!function(e){e.isTooltipOnboardingStep=function(e){return v.TG.StepName.isTooltipOnboardingStep(e.name)}}(i||(i={}));class C{constructor(e){var t,n,i,g,x,C;this._params=e,this._subs=new o.w,this._assistantElements=y.h.create({}),this._externalElements=y.h.create({}),this._hideAssistantTooltips=y.h.create(!1),this._nextCandidateStep=y.h.create(a.none),this._uiActions=new s.xQ,this.uiActions=this._uiActions.asObservable(),this.activeStep=y.h.combine(this._nextCandidateStep,this._assistantElements,this._externalElements,this._hideAssistantTooltips,((e,t,n,i)=>(0,r.zG)(e,a.chain((e=>function(e,t,n,i){switch(e){case v.TG.StepName.initial:return(0,r.zG)(a.fromNullable(n[v.nF.initialPopupAnchor]),a.map((e=>({name:v.TG.StepName.initial,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!0}))));case v.TG.StepName.initialBTS:return(0,r.zG)(a.fromNullable(n[v.nF.initialBTSPopupAnchor]),a.map((e=>({name:v.TG.StepName.initialBTS,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!0}))));case v.TG.StepName.rewrite:return(0,r.zG)(a.fromNullable(n[v.nF.rewriteTooltipAnchor]),a.map((e=>({name:v.TG.StepName.rewrite,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!0}))));case v.TG.StepName.prompts:return(0,r.zG)(a.fromNullable(t[v.ec.initialActionsList]),a.map((e=>({name:v.TG.StepName.prompts,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!i}))));case v.TG.StepName.review:return(0,r.zG)(a.fromNullable(t[v.ec.followUpActionsList]),a.map((e=>({name:v.TG.StepName.review,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!i}))));case v.TG.StepName.knowledgeHub:return(0,r.zG)(a.fromNullable(t[v.ec.promptInput]),a.map((e=>({name:v.TG.StepName.knowledgeHub,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!i}))));case v.TG.StepName.references:return(0,r.zG)(a.fromNullable(t[v.ec.referencesList]),a.map((e=>({name:v.TG.StepName.references,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!i}))));case v.TG.StepName.history:return(0,r.zG)(a.fromNullable(t[v.ec.historyButton]),a.map((e=>({name:v.TG.StepName.history,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!i}))));default:return(0,b.L0)(e)}}(e,t,n,i)))))),this.promptsAllocated=this._params.promptsAllocated,this._subs.add((t=this.activeStep,n=this._params.upstreamOnboardingState,i=this._params.session,g=this._params.textStats,x=this._params.forceDisabledOnboardingSteps,C=this._params.client,p.aj([i,n,g.pipe(S()),i.pipe(c.U(a.isSome),h.x(),f.M(n),c.U((([e,t])=>e?a.some(t):a.none)))]).pipe(c.U((([e,n,i,o])=>{if(a.isNone(e)){if(!x.has(v.TG.StepName.initial)&&(0,r.zG)(n.initial[C],(({completed:e,lastSeen:t})=>!e&&void 0===t)))return a.some(v.TG.StepName.initial);if(!x.has(v.TG.StepName.rewrite)&&!n.rewrite[C].completed&&n.initial[C].completed&&i>=30)return a.some(v.TG.StepName.rewrite);const e=!(0,r.zG)(t.get(),a.map((e=>e.name===v.TG.StepName.initial)),a.getOrElse(r.jv))&&!x.has(v.TG.StepName.initialBTS)&&!n.initialBTS[C].completed&&void 0===n.initialBTS[C].lastSeen;return!n.initial[C].completed&&n.initial[C].lastSeen,e?a.some(v.TG.StepName.initialBTS):a.none}return v.Zq.Step.anyClientCompleted(n.prompts)||x.has(v.TG.StepName.prompts)?v.Zq.Step.anyClientCompleted(n.review)||x.has(v.TG.StepName.review)?v.Zq.Step.anyClientCompleted(n.history)||x.has(v.TG.StepName.history)||!k(o)?v.Zq.Step.anyClientCompleted(n.knowledgeHub)||x.has(v.TG.StepName.knowledgeHub)||!k(o)?v.Zq.Step.anyClientCompleted(n.references)||x.has(v.TG.StepName.references)||!k(o)?a.none:a.some(v.TG.StepName.references):a.some(v.TG.StepName.knowledgeHub):a.some(v.TG.StepName.history):a.some(v.TG.StepName.review):a.some(v.TG.StepName.prompts)})))).subscribe(l.wW(this._nextCandidateStep))),this._subs.add(this._params.assistantMountActions.subscribe((({name:e,element:t})=>this._assistantElements.modify((n=>Object.assign(Object.assign({},n),{[e]:{reference:t,placement:e===v.ec.historyButton?"bottom":"left"}})))))),this._subs.add(this._params.assistantUnmountActions.subscribe((({name:e})=>this._assistantElements.modify((t=>Object.assign(Object.assign({},t),{[e]:void 0})))))),this._subs.add(this._params.externalElements.subscribe(l.wW(this._externalElements))),this._subs.add(this._params.hideAssistantOnboardingTooltips.subscribe(l.wW(this._hideAssistantTooltips))),this._subs.add(this._params.session.pipe(c.U(a.isSome),d.O(!1),u.G(),m.h((([e,t])=>e&&!t))).subscribe((()=>this._assistantElements.set({}))))}notify(e){this._uiActions.next(e)}dispose(){this._subs.unsubscribe()}}function k(e){return(0,r.zG)(e,a.fold(r.jv,(({prompts:e,review:t})=>{const n={prompts:v.Zq.Step.anyClientCompleted(e),review:v.Zq.Step.anyClientCompleted(t)};return Object.values(n).every(r.yR)})))}function S(){return(0,r.ls)(g.oA,c.U((e=>e.wordCount)),d.O(0),u.G(),x.R(((e,[t,n])=>(0,r.zG)(Math.abs(n-t),(t=>t<=2?e+t:e))),0),d.O(0),h.x())}var w,E=n(64015),O=n(66310),_=n(80544),B=n(79692),N=n(2834),G=n(24209),I=n(17343),P=n(40151),A=n(8125),U=n(83078);function z(e,t,n,i,a=1e3){return e.pipe(m.h(v.lG.is(v.lG.Kind.mount)),m.h((e=>n(e.step))),O.w((({step:e})=>t.pipe(c.U(U.contains(e)),O.w((e=>e?i.pipe(I.h(Date.now())):P.E)),m.h((e=>Date.now()-e>=a)),I.h(e)))))}!function(e){e.completeInitialOrRewriteStepOnSessionInit=({session:e})=>e.pipe(d.O(a.none),u.G(),c.U((([e,t])=>a.isNone(e)&&a.isSome(t)?a.some(t):a.none)),g.oA,O.w((e=>(0,r.zG)([a.some(v.TG.StepName.initial),v.wR.isRewriteOrQuickRewrite(e.value.mode)?a.some(v.TG.StepName.rewrite):a.none],E.oA)))),e.completeReviewStepOnSecondResultReceived=({session:e,activeStep:t})=>e.pipe(c.U((0,r.ls)(a.chain(v.z_.toStarted),a.fold((()=>0),(e=>e.results.length)))),u.G(),m.h((([e,t])=>1===e&&2===t)),f.M(t),c.U((([e,t])=>(0,r.zG)(t,a.filter((e=>e===v.TG.StepName.review))))),g.oA),e.completeActiveAssistantStepOnSessionEnd=({session:e,activeStep:t,visibleForMs:n,onboardingUIActions:i})=>z(i,t.pipe(_.QV(B.E)),v.TG.StepName.isAssistantOnboardingStep,e.pipe(u.G(),m.h((([e,t])=>a.isSome(e)&&a.isNone(t)))),n),e.completeStepOnCloseClick=({onboardingUIActions:e,trackingService:t})=>e.pipe(m.h(v.lG.is(v.lG.Kind.close)),c.U((e=>(e.step===v.TG.StepName.initial&&t.trackOnboardingPopupSkip(),e.step===v.TG.StepName.initialBTS&&t.trackBTSOnboardingPopupSkip(),e.step)))),e.completeInitialStepOnTryItOutClick=({onboardingUIActions:e,trackingService:t})=>e.pipe(m.h(v.lG.is(v.lG.Kind.tryItOut)),c.U((e=>(e.step===v.TG.StepName.initial&&t.trackOnboardingPopupNext(),e.step===v.TG.StepName.initialBTS&&t.trackBTSOnboardingPopupNext(),e.step)))),e.completeReviewStepOnResultInteraction=({assistantUIActions:e})=>e.pipe(m.h(v.ix.isResultAction),m.h((e=>v.x4.isStandardCompletedResult(e.result))),c.U((()=>v.TG.StepName.review))),e.completeHistoryStepOnHistoryRestore=({assistantUIActions:e})=>e.pipe(m.h(v.ix.is(v.ix.Kind.restoreHistoryButtonClick)),c.U((()=>v.TG.StepName.history))),e.completeAssistantStepsOnUserActions=({assistantUIActions:e,activeStep:t})=>e.pipe(m.h((0,A.Kg)(v.ix.is(v.ix.Kind.actionBrickClick),v.ix.is(v.ix.Kind.promptSubmitButtonClick),v.ix.is(v.ix.Kind.promptFieldKeyPressEnter),v.ix.is(v.ix.Kind.toolbarVoiceButtonClick),v.ix.is(v.ix.Kind.setVoiceButtonClick),v.ix.is(v.ix.Kind.openFeedbackFormButtonClick))),f.M(t),c.U((([e,t])=>(0,r.zG)(t,a.filter(v.TG.StepName.isAssistantOnboardingStep)))),g.oA),e.completeInitialStepOnDispose=({onboardingUIActions:e,activeStep:t,disposed:n,visibleForMs:i})=>z(e,t,(e=>e===v.TG.StepName.initial||e===v.TG.StepName.initialBTS),n,i);const t=e=>t=>n=>t(n).pipe(N.b((t=>{var i;return null===(i=n.logger)||void 0===i?void 0:i.debug(`${e} - step to complete: ${t}`)})));function n(e){return e.pipe(x.R(((e,t)=>({seen:new Set(e.seen).add(t),step:e.seen.has(t)?a.none:a.some(t)})),{seen:new Set,step:a.none}),c.U((e=>e.step)),g.oA)}e.defaultCompletionSources=[t("session init")(e.completeInitialOrRewriteStepOnSessionInit),t("second result received")(e.completeReviewStepOnSecondResultReceived),t("session end")(e.completeActiveAssistantStepOnSessionEnd),t("user closed step")(e.completeStepOnCloseClick),t("user clicked try-it-out")(e.completeInitialStepOnTryItOutClick),t("user interacted with results")(e.completeReviewStepOnResultInteraction),t("user interacted with assistant")(e.completeAssistantStepsOnUserActions),t("user restored history")(e.completeHistoryStepOnHistoryRestore),t("feature disposed")(e.completeInitialStepOnDispose)],e.extractStepsToComplete=function(e,t){return G.T(...e.map((e=>e(t)))).pipe(n)}}(w||(w={}));var T=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]])}return n};class R extends C{constructor(e,t){super(e),this._onDispose=t}dispose(){super.dispose(),this._onDispose()}}function F(e){var{assistantUIActions:t,trackingService:n,completeOnboardingStep:i,stepCompletionSources:r,disposed:s,logger:l}=e,c=T(e,["assistantUIActions","trackingService","completeOnboardingStep","stepCompletionSources","disposed","logger"]);const d=new o.w,u=new R(Object.assign(Object.assign({},c),{assistantMountActions:t.pipe(m.h(v.ix.is(v.ix.Kind.mount))),assistantUnmountActions:t.pipe(m.h(v.ix.is(v.ix.Kind.unmount)))}),(()=>d.unsubscribe()));return d.add(w.extractStepsToComplete(null!=r?r:w.defaultCompletionSources,{onboardingUIActions:u.uiActions,assistantUIActions:t,activeStep:u.activeStep.view(a.map((e=>e.name))),session:c.session,trackingService:n,disposed:s,logger:l}).subscribe(i)),d.add(function(e,t){return e.pipe(m.h(v.lG.is(v.lG.Kind.mount)),N.b((e=>{switch(e.step){case v.TG.StepName.initial:return t.trackOnboardingPopupView();case v.TG.StepName.initialBTS:return t.trackBTSOnboardingPopupView();case v.TG.StepName.prompts:return t.trackOnboardingPromptsTooltipView();case v.TG.StepName.review:return t.trackOnboardingReviewTooltipView();case v.TG.StepName.rewrite:return t.trackOnboardingRewriteTooltipView();case v.TG.StepName.knowledgeHub:return t.trackOnboardingKnowledgeHubTooltipView();case v.TG.StepName.references:return t.trackOnboardingReferencesTooltipView();case v.TG.StepName.history:return t.trackOnboardingHistoryTooltipView();default:return(0,b.L0)(e.step)}})))}(u.uiActions,n).subscribe()),u}var V=n(34217),j=n(27378),D=n(13578),$=n(90845),K=n(85784),M=n(74204),L=n(62172),H=n(88392),Z=n(89894),W=n(12187),Y=n(37360);const q=j.forwardRef((function({placement:e,style:t,arrowColor:n},i){return j.createElement("div",{ref:i,style:{width:33}},j.createElement("svg",{width:33,height:12,viewBox:"0 0 33 12.5",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:Object.assign(Object.assign(Object.assign({position:"absolute"},t),{transform:`${(null==t?void 0:t.transform)||""} rotate(${X(e)}deg)`.trimStart()}),Q(e))},j.createElement("path",{d:"M0.5 3.41877e-07C3.5 3.41877e-07 29.5 3.41877e-07 32.5 3.41877e-07C28.5 3.41877e-07 26.4111 0.903505 24.1814 3.69994L17.5562 11.4728C16.957 12.1757 15.8652 12.1757 15.2661 11.4728L8.64084 3.69994C6.41113 0.903505 4.5 3.41877e-07 0.5 3.41877e-07Z",fill:n||"white"})))}));function X(e){return(null==e?void 0:e.startsWith("right"))?90:(null==e?void 0:e.startsWith("bottom"))?180:(null==e?void 0:e.startsWith("left"))?270:0}function Q(e){return(null==e?void 0:e.startsWith("bottom"))?{top:-12}:(null==e?void 0:e.startsWith("top"))?{bottom:-12}:(null==e?void 0:e.startsWith("right"))?{transformOrigin:"top left",top:-16.5,left:0}:(null==e?void 0:e.startsWith("left"))?{transformOrigin:"top right",top:-16.5,right:0}:{}}const J=(0,W.xb)((({reference:e,placement:t,offset:n,boundaryAreaPadding:i,className:a,arrowColor:r,children:o})=>{const[s,l]=j.useState(null),[c,d]=j.useState(null),u=(0,Y.sJ)(),{styles:m,attributes:p,state:h}=(0,M.D)(e,s,{placement:t,modifiers:[{name:"offset",options:{offset:[0,12+(null!=n?n:0)]}},{name:"arrow",options:{element:c,padding:12}},{name:"preventOverflow",options:{padding:null!=i?i:5}},u]});return j.createElement("div",Object.assign({dir:"ltr",ref:l,style:m.popper},p.popper,(0,W.Sh)(te,a)),j.createElement(q,{ref:d,style:m.arrow,placement:null==h?void 0:h.placement,arrowColor:r}),o)})),ee=e=>Z.ux.color(L.BlueGray40).toRGBA().fade(e).toString(),te=Z.ux.style({filter:`drop-shadow(0px 0px 0.5px ${L.BlueGray40}) drop-shadow(0px 0px 2px ${ee(.5)}) drop-shadow(0px 1px 6px ${ee(.25)})`,borderRadius:Z.ux.rem(H.xB+H.fe)});var ne=n(9546);const ie=({className:e})=>j.createElement("span",Object.assign({},(0,W.Sh)(ae,e)),"New"),ae=Z.ux.style({color:D.S5.Content.OnPrimary.Default,fontWeight:700,fontSize:Z.ux.rem(.75),lineHeight:Z.ux.rem(1),justifyContent:"center",alignItems:"center",background:"linear-gradient(226.37deg, #BBD86D 0%, #41D9B5 100%)",borderRadius:Z.ux.rem(H.HP),padding:`${Z.ux.rem(ne.yC)} ${Z.ux.rem(ne.x)}`,textTransform:"uppercase",width:"fit-content",cursor:"default"});var re=n(13004);const oe="tryItOutBtn",se="skipBtn",le=Z.ux.rem(H.xB+H.fe),ce={width:Z.ux.rem(25.875),background:D.XY.Surface.Primary.Default},de={display:"flex",alignItems:"center",justifyContent:"center",height:Z.ux.rem(14.5625),width:"100%",backgroundColor:"#00231F",backgroundImage:"url(https://assets.grammarly.com/icons/v1/cheetah-onboarding.2x.png)",backgroundPosition:`top ${Z.ux.rem(1)} left 0`,backgroundSize:"100%",backgroundRepeat:"no-repeat",borderTopLeftRadius:le,borderTopRightRadius:le},ue={display:"flex",flexDirection:"column",gap:Z.ux.rem(ne.F2),padding:`${Z.ux.rem(ne.mh)} ${Z.ux.rem(ne.x0)} ${Z.ux.rem(ne.sD)} ${Z.ux.rem(ne.sD)}`,color:D.XY.Content.Primary.Default},me={display:"flex",flexDirection:"row",alignItems:"center",gap:Z.ux.rem(ne.x),fontWeight:"bold",fontSize:Z.ux.rem(1),lineHeight:Z.ux.rem(1.5)},pe={fontSize:Z.ux.rem(.875),lineHeight:Z.ux.rem(1.375)},he={display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",borderBottomLeftRadius:le,borderBottomRightRadius:le,padding:`${Z.ux.rem(ne.qp)} ${Z.ux.rem(ne.sD)} ${Z.ux.rem(ne.qp)} ${Z.ux.rem(ne.sD)}`,backgroundColor:D.XY.Surface.Secondary.Default,color:D.XY.Content.Secondary.Default,fontSize:Z.ux.rem(.875),lineHeight:Z.ux.rem(1.3125),$nest:{a:{color:"inherit"}}},fe={width:Z.ux.rem(12),lineHeight:Z.ux.rem(1.25)},ge=Object.assign({marginRight:Z.ux.rem(.5)},re.Es.buttonOverrideSpecificity({fontSize:Z.ux.rem(.875)},se)),xe=re.Es.buttonOverrideSpecificity({fontSize:Z.ux.rem(.875),fontWeight:"bold"},oe),be={position:"absolute",top:Z.ux.rem(ne.x),right:Z.ux.rem(ne.x)},ye=Z.ux.style(ce),ve=Z.ux.style(de),Ce=Z.ux.style(ue),ke=Z.ux.style(me),Se=Z.ux.style(pe),we=Z.ux.style(he),Ee=Z.ux.style(fe),Oe=Z.ux.style({display:"flex",flexDirection:"row",alignItems:"flex-end"}),_e=Z.ux.joinClasses([se,Z.ux.style(ge)]),Be=Z.ux.joinClasses([oe,Z.ux.style(xe)]),Ne=Z.ux.style({display:"inline"}),Ge=Z.ux.style(be),Ie=(e=v.TG.StepName.initial)=>V.UI.Grid.make((({slots:t,view:n,notify:i})=>{const{ref:a,onMount:r}=$.P.useElWatcher(),o=j.useMemo((()=>a.pipe(_.QV(B.E),g.oA,N.b((t=>i({kind:v.lG.Kind.mount,step:e,element:t})())))),[a]);return $.P.useSubscriptionTo(o),j.createElement(J,{className:ye,reference:n("reference"),placement:n("placement"),offset:n("offset"),boundaryAreaPadding:n("boundaryAreaPadding"),arrowColor:D.XY.Surface.Secondary.Default},j.createElement("div",{ref:r},t.content),j.createElement("div",{className:we},j.createElement("div",{className:Ee},t.footerText),j.createElement("div",{className:Oe},j.createElement(K.zx.Tertiary,{onClick:i({kind:v.lG.Kind.close,step:e}),className:_e,name:"skip"},"Skip"),j.createElement(K.zx.Primary,{onClick:i({kind:v.lG.Kind.tryItOut,step:e}),className:Be,name:"tryItOut"},"Try it out"))))})),Pe=V.UI.Node.make((({notify:e})=>j.createElement(j.Fragment,null,j.createElement(K.xx,{onClick:e({kind:v.lG.Kind.close,step:v.TG.StepName.initial}),name:"onboardingClose",size:"medium",className:Ge}),j.createElement("div",{className:ve},j.createElement(K.rN,null)),j.createElement("div",{className:Ce},j.createElement("div",{className:ke},j.createElement("div",null,"Write faster with GrammarlyGO"),j.createElement(K.Ct,null,"Beta")),j.createElement("div",{className:Se},"Brainstorm, write, and rewrite with generative AI assistance at your fingertips."))))),Ae=V.UI.Node.make((()=>j.createElement(j.Fragment,null,"If you use GrammarlyGO,"," ",j.createElement(K.dL,{href:"https://grammarly.com/terms",className:Ne},"additional terms")," ","apply."))),Ue=V.UI.Knot.make(Ie(),{content:Pe,footerText:Ae}),ze=V.UI.Node.make((({notify:e})=>j.createElement(j.Fragment,null,j.createElement(K.qq,{onClick:e({kind:v.lG.Kind.close,step:v.TG.StepName.initial}),name:"onboardingClose",size:"medium",className:Ge}),j.createElement("div",{className:Ce},j.createElement(ie,null),j.createElement("div",{className:ke},j.createElement("div",null,"Write faster with GrammarlyGO"),j.createElement(K.Ct,null,"Beta")),j.createElement("div",{className:Se},"Brainstorm, write, and rewrite with generative AI assistance at your fingertips."))))),Te=V.UI.Knot.make(Ie(),{content:ze,footerText:Ae}),Re=V.UI.Node.make((({notify:e})=>j.createElement(j.Fragment,null,j.createElement(K.qq,{onClick:e({kind:v.lG.Kind.close,step:v.TG.StepName.initialBTS}),name:"onboardingClose",size:"medium",className:Ge}),j.createElement("div",{className:Ce},j.createElement(ie,null),j.createElement("div",{className:ke},j.createElement("div",null,"Write better papers faster (for free!)")),j.createElement("div",{className:Se},"Start with a brainstorm, then get instant feedback, revisions, and citations to ace your assignment."))))),Fe=V.UI.Knot.make(Ie(v.TG.StepName.initialBTS),{content:Re,footerText:V.UI.Node.empty}),Ve=e=>V.Z.fromSideEffect((t=>e.notify(t)),e.activeStep.pipe(g.oA)),je=e=>{const t=Ve(e);return V.Z.composeKnot({root:t,content:t,footerText:t})},De=e=>{const t=Ve(e);return V.Z.composeKnot({root:t,content:t,footerText:t})};function $e(e){switch(e){case v.TG.StepName.knowledgeHub:return Z.ux.rem(16);case v.TG.StepName.references:return Z.ux.rem(17.8);default:return Z.ux.rem(13.75)}}const Ke=(0,W.xb)((({reference:e,placement:t,offset:n,boundaryAreaPadding:i,children:a,name:r})=>j.createElement(K.J2,{reference:e,placement:t,offset:n,boundaryAreaPadding:i,theme:{bgColor:L.Green80,fgColor:D.S5.Content.Primary.Default,padding:Z.ux.rem(ne.mh),width:$e(r)}},a))),Me={[v.TG.StepName.prompts]:{title:"Start with a prompt",description:e=>e?`Choose a suggested prompt, or type your own to get started. You’ll get ${Number(e).toLocaleString()} each month.`:"Choose a suggested prompt, or type your own to get started."},[v.TG.StepName.review]:{title:"How does this sound?",description:"Adjust it to your liking with additional prompts. Don’t forget to check for any inaccuracies. "},[v.TG.StepName.rewrite]:{title:"Want help rewriting?",description:"Select your text to rewrite it with GrammarlyGO."},[v.TG.StepName.knowledgeHub]:{title:"Using organizational language?",description:"Prompt GrammarlyGO using terms and project names from Knowledge Share to automatically insert organizational context."},[v.TG.StepName.references]:{title:"GrammarlyGO now incorporates your organizational knowledge",description:"Review the references for accuracy and relevance and regenerate the response without any references that seem irrelevant or outdated."},[v.TG.StepName.history]:{title:"Return to recent history",description:"Pick up where you left off with your latest prompts."}},Le=V.UI.Node.make((({state:e,view:t,notify:n})=>{const{ref:i,onMount:a}=$.P.useElWatcher(),r=j.useMemo((()=>i.pipe(g.oA,f.M(t("name")),_.QV(B.E),c.U((([e,t])=>({element:e,stepName:t}))),N.b((({element:e,stepName:t})=>n({kind:v.lG.Kind.mount,step:t,element:e})())))),[i]);return $.P.useSubscriptionTo(r),j.createElement(Ke,{name:t("name"),reference:t("reference"),placement:t("placement"),offset:t("offset"),boundaryAreaPadding:t("boundaryAreaPadding")},e.pipe(c.U((e=>j.createElement(j.Fragment,null,j.createElement(K.xx,{onClick:n({kind:v.lG.Kind.close,step:e.name}),name:"tooltipClose",className:We,size:"small"}),j.createElement("div",{className:Ze},Me[e.name].title),j.createElement("div",{ref:a},e.name===v.TG.StepName.prompts?Me[e.name].description(e.promptsAllocated):Me[e.name].description))))))})),He=V.UI.Union.asOption(Le),Ze=Z.ux.style({fontWeight:700}),We=Z.ux.style({position:"absolute",top:Z.ux.rem(ne.x),right:Z.ux.rem(ne.x)});function Ye(e){return V.Z.composeOption(function(e){return V.Z.fromSideEffect((t=>e.notify(t)),e.activeStep.pipe(g.oA,m.h(i.isTooltipOnboardingStep),f.M(e.promptsAllocated.pipe(c.U(a.toUndefined))),c.U((([e,t])=>Object.assign(Object.assign({},e),{promptsAllocated:t})))))}(e),(()=>e.activeStep.pipe(c.U(a.filter(i.isTooltipOnboardingStep)))))}const qe=V.UI.Union.make("kind",{none:V.UI.Node.empty,initial:Ue,initialBTS:Fe,tooltip:He});V.UI.Union.make("kind",{none:V.UI.Node.empty,initial:Te,initialBTS:Fe,tooltip:He});var Xe=n(76974);function Qe(e){return V.Z.composeUnion({none:()=>Xe.of(null),initial:je(e),initialBTS:De(e),tooltip:Ye(e)},(()=>e.activeStep.view(Je).view((e=>({kind:e})))))}function Je(e){return(0,r.zG)(e,a.filter((e=>e.show)),a.fold((()=>"none"),(e=>{switch(e.name){case v.TG.StepName.initial:return"initial";case v.TG.StepName.initialBTS:return"initialBTS";case v.TG.StepName.prompts:case v.TG.StepName.review:case v.TG.StepName.rewrite:case v.TG.StepName.knowledgeHub:case v.TG.StepName.references:case v.TG.StepName.history:return"tooltip";default:return(0,b.L0)(e.name)}})))}},56377:(e,t,n)=>{n.d(t,{L:()=>l});var i,a=n(59312),r=n(27378),o=n(12187),s=n(89894),l=function(e){var t=e.double,n=e.triple,i=e.small;return r.createElement("div",(0,a.__assign)({},(0,o.Sh)(u,!0===t&&p,!0===n&&f,!0===i&&g)))},c=.875,d="spacer",u=s.ux.joinClasses([d,s.ux.style({margin:0,minHeight:s.ux.rem(c),maxHeight:s.ux.rem(1),width:s.ux.percent(100),height:s.ux.rem(1)})]),m="spacerDouble",p=s.ux.joinClasses([m,s.ux.style({minHeight:s.ux.rem(1.75),maxHeight:s.ux.rem(2),height:s.ux.rem(2)})]),h="spacerTriple",f=s.ux.joinClasses([h,s.ux.style({minHeight:s.ux.rem(2.625),maxHeight:s.ux.rem(3),height:s.ux.rem(3)})]),g=s.ux.style({$nest:(i={},i["&.".concat(d)]={minHeight:s.ux.rem(.4375),maxHeight:s.ux.rem(.5),height:s.ux.rem(.5)},i["&.".concat(m)]={minHeight:s.ux.rem(c),maxHeight:s.ux.rem(1),height:s.ux.rem(1)},i["&.".concat(h)]={minHeight:s.ux.rem(1.3125),maxHeight:s.ux.rem(1.5),height:s.ux.rem(1.5)},i)})},51369:(e,t,n)=>{n.d(t,{X:()=>N});var i,a=n(59312),r=n(27378),o=n(57050),s=n(5114),l=n(19962),c=n(44060),d=n(11413),u=n(89894),m=n(32096),p=n(40327),h=n(5739),f=n(49708),g=n(85985),x=n(41398),b=n(24209),y=n(17343),v=n(98403),C=n(38194),k=n(598),S=n(50628),w=n(25781),E=n(83078),O=n(18625);!function(e){var t="scrollaction";e.emit=function(e){return self.dispatchEvent(new CustomEvent(t,{detail:e}))},e.observe=O.P((function(){return f.R(self,t)}))}(i||(i={}));var _=n(42103),B=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._subs=[],t._outOfTarget=function(e){return function(t){return!l.Rect.hasPoint(t.getBoundingClientRect(),e)}},t}return(0,a.__extends)(t,e),t.prototype.componentDidMount=function(){this._listenTooltipAppearance()},t.prototype.componentWillUnmount=function(){this._subs.forEach((function(e){return e.unsubscribe()})),this._subs=[],this.context.hide()},t.prototype.render=function(){return r.createElement(h.F.div,{"data-role":"tooltip"},this.context.state.view(this.props.children))},t.prototype._listenTooltipAppearance=function(){var e=this,t=f.R(document,"keydown").pipe(g.h((function(e){return e.keyCode===w.R.ESC_CODE}))),n=f.R(document,"mousedown").pipe(x.M(this.context.state),g.h((function(t){var n=t[0],i=t[1];return(0,p.pipe)(i,s.map((function(e){return e.target})),s.filter((function(){return l.isDisabled(n.target)})),E.forAll(e._outOfTarget({x:n.clientX,y:n.clientY})))}))),a=b.T(t,n,f.R(document,"scroll"),i.observe.pipe(g.h((function(e){return"show"===e.detail})))).pipe(y.h(v.PU),C.B());this._subs=[this.context.hasContent.pipe(g.h(Boolean),k.c(a.pipe(S.P()))).subscribe(this.context.hide),this.context.hasContent.pipe(g.h(Boolean),k.c(b.T(v.gw(!0,500),a.pipe(y.h(!1))).pipe(S.P())),g.h(Boolean)).subscribe(this.context.show)]},t.contextType=_.G.Context,t}(r.Component),N=function(){return r.createElement(B,null,(0,o.ls)(s.map((function(e){return r.createElement(d.t.ByAbsoluteRect,(0,a.__assign)({rect:l.Rect.fromEl(e.target),className:P.container},d.t.Alignment.toSelector(e.alignment),{withPin:!0}),r.createElement("div",{className:P.content},e.content))})),s.toNullable))},G={position:"fixed",zIndex:m.DY,pointerEvents:"none",$nest:{"@media print":{visibility:"hidden"}}},I={padding:"".concat(u.ux.rem(.25)," ").concat(u.ux.rem(1)),borderRadius:u.ux.rem(m.fx),background:c.Il.BackgroundTooltip,color:c.Il.CoreNeutral1,textAlign:"center",whiteSpace:"nowrap",letterSpacing:u.ux.px(.25),fontSize:u.ux.rem(.75),lineHeight:u.ux.rem(1)},P=u.ux.stylesheet({container:[G],content:[I]})}}]);